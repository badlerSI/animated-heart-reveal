(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))o(m);new MutationObserver(m=>{for(const v of m)if(v.type==="childList")for(const E of v.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&o(E)}).observe(document,{childList:!0,subtree:!0});function f(m){const v={};return m.integrity&&(v.integrity=m.integrity),m.referrerPolicy&&(v.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?v.credentials="include":m.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function o(m){if(m.ep)return;m.ep=!0;const v=f(m);fetch(m.href,v)}})();var Ru={exports:{}},Vn={};var a0;function Dh(){if(a0)return Vn;a0=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function f(o,m,v){var E=null;if(v!==void 0&&(E=""+v),m.key!==void 0&&(E=""+m.key),"key"in m){v={};for(var A in m)A!=="key"&&(v[A]=m[A])}else v=m;return m=v.ref,{$$typeof:u,type:o,key:E,ref:m!==void 0?m:null,props:v}}return Vn.Fragment=r,Vn.jsx=f,Vn.jsxs=f,Vn}var n0;function kh(){return n0||(n0=1,Ru.exports=Dh()),Ru.exports}var s=kh(),qu={exports:{}},ue={};var s0;function Lh(){if(s0)return ue;s0=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=U&&x[U]||x["@@iterator"],typeof x=="function"?x:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,J={};function H(x,D,Y){this.props=x,this.context=D,this.refs=J,this.updater=Y||G}H.prototype.isReactComponent={},H.prototype.setState=function(x,D){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,D,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function P(){}P.prototype=H.prototype;function Q(x,D,Y){this.props=x,this.context=D,this.refs=J,this.updater=Y||G}var R=Q.prototype=new P;R.constructor=Q,B(R,H.prototype),R.isPureReactComponent=!0;var te=Array.isArray;function be(){}var ie={H:null,A:null,T:null,S:null},Ne=Object.prototype.hasOwnProperty;function Ue(x,D,Y){var K=Y.ref;return{$$typeof:u,type:x,key:D,ref:K!==void 0?K:null,props:Y}}function Z(x,D){return Ue(x.type,D,x.props)}function le(x){return typeof x=="object"&&x!==null&&x.$$typeof===u}function de(x){var D={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Y){return D[Y]})}var ve=/\/+/g;function Oe(x,D){return typeof x=="object"&&x!==null&&x.key!=null?de(""+x.key):D.toString(36)}function $(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(be,be):(x.status="pending",x.then(function(D){x.status==="pending"&&(x.status="fulfilled",x.value=D)},function(D){x.status==="pending"&&(x.status="rejected",x.reason=D)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function S(x,D,Y,K,ce){var fe=typeof x;(fe==="undefined"||fe==="boolean")&&(x=null);var we=!1;if(x===null)we=!0;else switch(fe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(x.$$typeof){case u:case r:we=!0;break;case _:return we=x._init,S(we(x._payload),D,Y,K,ce)}}if(we)return ce=ce(x),we=K===""?"."+Oe(x,0):K,te(ce)?(Y="",we!=null&&(Y=we.replace(ve,"$&/")+"/"),S(ce,D,Y,"",function(Tt){return Tt})):ce!=null&&(le(ce)&&(ce=Z(ce,Y+(ce.key==null||x&&x.key===ce.key?"":(""+ce.key).replace(ve,"$&/")+"/")+we)),D.push(ce)),1;we=0;var Fe=K===""?".":K+":";if(te(x))for(var Be=0;Be<x.length;Be++)K=x[Be],fe=Fe+Oe(K,Be),we+=S(K,D,Y,fe,ce);else if(Be=V(x),typeof Be=="function")for(x=Be.call(x),Be=0;!(K=x.next()).done;)K=K.value,fe=Fe+Oe(K,Be++),we+=S(K,D,Y,fe,ce);else if(fe==="object"){if(typeof x.then=="function")return S($(x),D,Y,K,ce);throw D=String(x),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return we}function L(x,D,Y){if(x==null)return x;var K=[],ce=0;return S(x,K,"","",function(fe){return D.call(Y,fe,ce++)}),K}function q(x){if(x._status===-1){var D=x._result;D=D(),D.then(function(Y){(x._status===0||x._status===-1)&&(x._status=1,x._result=Y)},function(Y){(x._status===0||x._status===-1)&&(x._status=2,x._result=Y)}),x._status===-1&&(x._status=0,x._result=D)}if(x._status===1)return x._result.default;throw x._result}var ae=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},pe={map:L,forEach:function(x,D,Y){L(x,function(){D.apply(this,arguments)},Y)},count:function(x){var D=0;return L(x,function(){D++}),D},toArray:function(x){return L(x,function(D){return D})||[]},only:function(x){if(!le(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ue.Activity=C,ue.Children=pe,ue.Component=H,ue.Fragment=f,ue.Profiler=m,ue.PureComponent=Q,ue.StrictMode=o,ue.Suspense=w,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,ue.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ie.H.useMemoCache(x)}},ue.cache=function(x){return function(){return x.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(x,D,Y){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var K=B({},x.props),ce=x.key;if(D!=null)for(fe in D.key!==void 0&&(ce=""+D.key),D)!Ne.call(D,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&D.ref===void 0||(K[fe]=D[fe]);var fe=arguments.length-2;if(fe===1)K.children=Y;else if(1<fe){for(var we=Array(fe),Fe=0;Fe<fe;Fe++)we[Fe]=arguments[Fe+2];K.children=we}return Ue(x.type,ce,K)},ue.createContext=function(x){return x={$$typeof:E,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:v,_context:x},x},ue.createElement=function(x,D,Y){var K,ce={},fe=null;if(D!=null)for(K in D.key!==void 0&&(fe=""+D.key),D)Ne.call(D,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ce[K]=D[K]);var we=arguments.length-2;if(we===1)ce.children=Y;else if(1<we){for(var Fe=Array(we),Be=0;Be<we;Be++)Fe[Be]=arguments[Be+2];ce.children=Fe}if(x&&x.defaultProps)for(K in we=x.defaultProps,we)ce[K]===void 0&&(ce[K]=we[K]);return Ue(x,fe,ce)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(x){return{$$typeof:A,render:x}},ue.isValidElement=le,ue.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:q}},ue.memo=function(x,D){return{$$typeof:y,type:x,compare:D===void 0?null:D}},ue.startTransition=function(x){var D=ie.T,Y={};ie.T=Y;try{var K=x(),ce=ie.S;ce!==null&&ce(Y,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(be,ae)}catch(fe){ae(fe)}finally{D!==null&&Y.types!==null&&(D.types=Y.types),ie.T=D}},ue.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},ue.use=function(x){return ie.H.use(x)},ue.useActionState=function(x,D,Y){return ie.H.useActionState(x,D,Y)},ue.useCallback=function(x,D){return ie.H.useCallback(x,D)},ue.useContext=function(x){return ie.H.useContext(x)},ue.useDebugValue=function(){},ue.useDeferredValue=function(x,D){return ie.H.useDeferredValue(x,D)},ue.useEffect=function(x,D){return ie.H.useEffect(x,D)},ue.useEffectEvent=function(x){return ie.H.useEffectEvent(x)},ue.useId=function(){return ie.H.useId()},ue.useImperativeHandle=function(x,D,Y){return ie.H.useImperativeHandle(x,D,Y)},ue.useInsertionEffect=function(x,D){return ie.H.useInsertionEffect(x,D)},ue.useLayoutEffect=function(x,D){return ie.H.useLayoutEffect(x,D)},ue.useMemo=function(x,D){return ie.H.useMemo(x,D)},ue.useOptimistic=function(x,D){return ie.H.useOptimistic(x,D)},ue.useReducer=function(x,D,Y){return ie.H.useReducer(x,D,Y)},ue.useRef=function(x){return ie.H.useRef(x)},ue.useState=function(x){return ie.H.useState(x)},ue.useSyncExternalStore=function(x,D,Y){return ie.H.useSyncExternalStore(x,D,Y)},ue.useTransition=function(){return ie.H.useTransition()},ue.version="19.2.3",ue}var i0;function Pu(){return i0||(i0=1,qu.exports=Lh()),qu.exports}var p=Pu(),Yu={exports:{}},Zn={},Gu={exports:{}},Qu={};var c0;function Uh(){return c0||(c0=1,(function(u){function r(S,L){var q=S.length;S.push(L);e:for(;0<q;){var ae=q-1>>>1,pe=S[ae];if(0<m(pe,L))S[ae]=L,S[q]=pe,q=ae;else break e}}function f(S){return S.length===0?null:S[0]}function o(S){if(S.length===0)return null;var L=S[0],q=S.pop();if(q!==L){S[0]=q;e:for(var ae=0,pe=S.length,x=pe>>>1;ae<x;){var D=2*(ae+1)-1,Y=S[D],K=D+1,ce=S[K];if(0>m(Y,q))K<pe&&0>m(ce,Y)?(S[ae]=ce,S[K]=q,ae=K):(S[ae]=Y,S[D]=q,ae=D);else if(K<pe&&0>m(ce,q))S[ae]=ce,S[K]=q,ae=K;else break e}}return L}function m(S,L){var q=S.sortIndex-L.sortIndex;return q!==0?q:S.id-L.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;u.unstable_now=function(){return v.now()}}else{var E=Date,A=E.now();u.unstable_now=function(){return E.now()-A}}var w=[],y=[],_=1,C=null,U=3,V=!1,G=!1,B=!1,J=!1,H=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function R(S){for(var L=f(y);L!==null;){if(L.callback===null)o(y);else if(L.startTime<=S)o(y),L.sortIndex=L.expirationTime,r(w,L);else break;L=f(y)}}function te(S){if(B=!1,R(S),!G)if(f(w)!==null)G=!0,be||(be=!0,de());else{var L=f(y);L!==null&&$(te,L.startTime-S)}}var be=!1,ie=-1,Ne=5,Ue=-1;function Z(){return J?!0:!(u.unstable_now()-Ue<Ne)}function le(){if(J=!1,be){var S=u.unstable_now();Ue=S;var L=!0;try{e:{G=!1,B&&(B=!1,P(ie),ie=-1),V=!0;var q=U;try{t:{for(R(S),C=f(w);C!==null&&!(C.expirationTime>S&&Z());){var ae=C.callback;if(typeof ae=="function"){C.callback=null,U=C.priorityLevel;var pe=ae(C.expirationTime<=S);if(S=u.unstable_now(),typeof pe=="function"){C.callback=pe,R(S),L=!0;break t}C===f(w)&&o(w),R(S)}else o(w);C=f(w)}if(C!==null)L=!0;else{var x=f(y);x!==null&&$(te,x.startTime-S),L=!1}}break e}finally{C=null,U=q,V=!1}L=void 0}}finally{L?de():be=!1}}}var de;if(typeof Q=="function")de=function(){Q(le)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Oe=ve.port2;ve.port1.onmessage=le,de=function(){Oe.postMessage(null)}}else de=function(){H(le,0)};function $(S,L){ie=H(function(){S(u.unstable_now())},L)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(S){S.callback=null},u.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<S?Math.floor(1e3/S):5},u.unstable_getCurrentPriorityLevel=function(){return U},u.unstable_next=function(S){switch(U){case 1:case 2:case 3:var L=3;break;default:L=U}var q=U;U=L;try{return S()}finally{U=q}},u.unstable_requestPaint=function(){J=!0},u.unstable_runWithPriority=function(S,L){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var q=U;U=S;try{return L()}finally{U=q}},u.unstable_scheduleCallback=function(S,L,q){var ae=u.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ae+q:ae):q=ae,S){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=q+pe,S={id:_++,callback:L,priorityLevel:S,startTime:q,expirationTime:pe,sortIndex:-1},q>ae?(S.sortIndex=q,r(y,S),f(w)===null&&S===f(y)&&(B?(P(ie),ie=-1):B=!0,$(te,q-ae))):(S.sortIndex=pe,r(w,S),G||V||(G=!0,be||(be=!0,de()))),S},u.unstable_shouldYield=Z,u.unstable_wrapCallback=function(S){var L=U;return function(){var q=U;U=L;try{return S.apply(this,arguments)}finally{U=q}}}})(Qu)),Qu}var u0;function Bh(){return u0||(u0=1,Gu.exports=Uh()),Gu.exports}var Xu={exports:{}},ct={};var r0;function Hh(){if(r0)return ct;r0=1;var u=Pu();function r(w){var y="https://react.dev/errors/"+w;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+w+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var o={d:{f,r:function(){throw Error(r(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},m=Symbol.for("react.portal");function v(w,y,_){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:C==null?null:""+C,children:w,containerInfo:y,implementation:_}}var E=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(w,y){if(w==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ct.createPortal=function(w,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(r(299));return v(w,y,null,_)},ct.flushSync=function(w){var y=E.T,_=o.p;try{if(E.T=null,o.p=2,w)return w()}finally{E.T=y,o.p=_,o.d.f()}},ct.preconnect=function(w,y){typeof w=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,o.d.C(w,y))},ct.prefetchDNS=function(w){typeof w=="string"&&o.d.D(w)},ct.preinit=function(w,y){if(typeof w=="string"&&y&&typeof y.as=="string"){var _=y.as,C=A(_,y.crossOrigin),U=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?o.d.S(w,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:U,fetchPriority:V}):_==="script"&&o.d.X(w,{crossOrigin:C,integrity:U,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ct.preinitModule=function(w,y){if(typeof w=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=A(y.as,y.crossOrigin);o.d.M(w,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&o.d.M(w)},ct.preload=function(w,y){if(typeof w=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,C=A(_,y.crossOrigin);o.d.L(w,_,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ct.preloadModule=function(w,y){if(typeof w=="string")if(y){var _=A(y.as,y.crossOrigin);o.d.m(w,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else o.d.m(w)},ct.requestFormReset=function(w){o.d.r(w)},ct.unstable_batchedUpdates=function(w,y){return w(y)},ct.useFormState=function(w,y,_){return E.H.useFormState(w,y,_)},ct.useFormStatus=function(){return E.H.useHostTransitionStatus()},ct.version="19.2.3",ct}var o0;function Rh(){if(o0)return Xu.exports;o0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),Xu.exports=Hh(),Xu.exports}var d0;function qh(){if(d0)return Zn;d0=1;var u=Bh(),r=Pu(),f=Rh();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function E(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(v(e)!==e)throw Error(o(188))}function y(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return w(n),e;if(i===a)return w(n),t;i=i.sibling}throw Error(o(188))}if(l.return!==a.return)l=n,a=i;else{for(var c=!1,d=n.child;d;){if(d===l){c=!0,l=n,a=i;break}if(d===a){c=!0,a=n,l=i;break}d=d.sibling}if(!c){for(d=i.child;d;){if(d===l){c=!0,l=i,a=n;break}if(d===a){c=!0,a=i,l=n;break}d=d.sibling}if(!c)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,U=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Ue=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case H:return"Profiler";case J:return"StrictMode";case te:return"Suspense";case be:return"SuspenseList";case Ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case Q:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case R:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:Oe(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return Oe(e(t))}catch{}}return null}var $=Array.isArray,S=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},ae=[],pe=-1;function x(e){return{current:e}}function D(e){0>pe||(e.current=ae[pe],ae[pe]=null,pe--)}function Y(e,t){pe++,ae[pe]=e.current,e.current=t}var K=x(null),ce=x(null),fe=x(null),we=x(null);function Fe(e,t){switch(Y(fe,t),Y(ce,e),Y(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tf(t),e=Mf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(K),Y(K,e)}function Be(){D(K),D(ce),D(fe)}function Tt(e){e.memoizedState!==null&&Y(we,e);var t=K.current,l=Mf(t,e.type);t!==l&&(Y(ce,e),Y(K,l))}function aa(e){ce.current===e&&(D(K),D(ce)),we.current===e&&(D(we),Yn._currentValue=q)}var na,sa;function Gt(e){if(na===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||"",sa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+sa}var ia=!1;function ca(e,t){if(!e||ia)return"";ia=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(M){var T=M}Reflect.construct(e,[],k)}else{try{k.call()}catch(M){T=M}e.call(k.prototype)}}else{try{throw Error()}catch(M){T=M}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(M){if(M&&T&&typeof M.stack=="string")return[M.stack,T.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),c=i[0],d=i[1];if(c&&d){var h=c.split(`
`),N=d.split(`
`);for(n=a=0;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;for(;n<N.length&&!N[n].includes("DetermineComponentFrameRoot");)n++;if(a===h.length||n===N.length)for(a=h.length-1,n=N.length-1;1<=a&&0<=n&&h[a]!==N[n];)n--;for(;1<=a&&0<=n;a--,n--)if(h[a]!==N[n]){if(a!==1||n!==1)do if(a--,n--,0>n||h[a]!==N[n]){var z=`
`+h[a].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=a&&0<=n);break}}}finally{ia=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Gt(l):""}function Jn(e,t){switch(e.tag){case 26:case 27:case 5:return Gt(e.type);case 16:return Gt("Lazy");case 13:return e.child!==t&&t!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return ca(e.type,!1);case 11:return ca(e.type.render,!1);case 1:return ca(e.type,!0);case 31:return Gt("Activity");default:return""}}function Wn(e){try{var t="",l=null;do t+=Jn(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Fa=Object.prototype.hasOwnProperty,Ia=u.unstable_scheduleCallback,ua=u.unstable_cancelCallback,Ni=u.unstable_shouldYield,$n=u.unstable_requestPaint,ut=u.unstable_now,Fn=u.unstable_getCurrentPriorityLevel,In=u.unstable_ImmediatePriority,Pn=u.unstable_UserBlockingPriority,Hl=u.unstable_NormalPriority,es=u.unstable_LowPriority,ts=u.unstable_IdlePriority,wi=u.log,Ci=u.unstable_setDisableYieldValue,X=null,se=null;function F(e){if(typeof wi=="function"&&Ci(e),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(X,e)}catch{}}var Re=Math.clz32?Math.clz32:b0,Ti=Math.log,ra=Math.LN2;function b0(e){return e>>>=0,e===0?32:31-(Ti(e)/ra|0)|0}var ls=256,as=262144,ns=4194304;function Rl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ss(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var d=a&134217727;return d!==0?(a=d&~i,a!==0?n=Rl(a):(c&=d,c!==0?n=Rl(c):l||(l=d&~e,l!==0&&(n=Rl(l))))):(d=a&~i,d!==0?n=Rl(d):c!==0?n=Rl(c):l||(l=a&~e,l!==0&&(n=Rl(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Pa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function p0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(){var e=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),e}function Mi(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function en(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function j0(e,t,l,a,n,i){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var d=e.entanglements,h=e.expirationTimes,N=e.hiddenUpdates;for(l=c&~l;0<l;){var z=31-Re(l),k=1<<z;d[z]=0,h[z]=-1;var T=N[z];if(T!==null)for(N[z]=null,z=0;z<T.length;z++){var M=T[z];M!==null&&(M.lane&=-536870913)}l&=~k}a!==0&&ir(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function ir(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Re(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function cr(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Re(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function ur(e,t){var l=t&-t;return l=(l&42)!==0?1:Ei(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ei(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ai(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rr(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:$f(e.type))}function or(e,t){var l=L.p;try{return L.p=e,t()}finally{L.p=l}}var fl=Math.random().toString(36).slice(2),et="__reactFiber$"+fl,dt="__reactProps$"+fl,oa="__reactContainer$"+fl,zi="__reactEvents$"+fl,S0="__reactListeners$"+fl,N0="__reactHandles$"+fl,dr="__reactResources$"+fl,tn="__reactMarker$"+fl;function _i(e){delete e[et],delete e[dt],delete e[zi],delete e[S0],delete e[N0]}function da(e){var t=e[et];if(t)return t;for(var l=e.parentNode;l;){if(t=l[oa]||l[et]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=kf(e);e!==null;){if(l=e[et])return l;e=kf(e)}return t}e=l,l=e.parentNode}return null}function fa(e){if(e=e[et]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ln(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ma(e){var t=e[dr];return t||(t=e[dr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[tn]=!0}var fr=new Set,mr={};function ql(e,t){ha(e,t),ha(e+"Capture",t)}function ha(e,t){for(mr[e]=t,e=0;e<t.length;e++)fr.add(t[e])}var w0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hr={},gr={};function C0(e){return Fa.call(gr,e)?!0:Fa.call(hr,e)?!1:w0.test(e)?gr[e]=!0:(hr[e]=!0,!1)}function is(e,t,l){if(C0(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function cs(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Jt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function T0(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){l=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){if(!e._valueTracker){var t=xr(e)?"checked":"value";e._valueTracker=T0(e,t,""+e[t])}}function yr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=xr(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var M0=/[\n"\\]/g;function Et(e){return e.replace(M0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Di(e,t,l,a,n,i,c,d){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?ki(e,c,Mt(t)):l!=null?ki(e,c,Mt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Mt(d):e.removeAttribute("name")}function vr(e,t,l,a,n,i,c,d){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Oi(e);return}l=l!=null?""+Mt(l):"",t=t!=null?""+Mt(t):l,d||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=d?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),Oi(e)}function ki(e,t,l){t==="number"&&us(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ga(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Mt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function br(e,t,l){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Mt(l):""}function pr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if($(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Mt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Oi(e)}function xa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var E0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||E0.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Sr(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&jr(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&jr(e,i,t[i])}function Li(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(e){return z0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var Ui=null;function Bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,va=null;function Nr(e){var t=fa(e);if(t&&(e=t.stateNode)){var l=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Di(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Et(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[dt]||null;if(!n)throw Error(o(90));Di(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&yr(a)}break e;case"textarea":br(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ga(e,!!l.multiple,t,!1)}}}var Hi=!1;function wr(e,t,l){if(Hi)return e(t,l);Hi=!0;try{var a=e(t);return a}finally{if(Hi=!1,(ya!==null||va!==null)&&($s(),ya&&(t=ya,e=va,va=ya=null,Nr(t),e)))for(t=0;t<e.length;t++)Nr(e[t])}}function an(e,t){var l=e.stateNode;if(l===null)return null;var a=l[dt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=!1;if($t)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{Ri=!1}var ml=null,qi=null,os=null;function Cr(){if(os)return os;var e,t=qi,l=t.length,a,n="value"in ml?ml.value:ml.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===n[i-a];a++);return os=n.slice(e,1<a?1-a:void 0)}function ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fs(){return!0}function Tr(){return!1}function ft(e){function t(l,a,n,i,c){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(l=e[d],this[d]=l?l(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fs:Tr,this.isPropagationStopped=Tr,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),t}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=ft(Yl),sn=C({},Yl,{view:0,detail:0}),_0=ft(sn),Yi,Gi,cn,hs=C({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&e.type==="mousemove"?(Yi=e.screenX-cn.screenX,Gi=e.screenY-cn.screenY):Gi=Yi=0,cn=e),Yi)},movementY:function(e){return"movementY"in e?e.movementY:Gi}}),Mr=ft(hs),O0=C({},hs,{dataTransfer:0}),D0=ft(O0),k0=C({},sn,{relatedTarget:0}),Qi=ft(k0),L0=C({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=ft(L0),B0=C({},Yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H0=ft(B0),R0=C({},Yl,{data:0}),Er=ft(R0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G0[e])?!!t[e]:!1}function Xi(){return Q0}var X0=C({},sn,{key:function(e){if(e.key){var t=q0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V0=ft(X0),Z0=C({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=ft(Z0),K0=C({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),J0=ft(K0),W0=C({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=ft(W0),F0=C({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I0=ft(F0),P0=C({},Yl,{newState:0,oldState:0}),em=ft(P0),tm=[9,13,27,32],Vi=$t&&"CompositionEvent"in window,un=null;$t&&"documentMode"in document&&(un=document.documentMode);var lm=$t&&"TextEvent"in window&&!un,zr=$t&&(!Vi||un&&8<un&&11>=un),_r=" ",Or=!1;function Dr(e,t){switch(e){case"keyup":return tm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function am(e,t){switch(e){case"compositionend":return kr(t);case"keypress":return t.which!==32?null:(Or=!0,_r);case"textInput":return e=t.data,e===_r&&Or?null:e;default:return null}}function nm(e,t){if(ba)return e==="compositionend"||!Vi&&Dr(e,t)?(e=Cr(),os=qi=ml=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zr&&t.locale!=="ko"?null:t.data;default:return null}}var sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sm[e.type]:t==="textarea"}function Ur(e,t,l,a){ya?va?va.push(a):va=[a]:ya=a,t=ai(t,"onChange"),0<t.length&&(l=new ms("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var rn=null,on=null;function im(e){pf(e,0)}function gs(e){var t=ln(e);if(yr(t))return e}function Br(e,t){if(e==="change")return t}var Hr=!1;if($t){var Zi;if($t){var Ki="oninput"in document;if(!Ki){var Rr=document.createElement("div");Rr.setAttribute("oninput","return;"),Ki=typeof Rr.oninput=="function"}Zi=Ki}else Zi=!1;Hr=Zi&&(!document.documentMode||9<document.documentMode)}function qr(){rn&&(rn.detachEvent("onpropertychange",Yr),on=rn=null)}function Yr(e){if(e.propertyName==="value"&&gs(on)){var t=[];Ur(t,on,e,Bi(e)),wr(im,t)}}function cm(e,t,l){e==="focusin"?(qr(),rn=t,on=l,rn.attachEvent("onpropertychange",Yr)):e==="focusout"&&qr()}function um(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gs(on)}function rm(e,t){if(e==="click")return gs(t)}function om(e,t){if(e==="input"||e==="change")return gs(t)}function dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:dm;function dn(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Fa.call(t,n)||!vt(e[n],t[n]))return!1}return!0}function Gr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qr(e,t){var l=Gr(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gr(l)}}function Xr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=us(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=us(e.document)}return t}function Ji(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fm=$t&&"documentMode"in document&&11>=document.documentMode,pa=null,Wi=null,fn=null,$i=!1;function Zr(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$i||pa==null||pa!==us(a)||(a=pa,"selectionStart"in a&&Ji(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),fn&&dn(fn,a)||(fn=a,a=ai(Wi,"onSelect"),0<a.length&&(t=new ms("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=pa)))}function Gl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ja={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionrun:Gl("Transition","TransitionRun"),transitionstart:Gl("Transition","TransitionStart"),transitioncancel:Gl("Transition","TransitionCancel"),transitionend:Gl("Transition","TransitionEnd")},Fi={},Kr={};$t&&(Kr=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Ql(e){if(Fi[e])return Fi[e];if(!ja[e])return e;var t=ja[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Kr)return Fi[e]=t[l];return e}var Jr=Ql("animationend"),Wr=Ql("animationiteration"),$r=Ql("animationstart"),mm=Ql("transitionrun"),hm=Ql("transitionstart"),gm=Ql("transitioncancel"),Fr=Ql("transitionend"),Ir=new Map,Ii="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ii.push("scrollEnd");function Rt(e,t){Ir.set(e,t),ql(t,[e])}var xs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},At=[],Sa=0,Pi=0;function ys(){for(var e=Sa,t=Pi=Sa=0;t<e;){var l=At[t];At[t++]=null;var a=At[t];At[t++]=null;var n=At[t];At[t++]=null;var i=At[t];if(At[t++]=null,a!==null&&n!==null){var c=a.pending;c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n}i!==0&&Pr(l,n,i)}}function vs(e,t,l,a){At[Sa++]=e,At[Sa++]=t,At[Sa++]=l,At[Sa++]=a,Pi|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ec(e,t,l,a){return vs(e,t,l,a),bs(e)}function Xl(e,t){return vs(e,null,null,t),bs(e)}function Pr(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Re(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function bs(e){if(50<kn)throw kn=0,ru=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Na={};function xm(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,l,a){return new xm(e,t,l,a)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ft(e,t){var l=e.alternate;return l===null?(l=bt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function eo(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ps(e,t,l,a,n,i){var c=0;if(a=e,typeof e=="function")tc(e)&&(c=1);else if(typeof e=="string")c=jh(e,l,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ue:return e=bt(31,l,t,n),e.elementType=Ue,e.lanes=i,e;case B:return Vl(l.children,n,i,t);case J:c=8,n|=24;break;case H:return e=bt(12,l,t,n|2),e.elementType=H,e.lanes=i,e;case te:return e=bt(13,l,t,n),e.elementType=te,e.lanes=i,e;case be:return e=bt(19,l,t,n),e.elementType=be,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:c=10;break e;case P:c=9;break e;case R:c=11;break e;case ie:c=14;break e;case Ne:c=16,a=null;break e}c=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=bt(c,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Vl(e,t,l,a){return e=bt(7,e,a,t),e.lanes=l,e}function lc(e,t,l){return e=bt(6,e,null,t),e.lanes=l,e}function to(e){var t=bt(18,null,null,0);return t.stateNode=e,t}function ac(e,t,l){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var lo=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var l=lo.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Wn(t)},lo.set(e,t),t)}return{value:e,source:t,stack:Wn(t)}}var wa=[],Ca=0,js=null,mn=0,_t=[],Ot=0,hl=null,Qt=1,Xt="";function It(e,t){wa[Ca++]=mn,wa[Ca++]=js,js=e,mn=t}function ao(e,t,l){_t[Ot++]=Qt,_t[Ot++]=Xt,_t[Ot++]=hl,hl=e;var a=Qt;e=Xt;var n=32-Re(a)-1;a&=~(1<<n),l+=1;var i=32-Re(t)+n;if(30<i){var c=n-n%5;i=(a&(1<<c)-1).toString(32),a>>=c,n-=c,Qt=1<<32-Re(t)+n|l<<n|a,Xt=i+e}else Qt=1<<i|l<<n|a,Xt=e}function nc(e){e.return!==null&&(It(e,1),ao(e,1,0))}function sc(e){for(;e===js;)js=wa[--Ca],wa[Ca]=null,mn=wa[--Ca],wa[Ca]=null;for(;e===hl;)hl=_t[--Ot],_t[Ot]=null,Xt=_t[--Ot],_t[Ot]=null,Qt=_t[--Ot],_t[Ot]=null}function no(e,t){_t[Ot++]=Qt,_t[Ot++]=Xt,_t[Ot++]=hl,Qt=t.id,Xt=t.overflow,hl=e}var tt=null,De=null,ye=!1,gl=null,Dt=!1,ic=Error(o(519));function xl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hn(zt(t,e)),ic}function so(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[et]=e,t[dt]=a,l){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(l=0;l<Un.length;l++)he(Un[l],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),vr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),pr(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||wf(t.textContent,l)?(a.popover!=null&&(he("beforetoggle",t),he("toggle",t)),a.onScroll!=null&&he("scroll",t),a.onScrollEnd!=null&&he("scrollend",t),a.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||xl(e,!0)}function io(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:tt=tt.return}}function Ta(e){if(e!==tt)return!1;if(!ye)return io(e),ye=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||wu(e.type,e.memoizedProps)),l=!l),l&&De&&xl(e),io(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));De=Df(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));De=Df(e)}else t===27?(t=De,zl(e.type)?(e=Au,Au=null,De=e):De=t):De=tt?Lt(e.stateNode.nextSibling):null;return!0}function Zl(){De=tt=null,ye=!1}function cc(){var e=gl;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),gl=null),e}function hn(e){gl===null?gl=[e]:gl.push(e)}var uc=x(null),Kl=null,Pt=null;function yl(e,t,l){Y(uc,t._currentValue),t._currentValue=l}function el(e){e._currentValue=uc.current,D(uc)}function rc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function oc(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var d=i;i=n;for(var h=0;h<t.length;h++)if(d.context===t[h]){i.lanes|=l,d=i.alternate,d!==null&&(d.lanes|=l),rc(i.return,l,e),a||(c=null);break e}i=d.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(o(341));c.lanes|=l,i=c.alternate,i!==null&&(i.lanes|=l),rc(c,l,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function Ma(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(o(387));if(c=c.memoizedProps,c!==null){var d=n.type;vt(n.pendingProps.value,c.value)||(e!==null?e.push(d):e=[d])}}else if(n===we.current){if(c=n.alternate,c===null)throw Error(o(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Yn):e=[Yn])}n=n.return}e!==null&&oc(t,e,l,a),t.flags|=262144}function Ss(e){for(e=e.firstContext;e!==null;){if(!vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Jl(e){Kl=e,Pt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return co(Kl,e)}function Ns(e,t){return Kl===null&&Jl(e),co(e,t)}function co(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Pt===null){if(e===null)throw Error(o(308));Pt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pt=Pt.next=t;return l}var ym=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},vm=u.unstable_scheduleCallback,bm=u.unstable_NormalPriority,Ve={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new ym,data:new Map,refCount:0}}function gn(e){e.refCount--,e.refCount===0&&vm(bm,function(){e.controller.abort()})}var xn=null,fc=0,Ea=0,Aa=null;function pm(e,t){if(xn===null){var l=xn=[];fc=0,Ea=gu(),Aa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return fc++,t.then(uo,uo),t}function uo(){if(--fc===0&&xn!==null){Aa!==null&&(Aa.status="fulfilled");var e=xn;xn=null,Ea=0,Aa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jm(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var ro=S.S;S.S=function(e,t){Kd=ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&pm(e,t),ro!==null&&ro(e,t)};var Wl=x(null);function mc(){var e=Wl.current;return e!==null?e:_e.pooledCache}function ws(e,t){t===null?Y(Wl,Wl.current):Y(Wl,t.pool)}function oo(){var e=mc();return e===null?null:{parent:Ve._currentValue,pool:e}}var za=Error(o(460)),hc=Error(o(474)),Cs=Error(o(542)),Ts={then:function(){}};function fo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mo(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Wt,Wt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,go(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,go(e),e}throw Fl=t,za}}function $l(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Fl=l,za):l}}var Fl=null;function ho(){if(Fl===null)throw Error(o(459));var e=Fl;return Fl=null,e}function go(e){if(e===za||e===Cs)throw Error(o(483))}var _a=null,yn=0;function Ms(e){var t=yn;return yn+=1,_a===null&&(_a=[]),mo(_a,e,t)}function vn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Es(e,t){throw t.$$typeof===U?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function xo(e){function t(b,g){if(e){var j=b.deletions;j===null?(b.deletions=[g],b.flags|=16):j.push(g)}}function l(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function a(b){for(var g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function n(b,g){return b=Ft(b,g),b.index=0,b.sibling=null,b}function i(b,g,j){return b.index=j,e?(j=b.alternate,j!==null?(j=j.index,j<g?(b.flags|=67108866,g):j):(b.flags|=67108866,g)):(b.flags|=1048576,g)}function c(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function d(b,g,j,O){return g===null||g.tag!==6?(g=lc(j,b.mode,O),g.return=b,g):(g=n(g,j),g.return=b,g)}function h(b,g,j,O){var ee=j.type;return ee===B?z(b,g,j.props.children,O,j.key):g!==null&&(g.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ne&&$l(ee)===g.type)?(g=n(g,j.props),vn(g,j),g.return=b,g):(g=ps(j.type,j.key,j.props,null,b.mode,O),vn(g,j),g.return=b,g)}function N(b,g,j,O){return g===null||g.tag!==4||g.stateNode.containerInfo!==j.containerInfo||g.stateNode.implementation!==j.implementation?(g=ac(j,b.mode,O),g.return=b,g):(g=n(g,j.children||[]),g.return=b,g)}function z(b,g,j,O,ee){return g===null||g.tag!==7?(g=Vl(j,b.mode,O,ee),g.return=b,g):(g=n(g,j),g.return=b,g)}function k(b,g,j){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=lc(""+g,b.mode,j),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case V:return j=ps(g.type,g.key,g.props,null,b.mode,j),vn(j,g),j.return=b,j;case G:return g=ac(g,b.mode,j),g.return=b,g;case Ne:return g=$l(g),k(b,g,j)}if($(g)||de(g))return g=Vl(g,b.mode,j,null),g.return=b,g;if(typeof g.then=="function")return k(b,Ms(g),j);if(g.$$typeof===Q)return k(b,Ns(b,g),j);Es(b,g)}return null}function T(b,g,j,O){var ee=g!==null?g.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ee!==null?null:d(b,g,""+j,O);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return j.key===ee?h(b,g,j,O):null;case G:return j.key===ee?N(b,g,j,O):null;case Ne:return j=$l(j),T(b,g,j,O)}if($(j)||de(j))return ee!==null?null:z(b,g,j,O,null);if(typeof j.then=="function")return T(b,g,Ms(j),O);if(j.$$typeof===Q)return T(b,g,Ns(b,j),O);Es(b,j)}return null}function M(b,g,j,O,ee){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return b=b.get(j)||null,d(g,b,""+O,ee);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return b=b.get(O.key===null?j:O.key)||null,h(g,b,O,ee);case G:return b=b.get(O.key===null?j:O.key)||null,N(g,b,O,ee);case Ne:return O=$l(O),M(b,g,j,O,ee)}if($(O)||de(O))return b=b.get(j)||null,z(g,b,O,ee,null);if(typeof O.then=="function")return M(b,g,j,Ms(O),ee);if(O.$$typeof===Q)return M(b,g,j,Ns(g,O),ee);Es(g,O)}return null}function W(b,g,j,O){for(var ee=null,je=null,I=g,oe=g=0,xe=null;I!==null&&oe<j.length;oe++){I.index>oe?(xe=I,I=null):xe=I.sibling;var Se=T(b,I,j[oe],O);if(Se===null){I===null&&(I=xe);break}e&&I&&Se.alternate===null&&t(b,I),g=i(Se,g,oe),je===null?ee=Se:je.sibling=Se,je=Se,I=xe}if(oe===j.length)return l(b,I),ye&&It(b,oe),ee;if(I===null){for(;oe<j.length;oe++)I=k(b,j[oe],O),I!==null&&(g=i(I,g,oe),je===null?ee=I:je.sibling=I,je=I);return ye&&It(b,oe),ee}for(I=a(I);oe<j.length;oe++)xe=M(I,b,oe,j[oe],O),xe!==null&&(e&&xe.alternate!==null&&I.delete(xe.key===null?oe:xe.key),g=i(xe,g,oe),je===null?ee=xe:je.sibling=xe,je=xe);return e&&I.forEach(function(Ll){return t(b,Ll)}),ye&&It(b,oe),ee}function ne(b,g,j,O){if(j==null)throw Error(o(151));for(var ee=null,je=null,I=g,oe=g=0,xe=null,Se=j.next();I!==null&&!Se.done;oe++,Se=j.next()){I.index>oe?(xe=I,I=null):xe=I.sibling;var Ll=T(b,I,Se.value,O);if(Ll===null){I===null&&(I=xe);break}e&&I&&Ll.alternate===null&&t(b,I),g=i(Ll,g,oe),je===null?ee=Ll:je.sibling=Ll,je=Ll,I=xe}if(Se.done)return l(b,I),ye&&It(b,oe),ee;if(I===null){for(;!Se.done;oe++,Se=j.next())Se=k(b,Se.value,O),Se!==null&&(g=i(Se,g,oe),je===null?ee=Se:je.sibling=Se,je=Se);return ye&&It(b,oe),ee}for(I=a(I);!Se.done;oe++,Se=j.next())Se=M(I,b,oe,Se.value,O),Se!==null&&(e&&Se.alternate!==null&&I.delete(Se.key===null?oe:Se.key),g=i(Se,g,oe),je===null?ee=Se:je.sibling=Se,je=Se);return e&&I.forEach(function(Oh){return t(b,Oh)}),ye&&It(b,oe),ee}function ze(b,g,j,O){if(typeof j=="object"&&j!==null&&j.type===B&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case V:e:{for(var ee=j.key;g!==null;){if(g.key===ee){if(ee=j.type,ee===B){if(g.tag===7){l(b,g.sibling),O=n(g,j.props.children),O.return=b,b=O;break e}}else if(g.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ne&&$l(ee)===g.type){l(b,g.sibling),O=n(g,j.props),vn(O,j),O.return=b,b=O;break e}l(b,g);break}else t(b,g);g=g.sibling}j.type===B?(O=Vl(j.props.children,b.mode,O,j.key),O.return=b,b=O):(O=ps(j.type,j.key,j.props,null,b.mode,O),vn(O,j),O.return=b,b=O)}return c(b);case G:e:{for(ee=j.key;g!==null;){if(g.key===ee)if(g.tag===4&&g.stateNode.containerInfo===j.containerInfo&&g.stateNode.implementation===j.implementation){l(b,g.sibling),O=n(g,j.children||[]),O.return=b,b=O;break e}else{l(b,g);break}else t(b,g);g=g.sibling}O=ac(j,b.mode,O),O.return=b,b=O}return c(b);case Ne:return j=$l(j),ze(b,g,j,O)}if($(j))return W(b,g,j,O);if(de(j)){if(ee=de(j),typeof ee!="function")throw Error(o(150));return j=ee.call(j),ne(b,g,j,O)}if(typeof j.then=="function")return ze(b,g,Ms(j),O);if(j.$$typeof===Q)return ze(b,g,Ns(b,j),O);Es(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,g!==null&&g.tag===6?(l(b,g.sibling),O=n(g,j),O.return=b,b=O):(l(b,g),O=lc(j,b.mode,O),O.return=b,b=O),c(b)):l(b,g)}return function(b,g,j,O){try{yn=0;var ee=ze(b,g,j,O);return _a=null,ee}catch(I){if(I===za||I===Cs)throw I;var je=bt(29,I,null,b.mode);return je.lanes=O,je.return=b,je}}}var Il=xo(!0),yo=xo(!1),vl=!1;function gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ce&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=bs(e),Pr(e,null,l),t}return vs(e,a,t,l),bs(e)}function bn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,cr(e,l)}}function yc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var vc=!1;function pn(){if(vc){var e=Aa;if(e!==null)throw e}}function jn(e,t,l,a){vc=!1;var n=e.updateQueue;vl=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,d=n.shared.pending;if(d!==null){n.shared.pending=null;var h=d,N=h.next;h.next=null,c===null?i=N:c.next=N,c=h;var z=e.alternate;z!==null&&(z=z.updateQueue,d=z.lastBaseUpdate,d!==c&&(d===null?z.firstBaseUpdate=N:d.next=N,z.lastBaseUpdate=h))}if(i!==null){var k=n.baseState;c=0,z=N=h=null,d=i;do{var T=d.lane&-536870913,M=T!==d.lane;if(M?(ge&T)===T:(a&T)===T){T!==0&&T===Ea&&(vc=!0),z!==null&&(z=z.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var W=e,ne=d;T=t;var ze=l;switch(ne.tag){case 1:if(W=ne.payload,typeof W=="function"){k=W.call(ze,k,T);break e}k=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=ne.payload,T=typeof W=="function"?W.call(ze,k,T):W,T==null)break e;k=C({},k,T);break e;case 2:vl=!0}}T=d.callback,T!==null&&(e.flags|=64,M&&(e.flags|=8192),M=n.callbacks,M===null?n.callbacks=[T]:M.push(T))}else M={lane:T,tag:d.tag,payload:d.payload,callback:d.callback,next:null},z===null?(N=z=M,h=k):z=z.next=M,c|=T;if(d=d.next,d===null){if(d=n.shared.pending,d===null)break;M=d,d=M.next,M.next=null,n.lastBaseUpdate=M,n.shared.pending=null}}while(!0);z===null&&(h=k),n.baseState=h,n.firstBaseUpdate=N,n.lastBaseUpdate=z,i===null&&(n.shared.lanes=0),Cl|=c,e.lanes=c,e.memoizedState=k}}function vo(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function bo(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)vo(l[e],t)}var Oa=x(null),As=x(0);function po(e,t){e=rl,Y(As,e),Y(Oa,t),rl=e|t.baseLanes}function bc(){Y(As,rl),Y(Oa,Oa.current)}function pc(){rl=As.current,D(Oa),D(As)}var pt=x(null),kt=null;function jl(e){var t=e.alternate;Y(Qe,Qe.current&1),Y(pt,e),kt===null&&(t===null||Oa.current!==null||t.memoizedState!==null)&&(kt=e)}function jc(e){Y(Qe,Qe.current),Y(pt,e),kt===null&&(kt=e)}function jo(e){e.tag===22?(Y(Qe,Qe.current),Y(pt,e),kt===null&&(kt=e)):Sl()}function Sl(){Y(Qe,Qe.current),Y(pt,pt.current)}function jt(e){D(pt),kt===e&&(kt=null),D(Qe)}var Qe=x(0);function zs(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Mu(l)||Eu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=0,re=null,Ee=null,Ze=null,_s=!1,Da=!1,Pl=!1,Os=0,Sn=0,ka=null,Sm=0;function qe(){throw Error(o(321))}function Sc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!vt(e[l],t[l]))return!1;return!0}function Nc(e,t,l,a,n,i){return tl=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S.H=e===null||e.memoizedState===null?nd:Hc,Pl=!1,i=l(a,n),Pl=!1,Da&&(i=No(t,l,a,n)),So(e),i}function So(e){S.H=Cn;var t=Ee!==null&&Ee.next!==null;if(tl=0,Ze=Ee=re=null,_s=!1,Sn=0,ka=null,t)throw Error(o(300));e===null||Ke||(e=e.dependencies,e!==null&&Ss(e)&&(Ke=!0))}function No(e,t,l,a){re=e;var n=0;do{if(Da&&(ka=null),Sn=0,Da=!1,25<=n)throw Error(o(301));if(n+=1,Ze=Ee=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}S.H=sd,i=t(l,a)}while(Da);return i}function Nm(){var e=S.H,t=e.useState()[0];return t=typeof t.then=="function"?Nn(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(re.flags|=1024),t}function wc(){var e=Os!==0;return Os=0,e}function Cc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Tc(e){if(_s){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_s=!1}tl=0,Ze=Ee=re=null,Da=!1,Sn=Os=0,ka=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?re.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Xe(){if(Ee===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ze===null?re.memoizedState:Ze.next;if(t!==null)Ze=t,Ee=e;else{if(e===null)throw re.alternate===null?Error(o(467)):Error(o(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ze===null?re.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ds(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nn(e){var t=Sn;return Sn+=1,ka===null&&(ka=[]),e=mo(ka,e,t),t=re,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,S.H=t===null||t.memoizedState===null?nd:Hc),e}function ks(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Nn(e);if(e.$$typeof===Q)return lt(e)}throw Error(o(438,String(e)))}function Mc(e){var t=null,l=re.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=re.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Ds(),re.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=Z;return t.index++,l}function ll(e,t){return typeof t=="function"?t(e):t}function Ls(e){var t=Xe();return Ec(t,Ee,e)}function Ec(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var d=c=null,h=null,N=t,z=!1;do{var k=N.lane&-536870913;if(k!==N.lane?(ge&k)===k:(tl&k)===k){var T=N.revertLane;if(T===0)h!==null&&(h=h.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),k===Ea&&(z=!0);else if((tl&T)===T){N=N.next,T===Ea&&(z=!0);continue}else k={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},h===null?(d=h=k,c=i):h=h.next=k,re.lanes|=T,Cl|=T;k=N.action,Pl&&l(i,k),i=N.hasEagerState?N.eagerState:l(i,k)}else T={lane:k,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},h===null?(d=h=T,c=i):h=h.next=T,re.lanes|=k,Cl|=k;N=N.next}while(N!==null&&N!==t);if(h===null?c=i:h.next=d,!vt(i,e.memoizedState)&&(Ke=!0,z&&(l=Aa,l!==null)))throw l;e.memoizedState=i,e.baseState=c,e.baseQueue=h,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ac(e){var t=Xe(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);vt(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function wo(e,t,l){var a=re,n=Xe(),i=ye;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var c=!vt((Ee||n).memoizedState,l);if(c&&(n.memoizedState=l,Ke=!0),n=n.queue,Oc(Mo.bind(null,a,n,e),[e]),n.getSnapshot!==t||c||Ze!==null&&Ze.memoizedState.tag&1){if(a.flags|=2048,La(9,{destroy:void 0},To.bind(null,a,n,l,t),null),_e===null)throw Error(o(349));i||(tl&127)!==0||Co(a,t,l)}return l}function Co(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=re.updateQueue,t===null?(t=Ds(),re.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function To(e,t,l,a){t.value=l,t.getSnapshot=a,Eo(t)&&Ao(e)}function Mo(e,t,l){return l(function(){Eo(t)&&Ao(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!vt(e,l)}catch{return!0}}function Ao(e){var t=Xl(e,2);t!==null&&yt(t,e,2)}function zc(e){var t=rt();if(typeof e=="function"){var l=e;if(e=l(),Pl){F(!0);try{l()}finally{F(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:e},t}function zo(e,t,l,a){return e.baseState=l,Ec(e,Ee,typeof a=="function"?a:ll)}function wm(e,t,l,a,n){if(Hs(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};S.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,_o(t,i)):(i.next=l.next,t.pending=l.next=i)}}function _o(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=S.T,c={};S.T=c;try{var d=l(n,a),h=S.S;h!==null&&h(c,d),Oo(e,t,d)}catch(N){_c(e,t,N)}finally{i!==null&&c.types!==null&&(i.types=c.types),S.T=i}}else try{i=l(n,a),Oo(e,t,i)}catch(N){_c(e,t,N)}}function Oo(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Do(e,t,a)},function(a){return _c(e,t,a)}):Do(e,t,l)}function Do(e,t,l){t.status="fulfilled",t.value=l,ko(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,_o(e,l)))}function _c(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,ko(t),t=t.next;while(t!==a)}e.action=null}function ko(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lo(e,t){return t}function Uo(e,t){if(ye){var l=_e.formState;if(l!==null){e:{var a=re;if(ye){if(De){t:{for(var n=De,i=Dt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Lt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){De=Lt(n.nextSibling),a=n.data==="F!";break e}}xl(a)}a=!1}a&&(t=l[0])}}return l=rt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:t},l.queue=a,l=td.bind(null,re,a),a.dispatch=l,a=zc(!1),i=Bc.bind(null,re,!1,a.queue),a=rt(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=wm.bind(null,re,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Bo(e){var t=Xe();return Ho(t,Ee,e)}function Ho(e,t,l){if(t=Ec(e,t,Lo)[0],e=Ls(ll)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Nn(t)}catch(c){throw c===za?Cs:c}else a=t;t=Xe();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(re.flags|=2048,La(9,{destroy:void 0},Cm.bind(null,n,l),null)),[a,i,e]}function Cm(e,t){e.action=t}function Ro(e){var t=Xe(),l=Ee;if(l!==null)return Ho(t,l,e);Xe(),t=t.memoizedState,l=Xe();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function La(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=re.updateQueue,t===null&&(t=Ds(),re.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function qo(){return Xe().memoizedState}function Us(e,t,l,a){var n=rt();re.flags|=e,n.memoizedState=La(1|t,{destroy:void 0},l,a===void 0?null:a)}function Bs(e,t,l,a){var n=Xe();a=a===void 0?null:a;var i=n.memoizedState.inst;Ee!==null&&a!==null&&Sc(a,Ee.memoizedState.deps)?n.memoizedState=La(t,i,l,a):(re.flags|=e,n.memoizedState=La(1|t,i,l,a))}function Yo(e,t){Us(8390656,8,e,t)}function Oc(e,t){Bs(2048,8,e,t)}function Tm(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Ds(),re.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Go(e){var t=Xe().memoizedState;return Tm({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Qo(e,t){return Bs(4,2,e,t)}function Xo(e,t){return Bs(4,4,e,t)}function Vo(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zo(e,t,l){l=l!=null?l.concat([e]):null,Bs(4,4,Vo.bind(null,t,e),l)}function Dc(){}function Ko(e,t){var l=Xe();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Sc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Jo(e,t){var l=Xe();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Sc(t,a[1]))return a[0];if(a=e(),Pl){F(!0);try{e()}finally{F(!1)}}return l.memoizedState=[a,t],a}function kc(e,t,l){return l===void 0||(tl&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Wd(),re.lanes|=e,Cl|=e,l)}function Wo(e,t,l,a){return vt(l,t)?l:Oa.current!==null?(e=kc(e,l,a),vt(e,t)||(Ke=!0),e):(tl&42)===0||(tl&1073741824)!==0&&(ge&261930)===0?(Ke=!0,e.memoizedState=l):(e=Wd(),re.lanes|=e,Cl|=e,t)}function $o(e,t,l,a,n){var i=L.p;L.p=i!==0&&8>i?i:8;var c=S.T,d={};S.T=d,Bc(e,!1,t,l);try{var h=n(),N=S.S;if(N!==null&&N(d,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var z=jm(h,a);wn(e,t,z,wt(e))}else wn(e,t,a,wt(e))}catch(k){wn(e,t,{then:function(){},status:"rejected",reason:k},wt())}finally{L.p=i,c!==null&&d.types!==null&&(c.types=d.types),S.T=c}}function Mm(){}function Lc(e,t,l,a){if(e.tag!==5)throw Error(o(476));var n=Fo(e).queue;$o(e,n,t,q,l===null?Mm:function(){return Io(e),l(a)})}function Fo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:q},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Io(e){var t=Fo(e);t.next===null&&(t=e.alternate.memoizedState),wn(e,t.next.queue,{},wt())}function Uc(){return lt(Yn)}function Po(){return Xe().memoizedState}function ed(){return Xe().memoizedState}function Em(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=wt();e=bl(l);var a=pl(t,e,l);a!==null&&(yt(a,t,l),bn(a,t,l)),t={cache:dc()},e.payload=t;return}t=t.return}}function Am(e,t,l){var a=wt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hs(e)?ld(t,l):(l=ec(e,t,l,a),l!==null&&(yt(l,e,a),ad(l,t,a)))}function td(e,t,l){var a=wt();wn(e,t,l,a)}function wn(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hs(e))ld(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,d=i(c,l);if(n.hasEagerState=!0,n.eagerState=d,vt(d,c))return vs(e,t,n,0),_e===null&&ys(),!1}catch{}if(l=ec(e,t,n,a),l!==null)return yt(l,e,a),ad(l,t,a),!0}return!1}function Bc(e,t,l,a){if(a={lane:2,revertLane:gu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hs(e)){if(t)throw Error(o(479))}else t=ec(e,l,a,2),t!==null&&yt(t,e,2)}function Hs(e){var t=e.alternate;return e===re||t!==null&&t===re}function ld(e,t){Da=_s=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function ad(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,cr(e,l)}}var Cn={readContext:lt,use:ks,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Cn.useEffectEvent=qe;var nd={readContext:lt,use:ks,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Yo,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Us(4194308,4,Vo.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){Us(4,2,e,t)},useMemo:function(e,t){var l=rt();t=t===void 0?null:t;var a=e();if(Pl){F(!0);try{e()}finally{F(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=rt();if(l!==void 0){var n=l(t);if(Pl){F(!0);try{l(t)}finally{F(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Am.bind(null,re,e),[a.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:function(e){e=zc(e);var t=e.queue,l=td.bind(null,re,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Dc,useDeferredValue:function(e,t){var l=rt();return kc(l,e,t)},useTransition:function(){var e=zc(!1);return e=$o.bind(null,re,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=re,n=rt();if(ye){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),_e===null)throw Error(o(349));(ge&127)!==0||Co(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Yo(Mo.bind(null,a,i,e),[e]),a.flags|=2048,La(9,{destroy:void 0},To.bind(null,a,i,l,t),null),l},useId:function(){var e=rt(),t=_e.identifierPrefix;if(ye){var l=Xt,a=Qt;l=(a&~(1<<32-Re(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Os++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Sm++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uc,useFormState:Uo,useActionState:Uo,useOptimistic:function(e){var t=rt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Bc.bind(null,re,!0,l),l.dispatch=t,[e,t]},useMemoCache:Mc,useCacheRefresh:function(){return rt().memoizedState=Em.bind(null,re)},useEffectEvent:function(e){var t=rt(),l={impl:e};return t.memoizedState=l,function(){if((Ce&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Hc={readContext:lt,use:ks,useCallback:Ko,useContext:lt,useEffect:Oc,useImperativeHandle:Zo,useInsertionEffect:Qo,useLayoutEffect:Xo,useMemo:Jo,useReducer:Ls,useRef:qo,useState:function(){return Ls(ll)},useDebugValue:Dc,useDeferredValue:function(e,t){var l=Xe();return Wo(l,Ee.memoizedState,e,t)},useTransition:function(){var e=Ls(ll)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Nn(e),t]},useSyncExternalStore:wo,useId:Po,useHostTransitionStatus:Uc,useFormState:Bo,useActionState:Bo,useOptimistic:function(e,t){var l=Xe();return zo(l,Ee,e,t)},useMemoCache:Mc,useCacheRefresh:ed};Hc.useEffectEvent=Go;var sd={readContext:lt,use:ks,useCallback:Ko,useContext:lt,useEffect:Oc,useImperativeHandle:Zo,useInsertionEffect:Qo,useLayoutEffect:Xo,useMemo:Jo,useReducer:Ac,useRef:qo,useState:function(){return Ac(ll)},useDebugValue:Dc,useDeferredValue:function(e,t){var l=Xe();return Ee===null?kc(l,e,t):Wo(l,Ee.memoizedState,e,t)},useTransition:function(){var e=Ac(ll)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Nn(e),t]},useSyncExternalStore:wo,useId:Po,useHostTransitionStatus:Uc,useFormState:Ro,useActionState:Ro,useOptimistic:function(e,t){var l=Xe();return Ee!==null?zo(l,Ee,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Mc,useCacheRefresh:ed};sd.useEffectEvent=Go;function Rc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:C({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var qc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=wt(),n=bl(a);n.payload=t,l!=null&&(n.callback=l),t=pl(e,n,a),t!==null&&(yt(t,e,a),bn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=wt(),n=bl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=pl(e,n,a),t!==null&&(yt(t,e,a),bn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=wt(),a=bl(l);a.tag=2,t!=null&&(a.callback=t),t=pl(e,a,l),t!==null&&(yt(t,e,l),bn(t,e,l))}};function id(e,t,l,a,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,c):t.prototype&&t.prototype.isPureReactComponent?!dn(l,a)||!dn(n,i):!0}function cd(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&qc.enqueueReplaceState(t,t.state,null)}function ea(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=C({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function ud(e){xs(e)}function rd(e){console.error(e)}function od(e){xs(e)}function Rs(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function dd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Yc(e,t,l){return l=bl(l),l.tag=3,l.payload={element:null},l.callback=function(){Rs(e,t)},l}function fd(e){return e=bl(e),e.tag=3,e}function md(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){dd(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){dd(t,l,a),typeof n!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var d=a.stack;this.componentDidCatch(a.value,{componentStack:d!==null?d:""})})}function zm(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ma(t,l,n,!0),l=pt.current,l!==null){switch(l.tag){case 31:case 13:return kt===null?Fs():l.alternate===null&&Ye===0&&(Ye=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Ts?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),fu(e,a,n)),!1;case 22:return l.flags|=65536,a===Ts?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),fu(e,a,n)),!1}throw Error(o(435,l.tag))}return fu(e,a,n),Fs(),!1}if(ye)return t=pt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==ic&&(e=Error(o(422),{cause:a}),hn(zt(e,l)))):(a!==ic&&(t=Error(o(423),{cause:a}),hn(zt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=zt(a,l),n=Yc(e.stateNode,a,n),yc(e,n),Ye!==4&&(Ye=2)),!1;var i=Error(o(520),{cause:a});if(i=zt(i,l),Dn===null?Dn=[i]:Dn.push(i),Ye!==4&&(Ye=2),t===null)return!0;a=zt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Yc(l.stateNode,a,e),yc(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Tl===null||!Tl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=fd(n),md(n,e,l,a),yc(l,n),!1}l=l.return}while(l!==null);return!1}var Gc=Error(o(461)),Ke=!1;function at(e,t,l,a){t.child=e===null?yo(t,null,l,a):Il(t,e.child,l,a)}function hd(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}else c=a;return Jl(t),a=Nc(e,t,l,c,i,n),d=wc(),e!==null&&!Ke?(Cc(e,t,n),al(e,t,n)):(ye&&d&&nc(t),t.flags|=1,at(e,t,a,n),t.child)}function gd(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,xd(e,t,i,a,n)):(e=ps(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!$c(e,n)){var c=i.memoizedProps;if(l=l.compare,l=l!==null?l:dn,l(c,a)&&e.ref===t.ref)return al(e,t,n)}return t.flags|=1,e=Ft(i,a),e.ref=t.ref,e.return=t,t.child=e}function xd(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(dn(i,a)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=a=i,$c(e,n))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,al(e,t,n)}return Qc(e,t,l,a,n)}function yd(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return vd(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ws(t,i!==null?i.cachePool:null),i!==null?po(t,i):bc(),jo(t);else return a=t.lanes=536870912,vd(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(ws(t,i.cachePool),po(t,i),Sl(),t.memoizedState=null):(e!==null&&ws(t,null),bc(),Sl());return at(e,t,n,l),t.child}function Tn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vd(e,t,l,a,n){var i=mc();return i=i===null?null:{parent:Ve._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&ws(t,null),bc(),jo(t),e!==null&&Ma(e,t,a,!0),t.childLanes=n,null}function qs(e,t){return t=Gs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bd(e,t,l){return Il(t,e.child,null,l),e=qs(t,t.pendingProps),e.flags|=2,jt(t),t.memoizedState=null,e}function _m(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(a.mode==="hidden")return e=qs(t,a),t.lanes=536870912,Tn(null,e);if(jc(t),(e=De)?(e=Of(e,Dt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hl!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=to(e),l.return=t,t.child=l,tt=t,De=null)):e=null,e===null)throw xl(t);return t.lanes=536870912,null}return qs(t,a)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(jc(t),n)if(t.flags&256)t.flags&=-257,t=bd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Ke||Ma(e,t,l,!1),n=(l&e.childLanes)!==0,Ke||n){if(a=_e,a!==null&&(c=ur(a,l),c!==0&&c!==i.retryLane))throw i.retryLane=c,Xl(e,c),yt(a,e,c),Gc;Fs(),t=bd(e,t,l)}else e=i.treeContext,De=Lt(c.nextSibling),tt=t,ye=!0,gl=null,Dt=!1,e!==null&&no(t,e),t=qs(t,a),t.flags|=4096;return t}return e=Ft(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ys(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Qc(e,t,l,a,n){return Jl(t),l=Nc(e,t,l,a,void 0,n),a=wc(),e!==null&&!Ke?(Cc(e,t,n),al(e,t,n)):(ye&&a&&nc(t),t.flags|=1,at(e,t,l,n),t.child)}function pd(e,t,l,a,n,i){return Jl(t),t.updateQueue=null,l=No(t,a,l,n),So(e),a=wc(),e!==null&&!Ke?(Cc(e,t,i),al(e,t,i)):(ye&&a&&nc(t),t.flags|=1,at(e,t,l,i),t.child)}function jd(e,t,l,a,n){if(Jl(t),t.stateNode===null){var i=Na,c=l.contextType;typeof c=="object"&&c!==null&&(i=lt(c)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=qc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},gc(t),c=l.contextType,i.context=typeof c=="object"&&c!==null?lt(c):Na,i.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(Rc(t,l,c,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&qc.enqueueReplaceState(i,i.state,null),jn(t,a,i,n),pn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var d=t.memoizedProps,h=ea(l,d);i.props=h;var N=i.context,z=l.contextType;c=Na,typeof z=="object"&&z!==null&&(c=lt(z));var k=l.getDerivedStateFromProps;z=typeof k=="function"||typeof i.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,z||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d||N!==c)&&cd(t,i,a,c),vl=!1;var T=t.memoizedState;i.state=T,jn(t,a,i,n),pn(),N=t.memoizedState,d||T!==N||vl?(typeof k=="function"&&(Rc(t,l,k,a),N=t.memoizedState),(h=vl||id(t,l,h,a,T,N,c))?(z||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=N),i.props=a,i.state=N,i.context=c,a=h):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,xc(e,t),c=t.memoizedProps,z=ea(l,c),i.props=z,k=t.pendingProps,T=i.context,N=l.contextType,h=Na,typeof N=="object"&&N!==null&&(h=lt(N)),d=l.getDerivedStateFromProps,(N=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==k||T!==h)&&cd(t,i,a,h),vl=!1,T=t.memoizedState,i.state=T,jn(t,a,i,n),pn();var M=t.memoizedState;c!==k||T!==M||vl||e!==null&&e.dependencies!==null&&Ss(e.dependencies)?(typeof d=="function"&&(Rc(t,l,d,a),M=t.memoizedState),(z=vl||id(t,l,z,a,T,M,h)||e!==null&&e.dependencies!==null&&Ss(e.dependencies))?(N||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,M,h),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,M,h)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=M),i.props=a,i.state=M,i.context=h,a=z):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Ys(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Il(t,e.child,null,n),t.child=Il(t,null,l,n)):at(e,t,l,n),t.memoizedState=i.state,e=t.child):e=al(e,t,n),e}function Sd(e,t,l,a){return Zl(),t.flags|=256,at(e,t,l,a),t.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(e){return{baseLanes:e,cachePool:oo()}}function Zc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Nt),e}function Nd(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(n?jl(t):Sl(),(e=De)?(e=Of(e,Dt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hl!==null?{id:Qt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=to(e),l.return=t,t.child=l,tt=t,De=null)):e=null,e===null)throw xl(t);return Eu(e)?t.lanes=32:t.lanes=536870912,null}var d=a.children;return a=a.fallback,n?(Sl(),n=t.mode,d=Gs({mode:"hidden",children:d},n),a=Vl(a,n,l,null),d.return=t,a.return=t,d.sibling=a,t.child=d,a=t.child,a.memoizedState=Vc(l),a.childLanes=Zc(e,c,l),t.memoizedState=Xc,Tn(null,a)):(jl(t),Kc(t,d))}var h=e.memoizedState;if(h!==null&&(d=h.dehydrated,d!==null)){if(i)t.flags&256?(jl(t),t.flags&=-257,t=Jc(e,t,l)):t.memoizedState!==null?(Sl(),t.child=e.child,t.flags|=128,t=null):(Sl(),d=a.fallback,n=t.mode,a=Gs({mode:"visible",children:a.children},n),d=Vl(d,n,l,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,Il(t,e.child,null,l),a=t.child,a.memoizedState=Vc(l),a.childLanes=Zc(e,c,l),t.memoizedState=Xc,t=Tn(null,a));else if(jl(t),Eu(d)){if(c=d.nextSibling&&d.nextSibling.dataset,c)var N=c.dgst;c=N,a=Error(o(419)),a.stack="",a.digest=c,hn({value:a,source:null,stack:null}),t=Jc(e,t,l)}else if(Ke||Ma(e,t,l,!1),c=(l&e.childLanes)!==0,Ke||c){if(c=_e,c!==null&&(a=ur(c,l),a!==0&&a!==h.retryLane))throw h.retryLane=a,Xl(e,a),yt(c,e,a),Gc;Mu(d)||Fs(),t=Jc(e,t,l)}else Mu(d)?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,De=Lt(d.nextSibling),tt=t,ye=!0,gl=null,Dt=!1,e!==null&&no(t,e),t=Kc(t,a.children),t.flags|=4096);return t}return n?(Sl(),d=a.fallback,n=t.mode,h=e.child,N=h.sibling,a=Ft(h,{mode:"hidden",children:a.children}),a.subtreeFlags=h.subtreeFlags&65011712,N!==null?d=Ft(N,d):(d=Vl(d,n,l,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,Tn(null,a),a=t.child,d=e.child.memoizedState,d===null?d=Vc(l):(n=d.cachePool,n!==null?(h=Ve._currentValue,n=n.parent!==h?{parent:h,pool:h}:n):n=oo(),d={baseLanes:d.baseLanes|l,cachePool:n}),a.memoizedState=d,a.childLanes=Zc(e,c,l),t.memoizedState=Xc,Tn(e.child,a)):(jl(t),l=e.child,e=l.sibling,l=Ft(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function Kc(e,t){return t=Gs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Gs(e,t){return e=bt(22,e,null,t),e.lanes=0,e}function Jc(e,t,l){return Il(t,e.child,null,l),e=Kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),rc(e.return,t,l)}function Wc(e,t,l,a,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=l,c.tailMode=n,c.treeForkCount=i)}function Cd(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var c=Qe.current,d=(c&2)!==0;if(d?(c=c&1|2,t.flags|=128):c&=1,Y(Qe,c),at(e,t,a,l),a=ye?mn:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,l,t);else if(e.tag===19)wd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&zs(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Wc(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&zs(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Wc(t,!0,l,null,i,a);break;case"together":Wc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function al(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Cl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ma(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Ft(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Ft(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function $c(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ss(e)))}function Om(e,t,l){switch(t.tag){case 3:Fe(t,t.stateNode.containerInfo),yl(t,Ve,e.memoizedState.cache),Zl();break;case 27:case 5:Tt(t);break;case 4:Fe(t,t.stateNode.containerInfo);break;case 10:yl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(jl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Nd(e,t,l):(jl(t),e=al(e,t,l),e!==null?e.sibling:null);jl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ma(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return Cd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Y(Qe,Qe.current),a)break;return null;case 22:return t.lanes=0,yd(e,t,l,t.pendingProps);case 24:yl(t,Ve,e.memoizedState.cache)}return al(e,t,l)}function Td(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!$c(e,l)&&(t.flags&128)===0)return Ke=!1,Om(e,t,l);Ke=(e.flags&131072)!==0}else Ke=!1,ye&&(t.flags&1048576)!==0&&ao(t,mn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=$l(t.elementType),t.type=e,typeof e=="function")tc(e)?(a=ea(e,a),t.tag=1,t=jd(null,t,e,a,l)):(t.tag=0,t=Qc(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===R){t.tag=11,t=hd(null,t,e,a,l);break e}else if(n===ie){t.tag=14,t=gd(null,t,e,a,l);break e}}throw t=Oe(e)||e,Error(o(306,t,""))}}return t;case 0:return Qc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=ea(a,t.pendingProps),jd(e,t,a,n,l);case 3:e:{if(Fe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,xc(e,t),jn(t,a,null,l);var c=t.memoizedState;if(a=c.cache,yl(t,Ve,a),a!==i.cache&&oc(t,[Ve],l,!0),pn(),a=c.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Sd(e,t,a,l);break e}else if(a!==n){n=zt(Error(o(424)),t),hn(n),t=Sd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=Lt(e.firstChild),tt=t,ye=!0,gl=null,Dt=!0,l=yo(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Zl(),a===n){t=al(e,t,l);break e}at(e,t,a,l)}t=t.child}return t;case 26:return Ys(e,t),e===null?(l=Hf(t.type,null,t.pendingProps,null))?t.memoizedState=l:ye||(l=t.type,e=t.pendingProps,a=ni(fe.current).createElement(l),a[et]=t,a[dt]=e,nt(a,l,e),Ie(a),t.stateNode=a):t.memoizedState=Hf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Tt(t),e===null&&ye&&(a=t.stateNode=Lf(t.type,t.pendingProps,fe.current),tt=t,Dt=!0,n=De,zl(t.type)?(Au=n,De=Lt(a.firstChild)):De=n),at(e,t,t.pendingProps.children,l),Ys(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((n=a=De)&&(a=uh(a,t.type,t.pendingProps,Dt),a!==null?(t.stateNode=a,tt=t,De=Lt(a.firstChild),Dt=!1,n=!0):n=!1),n||xl(t)),Tt(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,a=i.children,wu(n,i)?a=null:c!==null&&wu(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=Nc(e,t,Nm,null,null,l),Yn._currentValue=n),Ys(e,t),at(e,t,a,l),t.child;case 6:return e===null&&ye&&((e=l=De)&&(l=rh(l,t.pendingProps,Dt),l!==null?(t.stateNode=l,tt=t,De=null,e=!0):e=!1),e||xl(t)),null;case 13:return Nd(e,t,l);case 4:return Fe(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Il(t,null,a,l):at(e,t,a,l),t.child;case 11:return hd(e,t,t.type,t.pendingProps,l);case 7:return at(e,t,t.pendingProps,l),t.child;case 8:return at(e,t,t.pendingProps.children,l),t.child;case 12:return at(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,yl(t,t.type,a.value),at(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Jl(t),n=lt(n),a=a(n),t.flags|=1,at(e,t,a,l),t.child;case 14:return gd(e,t,t.type,t.pendingProps,l);case 15:return xd(e,t,t.type,t.pendingProps,l);case 19:return Cd(e,t,l);case 31:return _m(e,t,l);case 22:return yd(e,t,l,t.pendingProps);case 24:return Jl(t),a=lt(Ve),e===null?(n=mc(),n===null&&(n=_e,i=dc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},gc(t),yl(t,Ve,n)):((e.lanes&l)!==0&&(xc(e,t),jn(t,null,null,l),pn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),yl(t,Ve,a)):(a=i.cache,yl(t,Ve,a),a!==n.cache&&oc(t,[Ve],l,!0))),at(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function nl(e){e.flags|=4}function Fc(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Pd())e.flags|=8192;else throw Fl=Ts,hc}else e.flags&=-16777217}function Md(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qf(t))if(Pd())e.flags|=8192;else throw Fl=Ts,hc}function Qs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sr():536870912,e.lanes|=t,Ra|=t)}function Mn(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Dm(e,t,l){var a=t.pendingProps;switch(sc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),el(Ve),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?nl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,cc())),ke(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(nl(t),i!==null?(ke(t),Md(t,i)):(ke(t),Fc(t,n,null,a,l))):i?i!==e.memoizedState?(nl(t),ke(t),Md(t,i)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&nl(t),ke(t),Fc(t,n,e,a,l)),null;case 27:if(aa(t),l=fe.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&nl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return ke(t),null}e=K.current,Ta(t)?so(t):(e=Lf(n,a,l),t.stateNode=e,nl(t))}return ke(t),null;case 5:if(aa(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&nl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return ke(t),null}if(i=K.current,Ta(t))so(t);else{var c=ni(fe.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?c.createElement(n,{is:a.is}):c.createElement(n)}}i[et]=t,i[dt]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(nt(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&nl(t)}}return ke(t),Fc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&nl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=fe.current,Ta(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=tt,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[et]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||wf(e.nodeValue,l)),e||xl(t,!0)}else e=ni(e).createTextNode(a),e[et]=t,t.stateNode=e}return ke(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ta(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[et]=t}else Zl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else l=cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(jt(t),t):(jt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return ke(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Ta(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[et]=t}else Zl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),n=!1}else n=cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(jt(t),t):(jt(t),null)}return jt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Qs(t,t.updateQueue),ke(t),null);case 4:return Be(),e===null&&bu(t.stateNode.containerInfo),ke(t),null;case 10:return el(t.type),ke(t),null;case 19:if(D(Qe),a=t.memoizedState,a===null)return ke(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Mn(a,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=zs(e),i!==null){for(t.flags|=128,Mn(a,!1),e=i.updateQueue,t.updateQueue=e,Qs(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)eo(l,e),l=l.sibling;return Y(Qe,Qe.current&1|2),ye&&It(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ut()>Js&&(t.flags|=128,n=!0,Mn(a,!1),t.lanes=4194304)}else{if(!n)if(e=zs(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Qs(t,e),Mn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ye)return ke(t),null}else 2*ut()-a.renderingStartTime>Js&&l!==536870912&&(t.flags|=128,n=!0,Mn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ut(),e.sibling=null,l=Qe.current,Y(Qe,n?l&1|2:l&1),ye&&It(t,a.treeForkCount),e):(ke(t),null);case 22:case 23:return jt(t),pc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),l=t.updateQueue,l!==null&&Qs(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&D(Wl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),el(Ve),ke(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function km(e,t){switch(sc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return el(Ve),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return aa(t),null;case 31:if(t.memoizedState!==null){if(jt(t),t.alternate===null)throw Error(o(340));Zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(Qe),null;case 4:return Be(),null;case 10:return el(t.type),null;case 22:case 23:return jt(t),pc(),e!==null&&D(Wl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return el(Ve),null;case 25:return null;default:return null}}function Ed(e,t){switch(sc(t),t.tag){case 3:el(Ve),Be();break;case 26:case 27:case 5:aa(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&jt(t);break;case 13:jt(t);break;case 19:D(Qe);break;case 10:el(t.type);break;case 22:case 23:jt(t),pc(),e!==null&&D(Wl);break;case 24:el(Ve)}}function En(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,c=l.inst;a=i(),c.destroy=a}l=l.next}while(l!==n)}}catch(d){Me(t,t.return,d)}}function Nl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var c=a.inst,d=c.destroy;if(d!==void 0){c.destroy=void 0,n=t;var h=l,N=d;try{N()}catch(z){Me(n,h,z)}}}a=a.next}while(a!==i)}}catch(z){Me(t,t.return,z)}}function Ad(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{bo(t,l)}catch(a){Me(e,e.return,a)}}}function zd(e,t,l){l.props=ea(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Me(e,t,a)}}function An(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){Me(e,t,n)}}function Vt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){Me(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Me(e,t,n)}else l.current=null}function _d(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){Me(e,e.return,n)}}function Ic(e,t,l){try{var a=e.stateNode;lh(a,e.type,l,t),a[dt]=t}catch(n){Me(e,e.return,n)}}function Od(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zl(e.type)||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eu(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Wt));else if(a!==4&&(a===27&&zl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(eu(e,t,l),e=e.sibling;e!==null;)eu(e,t,l),e=e.sibling}function Xs(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&zl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Xs(e,t,l),e=e.sibling;e!==null;)Xs(e,t,l),e=e.sibling}function Dd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nt(t,a,l),t[et]=e,t[dt]=l}catch(i){Me(e,e.return,i)}}var sl=!1,Je=!1,tu=!1,kd=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Lm(e,t){if(e=e.containerInfo,Su=di,e=Vr(e),Ji(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var c=0,d=-1,h=-1,N=0,z=0,k=e,T=null;t:for(;;){for(var M;k!==l||n!==0&&k.nodeType!==3||(d=c+n),k!==i||a!==0&&k.nodeType!==3||(h=c+a),k.nodeType===3&&(c+=k.nodeValue.length),(M=k.firstChild)!==null;)T=k,k=M;for(;;){if(k===e)break t;if(T===l&&++N===n&&(d=c),T===i&&++z===a&&(h=c),(M=k.nextSibling)!==null)break;k=T,T=k.parentNode}k=M}l=d===-1||h===-1?null:{start:d,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nu={focusedElem:e,selectionRange:l},di=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){switch(t=Pe,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var W=ea(l.type,n);e=a.getSnapshotBeforeUpdate(W,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(ne){Me(l,l.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Tu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}}function Ld(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:cl(e,l),a&4&&En(5,l);break;case 1:if(cl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(c){Me(l,l.return,c)}else{var n=ea(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){Me(l,l.return,c)}}a&64&&Ad(l),a&512&&An(l,l.return);break;case 3:if(cl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{bo(e,t)}catch(c){Me(l,l.return,c)}}break;case 27:t===null&&a&4&&Dd(l);case 26:case 5:cl(e,l),t===null&&a&4&&_d(l),a&512&&An(l,l.return);break;case 12:cl(e,l);break;case 31:cl(e,l),a&4&&Hd(e,l);break;case 13:cl(e,l),a&4&&Rd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Xm.bind(null,l),oh(e,l))));break;case 22:if(a=l.memoizedState!==null||sl,!a){t=t!==null&&t.memoizedState!==null||Je,n=sl;var i=Je;sl=a,(Je=t)&&!i?ul(e,l,(l.subtreeFlags&8772)!==0):cl(e,l),sl=n,Je=i}break;case 30:break;default:cl(e,l)}}function Ud(e){var t=e.alternate;t!==null&&(e.alternate=null,Ud(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_i(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,mt=!1;function il(e,t,l){for(l=l.child;l!==null;)Bd(e,t,l),l=l.sibling}function Bd(e,t,l){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(X,l)}catch{}switch(l.tag){case 26:Je||Vt(l,t),il(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Je||Vt(l,t);var a=He,n=mt;zl(l.type)&&(He=l.stateNode,mt=!1),il(e,t,l),Hn(l.stateNode),He=a,mt=n;break;case 5:Je||Vt(l,t);case 6:if(a=He,n=mt,He=null,il(e,t,l),He=a,mt=n,He!==null)if(mt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(i){Me(l,t,i)}else try{He.removeChild(l.stateNode)}catch(i){Me(l,t,i)}break;case 18:He!==null&&(mt?(e=He,zf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ka(e)):zf(He,l.stateNode));break;case 4:a=He,n=mt,He=l.stateNode.containerInfo,mt=!0,il(e,t,l),He=a,mt=n;break;case 0:case 11:case 14:case 15:Nl(2,l,t),Je||Nl(4,l,t),il(e,t,l);break;case 1:Je||(Vt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&zd(l,t,a)),il(e,t,l);break;case 21:il(e,t,l);break;case 22:Je=(a=Je)||l.memoizedState!==null,il(e,t,l),Je=a;break;default:il(e,t,l)}}function Hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(l){Me(t,t.return,l)}}}function Rd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(l){Me(t,t.return,l)}}function Um(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kd),t;default:throw Error(o(435,e.tag))}}function Vs(e,t){var l=Um(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=Vm.bind(null,e,a);a.then(n,n)}})}function ht(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,c=t,d=c;e:for(;d!==null;){switch(d.tag){case 27:if(zl(d.type)){He=d.stateNode,mt=!1;break e}break;case 5:He=d.stateNode,mt=!1;break e;case 3:case 4:He=d.stateNode.containerInfo,mt=!0;break e}d=d.return}if(He===null)throw Error(o(160));Bd(i,c,n),He=null,mt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qd(t,e),t=t.sibling}var qt=null;function qd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ht(t,e),gt(e),a&4&&(Nl(3,e,e.return),En(3,e),Nl(5,e,e.return));break;case 1:ht(t,e),gt(e),a&512&&(Je||l===null||Vt(l,l.return)),a&64&&sl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=qt;if(ht(t,e),gt(e),a&512&&(Je||l===null||Vt(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[tn]||i[et]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),nt(i,a,l),i[et]=e,Ie(i),a=i;break e;case"link":var c=Yf("link","href",n).get(a+(l.href||""));if(c){for(var d=0;d<c.length;d++)if(i=c[d],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(d,1);break t}}i=n.createElement(a),nt(i,a,l),n.head.appendChild(i);break;case"meta":if(c=Yf("meta","content",n).get(a+(l.content||""))){for(d=0;d<c.length;d++)if(i=c[d],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(d,1);break t}}i=n.createElement(a),nt(i,a,l),n.head.appendChild(i);break;default:throw Error(o(468,a))}i[et]=e,Ie(i),a=i}e.stateNode=a}else Gf(n,e.type,e.stateNode);else e.stateNode=qf(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Gf(n,e.type,e.stateNode):qf(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Ic(e,e.memoizedProps,l.memoizedProps)}break;case 27:ht(t,e),gt(e),a&512&&(Je||l===null||Vt(l,l.return)),l!==null&&a&4&&Ic(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ht(t,e),gt(e),a&512&&(Je||l===null||Vt(l,l.return)),e.flags&32){n=e.stateNode;try{xa(n,"")}catch(W){Me(e,e.return,W)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Ic(e,n,l!==null?l.memoizedProps:n)),a&1024&&(tu=!0);break;case 6:if(ht(t,e),gt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(W){Me(e,e.return,W)}}break;case 3:if(ci=null,n=qt,qt=si(t.containerInfo),ht(t,e),qt=n,gt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ka(t.containerInfo)}catch(W){Me(e,e.return,W)}tu&&(tu=!1,Yd(e));break;case 4:a=qt,qt=si(e.stateNode.containerInfo),ht(t,e),gt(e),qt=a;break;case 12:ht(t,e),gt(e);break;case 31:ht(t,e),gt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vs(e,a)));break;case 13:ht(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ks=ut()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vs(e,a)));break;case 22:n=e.memoizedState!==null;var h=l!==null&&l.memoizedState!==null,N=sl,z=Je;if(sl=N||n,Je=z||h,ht(t,e),Je=z,sl=N,gt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||h||sl||Je||ta(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){h=l=t;try{if(i=h.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{d=h.stateNode;var k=h.memoizedProps.style,T=k!=null&&k.hasOwnProperty("display")?k.display:null;d.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(W){Me(h,h.return,W)}}}else if(t.tag===6){if(l===null){h=t;try{h.stateNode.nodeValue=n?"":h.memoizedProps}catch(W){Me(h,h.return,W)}}}else if(t.tag===18){if(l===null){h=t;try{var M=h.stateNode;n?_f(M,!0):_f(h.stateNode,!1)}catch(W){Me(h,h.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Vs(e,l))));break;case 19:ht(t,e),gt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Vs(e,a)));break;case 30:break;case 21:break;default:ht(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Od(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,i=Pc(e);Xs(e,i,n);break;case 5:var c=l.stateNode;l.flags&32&&(xa(c,""),l.flags&=-33);var d=Pc(e);Xs(e,d,c);break;case 3:case 4:var h=l.stateNode.containerInfo,N=Pc(e);eu(e,N,h);break;default:throw Error(o(161))}}catch(z){Me(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ld(e,t.alternate,t),t=t.sibling}function ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nl(4,t,t.return),ta(t);break;case 1:Vt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&zd(t,t.return,l),ta(t);break;case 27:Hn(t.stateNode);case 26:case 5:Vt(t,t.return),ta(t);break;case 22:t.memoizedState===null&&ta(t);break;case 30:ta(t);break;default:ta(t)}e=e.sibling}}function ul(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:ul(n,i,l),En(4,i);break;case 1:if(ul(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(N){Me(a,a.return,N)}if(a=i,n=a.updateQueue,n!==null){var d=a.stateNode;try{var h=n.shared.hiddenCallbacks;if(h!==null)for(n.shared.hiddenCallbacks=null,n=0;n<h.length;n++)vo(h[n],d)}catch(N){Me(a,a.return,N)}}l&&c&64&&Ad(i),An(i,i.return);break;case 27:Dd(i);case 26:case 5:ul(n,i,l),l&&a===null&&c&4&&_d(i),An(i,i.return);break;case 12:ul(n,i,l);break;case 31:ul(n,i,l),l&&c&4&&Hd(n,i);break;case 13:ul(n,i,l),l&&c&4&&Rd(n,i);break;case 22:i.memoizedState===null&&ul(n,i,l),An(i,i.return);break;case 30:break;default:ul(n,i,l)}t=t.sibling}}function lu(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&gn(l))}function au(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gn(e))}function Yt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gd(e,t,l,a),t=t.sibling}function Gd(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Yt(e,t,l,a),n&2048&&En(9,t);break;case 1:Yt(e,t,l,a);break;case 3:Yt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gn(e)));break;case 12:if(n&2048){Yt(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,d=i.onPostCommit;typeof d=="function"&&d(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(h){Me(t,t.return,h)}}else Yt(e,t,l,a);break;case 31:Yt(e,t,l,a);break;case 13:Yt(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?Yt(e,t,l,a):zn(e,t):i._visibility&2?Yt(e,t,l,a):(i._visibility|=2,Ua(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&lu(c,t);break;case 24:Yt(e,t,l,a),n&2048&&au(t.alternate,t);break;default:Yt(e,t,l,a)}}function Ua(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,d=l,h=a,N=c.flags;switch(c.tag){case 0:case 11:case 15:Ua(i,c,d,h,n),En(8,c);break;case 23:break;case 22:var z=c.stateNode;c.memoizedState!==null?z._visibility&2?Ua(i,c,d,h,n):zn(i,c):(z._visibility|=2,Ua(i,c,d,h,n)),n&&N&2048&&lu(c.alternate,c);break;case 24:Ua(i,c,d,h,n),n&&N&2048&&au(c.alternate,c);break;default:Ua(i,c,d,h,n)}t=t.sibling}}function zn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:zn(l,a),n&2048&&lu(a.alternate,a);break;case 24:zn(l,a),n&2048&&au(a.alternate,a);break;default:zn(l,a)}t=t.sibling}}var _n=8192;function Ba(e,t,l){if(e.subtreeFlags&_n)for(e=e.child;e!==null;)Qd(e,t,l),e=e.sibling}function Qd(e,t,l){switch(e.tag){case 26:Ba(e,t,l),e.flags&_n&&e.memoizedState!==null&&Sh(l,qt,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,t,l);break;case 3:case 4:var a=qt;qt=si(e.stateNode.containerInfo),Ba(e,t,l),qt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=_n,_n=16777216,Ba(e,t,l),_n=a):Ba(e,t,l));break;default:Ba(e,t,l)}}function Xd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function On(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Pe=a,Zd(a,e)}Xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vd(e),e=e.sibling}function Vd(e){switch(e.tag){case 0:case 11:case 15:On(e),e.flags&2048&&Nl(9,e,e.return);break;case 3:On(e);break;case 12:On(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zs(e)):On(e);break;default:On(e)}}function Zs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Pe=a,Zd(a,e)}Xd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nl(8,t,t.return),Zs(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Zs(t));break;default:Zs(t)}e=e.sibling}}function Zd(e,t){for(;Pe!==null;){var l=Pe;switch(l.tag){case 0:case 11:case 15:Nl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:gn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Pe=a;else e:for(l=e;Pe!==null;){a=Pe;var n=a.sibling,i=a.return;if(Ud(a),a===l){Pe=null;break e}if(n!==null){n.return=i,Pe=n;break e}Pe=i}}}var Bm={getCacheForType:function(e){var t=lt(Ve),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return lt(Ve).controller.signal}},Hm=typeof WeakMap=="function"?WeakMap:Map,Ce=0,_e=null,me=null,ge=0,Te=0,St=null,wl=!1,Ha=!1,nu=!1,rl=0,Ye=0,Cl=0,la=0,su=0,Nt=0,Ra=0,Dn=null,xt=null,iu=!1,Ks=0,Kd=0,Js=1/0,Ws=null,Tl=null,We=0,Ml=null,qa=null,ol=0,cu=0,uu=null,Jd=null,kn=0,ru=null;function wt(){return(Ce&2)!==0&&ge!==0?ge&-ge:S.T!==null?gu():rr()}function Wd(){if(Nt===0)if((ge&536870912)===0||ye){var e=as;as<<=1,(as&3932160)===0&&(as=262144),Nt=e}else Nt=536870912;return e=pt.current,e!==null&&(e.flags|=32),Nt}function yt(e,t,l){(e===_e&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),El(e,ge,Nt,!1)),en(e,l),((Ce&2)===0||e!==_e)&&(e===_e&&((Ce&2)===0&&(la|=l),Ye===4&&El(e,ge,Nt,!1)),Zt(e))}function $d(e,t,l){if((Ce&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Pa(e,t),n=a?Ym(e,t):du(e,t,!0),i=a;do{if(n===0){Ha&&!a&&El(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Rm(l)){n=du(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var d=e;n=Dn;var h=d.current.memoizedState.isDehydrated;if(h&&(Ya(d,c).flags|=256),c=du(d,c,!1),c!==2){if(nu&&!h){d.errorRecoveryDisabledLanes|=i,la|=i,n=4;break e}i=xt,xt=n,i!==null&&(xt===null?xt=i:xt.push.apply(xt,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){Ya(e,0),El(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:El(a,t,Nt,!wl);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=Ks+300-ut(),10<n)){if(El(a,t,Nt,!wl),ss(a,0,!0)!==0)break e;ol=t,a.timeoutHandle=Ef(Fd.bind(null,a,l,xt,Ws,iu,t,Nt,la,Ra,wl,i,"Throttled",-0,0),n);break e}Fd(a,l,xt,Ws,iu,t,Nt,la,Ra,wl,i,null,-0,0)}}break}while(!0);Zt(e)}function Fd(e,t,l,a,n,i,c,d,h,N,z,k,T,M){if(e.timeoutHandle=-1,k=t.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},Qd(t,i,k);var W=(i&62914560)===i?Ks-ut():(i&4194048)===i?Kd-ut():0;if(W=Nh(k,W),W!==null){ol=i,e.cancelPendingCommit=W(sf.bind(null,e,t,i,l,a,n,c,d,h,z,k,null,T,M)),El(e,i,c,!N);return}}sf(e,t,i,l,a,n,c,d,h)}function Rm(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!vt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function El(e,t,l,a){t&=~su,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-Re(n),c=1<<i;a[i]=-1,n&=~c}l!==0&&ir(e,l,t)}function $s(){return(Ce&6)===0?(Ln(0),!1):!0}function ou(){if(me!==null){if(Te===0)var e=me.return;else e=me,Pt=Kl=null,Tc(e),_a=null,yn=0,e=me;for(;e!==null;)Ed(e.alternate,e),e=e.return;me=null}}function Ya(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,sh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),ol=0,ou(),_e=e,me=l=Ft(e.current,null),ge=t,Te=0,St=null,wl=!1,Ha=Pa(e,t),nu=!1,Ra=Nt=su=la=Cl=Ye=0,xt=Dn=null,iu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-Re(a),i=1<<n;t|=e[n],a&=~i}return rl=t,ys(),l}function Id(e,t){re=null,S.H=Cn,t===za||t===Cs?(t=ho(),Te=3):t===hc?(t=ho(),Te=4):Te=t===Gc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,St=t,me===null&&(Ye=1,Rs(e,zt(t,e.current)))}function Pd(){var e=pt.current;return e===null?!0:(ge&4194048)===ge?kt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===kt:!1}function ef(){var e=S.H;return S.H=Cn,e===null?Cn:e}function tf(){var e=S.A;return S.A=Bm,e}function Fs(){Ye=4,wl||(ge&4194048)!==ge&&pt.current!==null||(Ha=!0),(Cl&134217727)===0&&(la&134217727)===0||_e===null||El(_e,ge,Nt,!1)}function du(e,t,l){var a=Ce;Ce|=2;var n=ef(),i=tf();(_e!==e||ge!==t)&&(Ws=null,Ya(e,t)),t=!1;var c=Ye;e:do try{if(Te!==0&&me!==null){var d=me,h=St;switch(Te){case 8:ou(),c=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var N=Te;if(Te=0,St=null,Ga(e,d,h,N),l&&Ha){c=0;break e}break;default:N=Te,Te=0,St=null,Ga(e,d,h,N)}}qm(),c=Ye;break}catch(z){Id(e,z)}while(!0);return t&&e.shellSuspendCounter++,Pt=Kl=null,Ce=a,S.H=n,S.A=i,me===null&&(_e=null,ge=0,ys()),c}function qm(){for(;me!==null;)lf(me)}function Ym(e,t){var l=Ce;Ce|=2;var a=ef(),n=tf();_e!==e||ge!==t?(Ws=null,Js=ut()+500,Ya(e,t)):Ha=Pa(e,t);e:do try{if(Te!==0&&me!==null){t=me;var i=St;t:switch(Te){case 1:Te=0,St=null,Ga(e,t,i,1);break;case 2:case 9:if(fo(i)){Te=0,St=null,af(t);break}t=function(){Te!==2&&Te!==9||_e!==e||(Te=7),Zt(e)},i.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:fo(i)?(Te=0,St=null,af(t)):(Te=0,St=null,Ga(e,t,i,7));break;case 5:var c=null;switch(me.tag){case 26:c=me.memoizedState;case 5:case 27:var d=me;if(c?Qf(c):d.stateNode.complete){Te=0,St=null;var h=d.sibling;if(h!==null)me=h;else{var N=d.return;N!==null?(me=N,Is(N)):me=null}break t}}Te=0,St=null,Ga(e,t,i,5);break;case 6:Te=0,St=null,Ga(e,t,i,6);break;case 8:ou(),Ye=6;break e;default:throw Error(o(462))}}Gm();break}catch(z){Id(e,z)}while(!0);return Pt=Kl=null,S.H=a,S.A=n,Ce=l,me!==null?0:(_e=null,ge=0,ys(),Ye)}function Gm(){for(;me!==null&&!Ni();)lf(me)}function lf(e){var t=Td(e.alternate,e,rl);e.memoizedProps=e.pendingProps,t===null?Is(e):me=t}function af(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=pd(l,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=pd(l,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:Tc(t);default:Ed(l,t),t=me=eo(t,rl),t=Td(l,t,rl)}e.memoizedProps=e.pendingProps,t===null?Is(e):me=t}function Ga(e,t,l,a){Pt=Kl=null,Tc(t),_a=null,yn=0;var n=t.return;try{if(zm(e,n,t,l,ge)){Ye=1,Rs(e,zt(l,e.current)),me=null;return}}catch(i){if(n!==null)throw me=n,i;Ye=1,Rs(e,zt(l,e.current)),me=null;return}t.flags&32768?(ye||a===1?e=!0:Ha||(ge&536870912)!==0?e=!1:(wl=e=!0,(a===2||a===9||a===3||a===6)&&(a=pt.current,a!==null&&a.tag===13&&(a.flags|=16384))),nf(t,e)):Is(t)}function Is(e){var t=e;do{if((t.flags&32768)!==0){nf(t,wl);return}e=t.return;var l=Dm(t.alternate,t,rl);if(l!==null){me=l;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Ye===0&&(Ye=5)}function nf(e,t){do{var l=km(e.alternate,e);if(l!==null){l.flags&=32767,me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=l}while(e!==null);Ye=6,me=null}function sf(e,t,l,a,n,i,c,d,h){e.cancelPendingCommit=null;do Ps();while(We!==0);if((Ce&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=Pi,j0(e,l,i,c,d,h),e===_e&&(me=_e=null,ge=0),qa=t,Ml=e,ol=l,cu=i,uu=n,Jd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zm(Hl,function(){return df(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=S.T,S.T=null,n=L.p,L.p=2,c=Ce,Ce|=4;try{Lm(e,t,l)}finally{Ce=c,L.p=n,S.T=a}}We=1,cf(),uf(),rf()}}function cf(){if(We===1){We=0;var e=Ml,t=qa,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=S.T,S.T=null;var a=L.p;L.p=2;var n=Ce;Ce|=4;try{qd(t,e);var i=Nu,c=Vr(e.containerInfo),d=i.focusedElem,h=i.selectionRange;if(c!==d&&d&&d.ownerDocument&&Xr(d.ownerDocument.documentElement,d)){if(h!==null&&Ji(d)){var N=h.start,z=h.end;if(z===void 0&&(z=N),"selectionStart"in d)d.selectionStart=N,d.selectionEnd=Math.min(z,d.value.length);else{var k=d.ownerDocument||document,T=k&&k.defaultView||window;if(T.getSelection){var M=T.getSelection(),W=d.textContent.length,ne=Math.min(h.start,W),ze=h.end===void 0?ne:Math.min(h.end,W);!M.extend&&ne>ze&&(c=ze,ze=ne,ne=c);var b=Qr(d,ne),g=Qr(d,ze);if(b&&g&&(M.rangeCount!==1||M.anchorNode!==b.node||M.anchorOffset!==b.offset||M.focusNode!==g.node||M.focusOffset!==g.offset)){var j=k.createRange();j.setStart(b.node,b.offset),M.removeAllRanges(),ne>ze?(M.addRange(j),M.extend(g.node,g.offset)):(j.setEnd(g.node,g.offset),M.addRange(j))}}}}for(k=[],M=d;M=M.parentNode;)M.nodeType===1&&k.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<k.length;d++){var O=k[d];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}di=!!Su,Nu=Su=null}finally{Ce=n,L.p=a,S.T=l}}e.current=t,We=2}}function uf(){if(We===2){We=0;var e=Ml,t=qa,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=S.T,S.T=null;var a=L.p;L.p=2;var n=Ce;Ce|=4;try{Ld(e,t.alternate,t)}finally{Ce=n,L.p=a,S.T=l}}We=3}}function rf(){if(We===4||We===3){We=0,$n();var e=Ml,t=qa,l=ol,a=Jd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,qa=Ml=null,of(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Tl=null),Ai(l),t=t.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(X,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=S.T,n=L.p,L.p=2,S.T=null;try{for(var i=e.onRecoverableError,c=0;c<a.length;c++){var d=a[c];i(d.value,{componentStack:d.stack})}}finally{S.T=t,L.p=n}}(ol&3)!==0&&Ps(),Zt(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===ru?kn++:(kn=0,ru=e):kn=0,Ln(0)}}function of(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gn(t)))}function Ps(){return cf(),uf(),rf(),df()}function df(){if(We!==5)return!1;var e=Ml,t=cu;cu=0;var l=Ai(ol),a=S.T,n=L.p;try{L.p=32>l?32:l,S.T=null,l=uu,uu=null;var i=Ml,c=ol;if(We=0,qa=Ml=null,ol=0,(Ce&6)!==0)throw Error(o(331));var d=Ce;if(Ce|=4,Vd(i.current),Gd(i,i.current,c,l),Ce=d,Ln(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(X,i)}catch{}return!0}finally{L.p=n,S.T=a,of(e,t)}}function ff(e,t,l){t=zt(l,t),t=Yc(e.stateNode,t,2),e=pl(e,t,2),e!==null&&(en(e,2),Zt(e))}function Me(e,t,l){if(e.tag===3)ff(e,e,l);else for(;t!==null;){if(t.tag===3){ff(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Tl===null||!Tl.has(a))){e=zt(l,e),l=fd(2),a=pl(t,l,2),a!==null&&(md(l,a,t,e),en(a,2),Zt(a));break}}t=t.return}}function fu(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Hm;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(nu=!0,n.add(l),e=Qm.bind(null,e,t,l),t.then(e,e))}function Qm(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,_e===e&&(ge&l)===l&&(Ye===4||Ye===3&&(ge&62914560)===ge&&300>ut()-Ks?(Ce&2)===0&&Ya(e,0):su|=l,Ra===ge&&(Ra=0)),Zt(e)}function mf(e,t){t===0&&(t=sr()),e=Xl(e,t),e!==null&&(en(e,t),Zt(e))}function Xm(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),mf(e,l)}function Vm(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),mf(e,l)}function Zm(e,t){return Ia(e,t)}var ei=null,Qa=null,mu=!1,ti=!1,hu=!1,Al=0;function Zt(e){e!==Qa&&e.next===null&&(Qa===null?ei=Qa=e:Qa=Qa.next=e),ti=!0,mu||(mu=!0,Jm())}function Ln(e,t){if(!hu&&ti){hu=!0;do for(var l=!1,a=ei;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var c=a.suspendedLanes,d=a.pingedLanes;i=(1<<31-Re(42|e)+1)-1,i&=n&~(c&~d),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,yf(a,i))}else i=ge,i=ss(a,a===_e?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Pa(a,i)||(l=!0,yf(a,i));a=a.next}while(l);hu=!1}}function Km(){hf()}function hf(){ti=mu=!1;var e=0;Al!==0&&nh()&&(e=Al);for(var t=ut(),l=null,a=ei;a!==null;){var n=a.next,i=gf(a,t);i===0?(a.next=null,l===null?ei=n:l.next=n,n===null&&(Qa=l)):(l=a,(e!==0||(i&3)!==0)&&(ti=!0)),a=n}We!==0&&We!==5||Ln(e),Al!==0&&(Al=0)}function gf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-Re(i),d=1<<c,h=n[c];h===-1?((d&l)===0||(d&a)!==0)&&(n[c]=p0(d,t)):h<=t&&(e.expiredLanes|=d),i&=~d}if(t=_e,l=ge,l=ss(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ua(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Pa(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&ua(a),Ai(l)){case 2:case 8:l=Pn;break;case 32:l=Hl;break;case 268435456:l=ts;break;default:l=Hl}return a=xf.bind(null,e),l=Ia(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&ua(a),e.callbackPriority=2,e.callbackNode=null,2}function xf(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ps()&&e.callbackNode!==l)return null;var a=ge;return a=ss(e,e===_e?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:($d(e,a,t),gf(e,ut()),e.callbackNode!=null&&e.callbackNode===l?xf.bind(null,e):null)}function yf(e,t){if(Ps())return null;$d(e,t,!0)}function Jm(){ih(function(){(Ce&6)!==0?Ia(In,Km):hf()})}function gu(){if(Al===0){var e=Ea;e===0&&(e=ls,ls<<=1,(ls&261888)===0&&(ls=256)),Al=e}return Al}function vf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rs(""+e)}function bf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Wm(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=vf((n[dt]||null).action),c=a.submitter;c&&(t=(t=c[dt]||null)?vf(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var d=new ms("action","action",null,a,n);e.push({event:d,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Al!==0){var h=c?bf(n,c):new FormData(n);Lc(l,{pending:!0,data:h,method:n.method,action:i},null,h)}}else typeof i=="function"&&(d.preventDefault(),h=c?bf(n,c):new FormData(n),Lc(l,{pending:!0,data:h,method:n.method,action:i},i,h))},currentTarget:n}]})}}for(var xu=0;xu<Ii.length;xu++){var yu=Ii[xu],$m=yu.toLowerCase(),Fm=yu[0].toUpperCase()+yu.slice(1);Rt($m,"on"+Fm)}Rt(Jr,"onAnimationEnd"),Rt(Wr,"onAnimationIteration"),Rt($r,"onAnimationStart"),Rt("dblclick","onDoubleClick"),Rt("focusin","onFocus"),Rt("focusout","onBlur"),Rt(mm,"onTransitionRun"),Rt(hm,"onTransitionStart"),Rt(gm,"onTransitionCancel"),Rt(Fr,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ql("onBeforeInput",["compositionend","keypress","textInput","paste"]),ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Im=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Un));function pf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var c=a.length-1;0<=c;c--){var d=a[c],h=d.instance,N=d.currentTarget;if(d=d.listener,h!==i&&n.isPropagationStopped())break e;i=d,n.currentTarget=N;try{i(n)}catch(z){xs(z)}n.currentTarget=null,i=h}else for(c=0;c<a.length;c++){if(d=a[c],h=d.instance,N=d.currentTarget,d=d.listener,h!==i&&n.isPropagationStopped())break e;i=d,n.currentTarget=N;try{i(n)}catch(z){xs(z)}n.currentTarget=null,i=h}}}}function he(e,t){var l=t[zi];l===void 0&&(l=t[zi]=new Set);var a=e+"__bubble";l.has(a)||(jf(t,e,2,!1),l.add(a))}function vu(e,t,l){var a=0;t&&(a|=4),jf(l,e,a,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function bu(e){if(!e[li]){e[li]=!0,fr.forEach(function(l){l!=="selectionchange"&&(Im.has(l)||vu(l,!1,e),vu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,vu("selectionchange",!1,t))}}function jf(e,t,l,a){switch($f(t)){case 2:var n=Th;break;case 8:n=Mh;break;default:n=ku}l=n.bind(null,t,l,e),n=void 0,!Ri||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function pu(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var d=a.stateNode.containerInfo;if(d===n)break;if(c===4)for(c=a.return;c!==null;){var h=c.tag;if((h===3||h===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;d!==null;){if(c=da(d),c===null)return;if(h=c.tag,h===5||h===6||h===26||h===27){a=i=c;continue e}d=d.parentNode}}a=a.return}wr(function(){var N=i,z=Bi(l),k=[];e:{var T=Ir.get(e);if(T!==void 0){var M=ms,W=e;switch(e){case"keypress":if(ds(l)===0)break e;case"keydown":case"keyup":M=V0;break;case"focusin":W="focus",M=Qi;break;case"focusout":W="blur",M=Qi;break;case"beforeblur":case"afterblur":M=Qi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=D0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=J0;break;case Jr:case Wr:case $r:M=U0;break;case Fr:M=$0;break;case"scroll":case"scrollend":M=_0;break;case"wheel":M=I0;break;case"copy":case"cut":case"paste":M=H0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Ar;break;case"toggle":case"beforetoggle":M=em}var ne=(t&4)!==0,ze=!ne&&(e==="scroll"||e==="scrollend"),b=ne?T!==null?T+"Capture":null:T;ne=[];for(var g=N,j;g!==null;){var O=g;if(j=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||j===null||b===null||(O=an(g,b),O!=null&&ne.push(Bn(g,O,j))),ze)break;g=g.return}0<ne.length&&(T=new M(T,W,null,l,z),k.push({event:T,listeners:ne}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",T&&l!==Ui&&(W=l.relatedTarget||l.fromElement)&&(da(W)||W[oa]))break e;if((M||T)&&(T=z.window===z?z:(T=z.ownerDocument)?T.defaultView||T.parentWindow:window,M?(W=l.relatedTarget||l.toElement,M=N,W=W?da(W):null,W!==null&&(ze=v(W),ne=W.tag,W!==ze||ne!==5&&ne!==27&&ne!==6)&&(W=null)):(M=null,W=N),M!==W)){if(ne=Mr,O="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Ar,O="onPointerLeave",b="onPointerEnter",g="pointer"),ze=M==null?T:ln(M),j=W==null?T:ln(W),T=new ne(O,g+"leave",M,l,z),T.target=ze,T.relatedTarget=j,O=null,da(z)===N&&(ne=new ne(b,g+"enter",W,l,z),ne.target=j,ne.relatedTarget=ze,O=ne),ze=O,M&&W)t:{for(ne=Pm,b=M,g=W,j=0,O=b;O;O=ne(O))j++;O=0;for(var ee=g;ee;ee=ne(ee))O++;for(;0<j-O;)b=ne(b),j--;for(;0<O-j;)g=ne(g),O--;for(;j--;){if(b===g||g!==null&&b===g.alternate){ne=b;break t}b=ne(b),g=ne(g)}ne=null}else ne=null;M!==null&&Sf(k,T,M,ne,!1),W!==null&&ze!==null&&Sf(k,ze,W,ne,!0)}}e:{if(T=N?ln(N):window,M=T.nodeName&&T.nodeName.toLowerCase(),M==="select"||M==="input"&&T.type==="file")var je=Br;else if(Lr(T))if(Hr)je=om;else{je=um;var I=cm}else M=T.nodeName,!M||M.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?N&&Li(N.elementType)&&(je=Br):je=rm;if(je&&(je=je(e,N))){Ur(k,je,l,z);break e}I&&I(e,T,N),e==="focusout"&&N&&T.type==="number"&&N.memoizedProps.value!=null&&ki(T,"number",T.value)}switch(I=N?ln(N):window,e){case"focusin":(Lr(I)||I.contentEditable==="true")&&(pa=I,Wi=N,fn=null);break;case"focusout":fn=Wi=pa=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":$i=!1,Zr(k,l,z);break;case"selectionchange":if(fm)break;case"keydown":case"keyup":Zr(k,l,z)}var oe;if(Vi)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ba?Dr(e,l)&&(xe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(zr&&l.locale!=="ko"&&(ba||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ba&&(oe=Cr()):(ml=z,qi="value"in ml?ml.value:ml.textContent,ba=!0)),I=ai(N,xe),0<I.length&&(xe=new Er(xe,e,null,l,z),k.push({event:xe,listeners:I}),oe?xe.data=oe:(oe=kr(l),oe!==null&&(xe.data=oe)))),(oe=lm?am(e,l):nm(e,l))&&(xe=ai(N,"onBeforeInput"),0<xe.length&&(I=new Er("onBeforeInput","beforeinput",null,l,z),k.push({event:I,listeners:xe}),I.data=oe)),Wm(k,e,N,l,z)}pf(k,t)})}function Bn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function ai(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=an(e,l),n!=null&&a.unshift(Bn(e,n,i)),n=an(e,t),n!=null&&a.push(Bn(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Pm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sf(e,t,l,a,n){for(var i=t._reactName,c=[];l!==null&&l!==a;){var d=l,h=d.alternate,N=d.stateNode;if(d=d.tag,h!==null&&h===a)break;d!==5&&d!==26&&d!==27||N===null||(h=N,n?(N=an(l,i),N!=null&&c.unshift(Bn(l,N,h))):n||(N=an(l,i),N!=null&&c.push(Bn(l,N,h)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var eh=/\r\n?/g,th=/\u0000|\uFFFD/g;function Nf(e){return(typeof e=="string"?e:""+e).replace(eh,`
`).replace(th,"")}function wf(e,t){return t=Nf(t),Nf(e)===t}function Ae(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||xa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&xa(e,""+a);break;case"className":cs(e,"class",a);break;case"tabIndex":cs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(e,l,a);break;case"style":Sr(e,a,i);break;case"data":if(t!=="object"){cs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=rs(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Ae(e,t,"name",n.name,n,null),Ae(e,t,"formEncType",n.formEncType,n,null),Ae(e,t,"formMethod",n.formMethod,n,null),Ae(e,t,"formTarget",n.formTarget,n,null)):(Ae(e,t,"encType",n.encType,n,null),Ae(e,t,"method",n.method,n,null),Ae(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=rs(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Wt);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=rs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":he("beforetoggle",e),he("toggle",e),is(e,"popover",a);break;case"xlinkActuate":Jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Jt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Jt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Jt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Jt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":is(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=A0.get(l)||l,is(e,l,a))}}function ju(e,t,l,a,n,i){switch(l){case"style":Sr(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?xa(e,a):(typeof a=="number"||typeof a=="bigint")&&xa(e,""+a);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[dt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):is(e,l,a)}}}function nt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];if(c!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ae(e,t,i,c,l,null)}}n&&Ae(e,t,"srcSet",l.srcSet,l,null),a&&Ae(e,t,"src",l.src,l,null);return;case"input":he("invalid",e);var d=i=c=n=null,h=null,N=null;for(a in l)if(l.hasOwnProperty(a)){var z=l[a];if(z!=null)switch(a){case"name":n=z;break;case"type":c=z;break;case"checked":h=z;break;case"defaultChecked":N=z;break;case"value":i=z;break;case"defaultValue":d=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,t));break;default:Ae(e,t,a,z,l,null)}}vr(e,i,d,h,N,c,n,!1);return;case"select":he("invalid",e),a=c=i=null;for(n in l)if(l.hasOwnProperty(n)&&(d=l[n],d!=null))switch(n){case"value":i=d;break;case"defaultValue":c=d;break;case"multiple":a=d;default:Ae(e,t,n,d,l,null)}t=i,l=c,e.multiple=!!a,t!=null?ga(e,!!a,t,!1):l!=null&&ga(e,!!a,l,!0);return;case"textarea":he("invalid",e),i=n=a=null;for(c in l)if(l.hasOwnProperty(c)&&(d=l[c],d!=null))switch(c){case"value":a=d;break;case"defaultValue":n=d;break;case"children":i=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:Ae(e,t,c,d,l,null)}pr(e,a,n,i);return;case"option":for(h in l)if(l.hasOwnProperty(h)&&(a=l[h],a!=null))switch(h){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ae(e,t,h,a,l,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(a=0;a<Un.length;a++)he(Un[a],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in l)if(l.hasOwnProperty(N)&&(a=l[N],a!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ae(e,t,N,a,l,null)}return;default:if(Li(t)){for(z in l)l.hasOwnProperty(z)&&(a=l[z],a!==void 0&&ju(e,t,z,a,l,void 0));return}}for(d in l)l.hasOwnProperty(d)&&(a=l[d],a!=null&&Ae(e,t,d,a,l,null))}function lh(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,d=null,h=null,N=null,z=null;for(M in l){var k=l[M];if(l.hasOwnProperty(M)&&k!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":h=k;default:a.hasOwnProperty(M)||Ae(e,t,M,null,a,k)}}for(var T in a){var M=a[T];if(k=l[T],a.hasOwnProperty(T)&&(M!=null||k!=null))switch(T){case"type":i=M;break;case"name":n=M;break;case"checked":N=M;break;case"defaultChecked":z=M;break;case"value":c=M;break;case"defaultValue":d=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(137,t));break;default:M!==k&&Ae(e,t,T,M,a,k)}}Di(e,c,d,h,N,z,i,n);return;case"select":M=c=d=T=null;for(i in l)if(h=l[i],l.hasOwnProperty(i)&&h!=null)switch(i){case"value":break;case"multiple":M=h;default:a.hasOwnProperty(i)||Ae(e,t,i,null,a,h)}for(n in a)if(i=a[n],h=l[n],a.hasOwnProperty(n)&&(i!=null||h!=null))switch(n){case"value":T=i;break;case"defaultValue":d=i;break;case"multiple":c=i;default:i!==h&&Ae(e,t,n,i,a,h)}t=d,l=c,a=M,T!=null?ga(e,!!l,T,!1):!!a!=!!l&&(t!=null?ga(e,!!l,t,!0):ga(e,!!l,l?[]:"",!1));return;case"textarea":M=T=null;for(d in l)if(n=l[d],l.hasOwnProperty(d)&&n!=null&&!a.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Ae(e,t,d,null,a,n)}for(c in a)if(n=a[c],i=l[c],a.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":T=n;break;case"defaultValue":M=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&Ae(e,t,c,n,a,i)}br(e,T,M);return;case"option":for(var W in l)if(T=l[W],l.hasOwnProperty(W)&&T!=null&&!a.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Ae(e,t,W,null,a,T)}for(h in a)if(T=a[h],M=l[h],a.hasOwnProperty(h)&&T!==M&&(T!=null||M!=null))switch(h){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Ae(e,t,h,T,a,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in l)T=l[ne],l.hasOwnProperty(ne)&&T!=null&&!a.hasOwnProperty(ne)&&Ae(e,t,ne,null,a,T);for(N in a)if(T=a[N],M=l[N],a.hasOwnProperty(N)&&T!==M&&(T!=null||M!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(137,t));break;default:Ae(e,t,N,T,a,M)}return;default:if(Li(t)){for(var ze in l)T=l[ze],l.hasOwnProperty(ze)&&T!==void 0&&!a.hasOwnProperty(ze)&&ju(e,t,ze,void 0,a,T);for(z in a)T=a[z],M=l[z],!a.hasOwnProperty(z)||T===M||T===void 0&&M===void 0||ju(e,t,z,T,a,M);return}}for(var b in l)T=l[b],l.hasOwnProperty(b)&&T!=null&&!a.hasOwnProperty(b)&&Ae(e,t,b,null,a,T);for(k in a)T=a[k],M=l[k],!a.hasOwnProperty(k)||T===M||T==null&&M==null||Ae(e,t,k,T,a,M)}function Cf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ah(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,c=n.initiatorType,d=n.duration;if(i&&d&&Cf(c)){for(c=0,d=n.responseEnd,a+=1;a<l.length;a++){var h=l[a],N=h.startTime;if(N>d)break;var z=h.transferSize,k=h.initiatorType;z&&Cf(k)&&(h=h.responseEnd,c+=z*(h<d?1:(d-N)/(h-N)))}if(--a,t+=8*(i+c)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Su=null,Nu=null;function ni(e){return e.nodeType===9?e:e.ownerDocument}function Tf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cu=null;function nh(){var e=window.event;return e&&e.type==="popstate"?e===Cu?!1:(Cu=e,!0):(Cu=null,!1)}var Ef=typeof setTimeout=="function"?setTimeout:void 0,sh=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,ih=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(e){return Af.resolve(null).then(e).catch(ch)}:Ef;function ch(e){setTimeout(function(){throw e})}function zl(e){return e==="head"}function zf(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),Ka(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Hn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Hn(l);for(var i=l.firstChild;i;){var c=i.nextSibling,d=i.nodeName;i[tn]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=c}}else l==="body"&&Hn(e.ownerDocument.body);l=n}while(l);Ka(t)}function _f(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Tu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tu(l),_i(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function uh(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[tn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function rh(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Lt(e.nextSibling),e===null))return null;return e}function Of(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function Mu(e){return e.data==="$?"||e.data==="$~"}function Eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function oh(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Au=null;function Df(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Lt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Lf(e,t,l){switch(t=ni(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Hn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_i(e)}var Ut=new Map,Uf=new Set;function si(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dl=L.d;L.d={f:dh,r:fh,D:mh,C:hh,L:gh,m:xh,X:vh,S:yh,M:bh};function dh(){var e=dl.f(),t=$s();return e||t}function fh(e){var t=fa(e);t!==null&&t.tag===5&&t.type==="form"?Io(t):dl.r(e)}var Xa=typeof document>"u"?null:document;function Bf(e,t,l){var a=Xa;if(a&&typeof t=="string"&&t){var n=Et(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Uf.has(n)||(Uf.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),nt(t,"link",e),Ie(t),a.head.appendChild(t)))}}function mh(e){dl.D(e),Bf("dns-prefetch",e,null)}function hh(e,t){dl.C(e,t),Bf("preconnect",e,t)}function gh(e,t,l){dl.L(e,t,l);var a=Xa;if(a&&e&&t){var n='link[rel="preload"][as="'+Et(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Et(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Et(l.imageSizes)+'"]')):n+='[href="'+Et(e)+'"]';var i=n;switch(t){case"style":i=Va(e);break;case"script":i=Za(e)}Ut.has(i)||(e=C({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Ut.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Rn(i))||t==="script"&&a.querySelector(qn(i))||(t=a.createElement("link"),nt(t,"link",e),Ie(t),a.head.appendChild(t)))}}function xh(e,t){dl.m(e,t);var l=Xa;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Et(a)+'"][href="'+Et(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Za(e)}if(!Ut.has(i)&&(e=C({rel:"modulepreload",href:e},t),Ut.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qn(i)))return}a=l.createElement("link"),nt(a,"link",e),Ie(a),l.head.appendChild(a)}}}function yh(e,t,l){dl.S(e,t,l);var a=Xa;if(a&&e){var n=ma(a).hoistableStyles,i=Va(e);t=t||"default";var c=n.get(i);if(!c){var d={loading:0,preload:null};if(c=a.querySelector(Rn(i)))d.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Ut.get(i))&&zu(e,l);var h=c=a.createElement("link");Ie(h),nt(h,"link",e),h._p=new Promise(function(N,z){h.onload=N,h.onerror=z}),h.addEventListener("load",function(){d.loading|=1}),h.addEventListener("error",function(){d.loading|=2}),d.loading|=4,ii(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:d},n.set(i,c)}}}function vh(e,t){dl.X(e,t);var l=Xa;if(l&&e){var a=ma(l).hoistableScripts,n=Za(e),i=a.get(n);i||(i=l.querySelector(qn(n)),i||(e=C({src:e,async:!0},t),(t=Ut.get(n))&&_u(e,t),i=l.createElement("script"),Ie(i),nt(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function bh(e,t){dl.M(e,t);var l=Xa;if(l&&e){var a=ma(l).hoistableScripts,n=Za(e),i=a.get(n);i||(i=l.querySelector(qn(n)),i||(e=C({src:e,async:!0,type:"module"},t),(t=Ut.get(n))&&_u(e,t),i=l.createElement("script"),Ie(i),nt(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Hf(e,t,l,a){var n=(n=fe.current)?si(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Va(l.href),l=ma(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Va(l.href);var i=ma(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(Rn(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Ut.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ut.set(e,l),i||ph(n,e,l,c.state))),t&&a===null)throw Error(o(528,""));return c}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Za(l),l=ma(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Va(e){return'href="'+Et(e)+'"'}function Rn(e){return'link[rel="stylesheet"]['+e+"]"}function Rf(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function ph(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),nt(t,"link",l),Ie(t),e.head.appendChild(t))}function Za(e){return'[src="'+Et(e)+'"]'}function qn(e){return"script[async]"+e}function qf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Et(l.href)+'"]');if(a)return t.instance=a,Ie(a),a;var n=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ie(a),nt(a,"style",n),ii(a,l.precedence,e),t.instance=a;case"stylesheet":n=Va(l.href);var i=e.querySelector(Rn(n));if(i)return t.state.loading|=4,t.instance=i,Ie(i),i;a=Rf(l),(n=Ut.get(n))&&zu(a,n),i=(e.ownerDocument||e).createElement("link"),Ie(i);var c=i;return c._p=new Promise(function(d,h){c.onload=d,c.onerror=h}),nt(i,"link",a),t.state.loading|=4,ii(i,l.precedence,e),t.instance=i;case"script":return i=Za(l.src),(n=e.querySelector(qn(i)))?(t.instance=n,Ie(n),n):(a=l,(n=Ut.get(i))&&(a=C({},l),_u(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ie(n),nt(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ii(a,l.precedence,e));return t.instance}function ii(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,c=0;c<a.length;c++){var d=a[c];if(d.dataset.precedence===t)i=d;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ci=null;function Yf(e,t,l){if(ci===null){var a=new Map,n=ci=new Map;n.set(l,a)}else n=ci,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[tn]||i[et]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var d=a.get(c);d?d.push(i):a.set(c,[i])}}return a}function Gf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function jh(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sh(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Va(a.href),i=t.querySelector(Rn(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ui.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,Ie(i);return}i=t.ownerDocument||t,a=Rf(a),(n=Ut.get(n))&&zu(a,n),i=i.createElement("link"),Ie(i);var c=i;c._p=new Promise(function(d,h){c.onload=d,c.onerror=h}),nt(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ui.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Ou=0;function Nh(e,t){return e.stylesheets&&e.count===0&&oi(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&oi(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Ou===0&&(Ou=62500*ah());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&oi(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Ou?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function ui(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ri=null;function oi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ri=new Map,t.forEach(wh,e),ri=null,ui.call(e))}function wh(e,t){if(!(t.state.loading&4)){var l=ri.get(e);if(l)var a=l.get(null);else{l=new Map,ri.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}n=t.instance,c=n.getAttribute("data-precedence"),i=l.get(c)||a,i===a&&l.set(null,n),l.set(c,n),this.count++,a=ui.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Yn={$$typeof:Q,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Ch(e,t,l,a,n,i,c,d,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function Xf(e,t,l,a,n,i,c,d,h,N,z,k){return e=new Ch(e,t,l,c,h,N,z,k,d),t=1,i===!0&&(t|=24),i=bt(3,null,null,t),e.current=i,i.stateNode=e,t=dc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},gc(i),e}function Vf(e){return e?(e=Na,e):Na}function Zf(e,t,l,a,n,i){n=Vf(n),a.context===null?a.context=n:a.pendingContext=n,a=bl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=pl(e,a,t),l!==null&&(yt(l,e,t),bn(l,e,t))}function Kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Du(e,t){Kf(e,t),(e=e.alternate)&&Kf(e,t)}function Jf(e){if(e.tag===13||e.tag===31){var t=Xl(e,67108864);t!==null&&yt(t,e,67108864),Du(e,67108864)}}function Wf(e){if(e.tag===13||e.tag===31){var t=wt();t=Ei(t);var l=Xl(e,t);l!==null&&yt(l,e,t),Du(e,t)}}var di=!0;function Th(e,t,l,a){var n=S.T;S.T=null;var i=L.p;try{L.p=2,ku(e,t,l,a)}finally{L.p=i,S.T=n}}function Mh(e,t,l,a){var n=S.T;S.T=null;var i=L.p;try{L.p=8,ku(e,t,l,a)}finally{L.p=i,S.T=n}}function ku(e,t,l,a){if(di){var n=Lu(a);if(n===null)pu(e,t,a,fi,l),Ff(e,a);else if(Ah(n,e,t,l,a))a.stopPropagation();else if(Ff(e,a),t&4&&-1<Eh.indexOf(e)){for(;n!==null;){var i=fa(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Rl(i.pendingLanes);if(c!==0){var d=i;for(d.pendingLanes|=2,d.entangledLanes|=2;c;){var h=1<<31-Re(c);d.entanglements[1]|=h,c&=~h}Zt(i),(Ce&6)===0&&(Js=ut()+500,Ln(0))}}break;case 31:case 13:d=Xl(i,2),d!==null&&yt(d,i,2),$s(),Du(i,2)}if(i=Lu(a),i===null&&pu(e,t,a,fi,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else pu(e,t,a,null,l)}}function Lu(e){return e=Bi(e),Uu(e)}var fi=null;function Uu(e){if(fi=null,e=da(e),e!==null){var t=v(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=E(t),e!==null)return e;e=null}else if(l===31){if(e=A(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fi=e,null}function $f(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case In:return 2;case Pn:return 8;case Hl:case es:return 32;case ts:return 268435456;default:return 32}default:return 32}}var Bu=!1,_l=null,Ol=null,Dl=null,Gn=new Map,Qn=new Map,kl=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ff(e,t){switch(e){case"focusin":case"focusout":_l=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":Gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(t.pointerId)}}function Xn(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=fa(t),t!==null&&Jf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Ah(e,t,l,a,n){switch(t){case"focusin":return _l=Xn(_l,e,t,l,a,n),!0;case"dragenter":return Ol=Xn(Ol,e,t,l,a,n),!0;case"mouseover":return Dl=Xn(Dl,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return Gn.set(i,Xn(Gn.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Qn.set(i,Xn(Qn.get(i)||null,e,t,l,a,n)),!0}return!1}function If(e){var t=da(e.target);if(t!==null){var l=v(t);if(l!==null){if(t=l.tag,t===13){if(t=E(l),t!==null){e.blockedOn=t,or(e.priority,function(){Wf(l)});return}}else if(t===31){if(t=A(l),t!==null){e.blockedOn=t,or(e.priority,function(){Wf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Lu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ui=a,l.target.dispatchEvent(a),Ui=null}else return t=fa(l),t!==null&&Jf(t),e.blockedOn=l,!1;t.shift()}return!0}function Pf(e,t,l){mi(e)&&l.delete(t)}function zh(){Bu=!1,_l!==null&&mi(_l)&&(_l=null),Ol!==null&&mi(Ol)&&(Ol=null),Dl!==null&&mi(Dl)&&(Dl=null),Gn.forEach(Pf),Qn.forEach(Pf)}function hi(e,t){e.blockedOn===t&&(e.blockedOn=null,Bu||(Bu=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,zh)))}var gi=null;function e0(e){gi!==e&&(gi=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){gi===e&&(gi=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Uu(a||l)===null)continue;break}var i=fa(l);i!==null&&(e.splice(t,3),t-=3,Lc(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Ka(e){function t(h){return hi(h,e)}_l!==null&&hi(_l,e),Ol!==null&&hi(Ol,e),Dl!==null&&hi(Dl,e),Gn.forEach(t),Qn.forEach(t);for(var l=0;l<kl.length;l++){var a=kl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<kl.length&&(l=kl[0],l.blockedOn===null);)If(l),l.blockedOn===null&&kl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],c=n[dt]||null;if(typeof i=="function")c||e0(l);else if(c){var d=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[dt]||null)d=c.formAction;else if(Uu(n)!==null)continue}else d=c.action;typeof d=="function"?l[a+1]=d:(l.splice(a,3),a-=3),e0(l)}}}function t0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return n=c})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Hu(e){this._internalRoot=e}xi.prototype.render=Hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=wt();Zf(l,a,e,t,null,null)},xi.prototype.unmount=Hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zf(e.current,2,null,e,null,null),$s(),t[oa]=null}};function xi(e){this._internalRoot=e}xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=rr();e={blockedOn:null,target:e,priority:t};for(var l=0;l<kl.length&&t!==0&&t<kl[l].priority;l++);kl.splice(l,0,e),l===0&&If(e)}};var l0=r.version;if(l0!=="19.2.3")throw Error(o(527,l0,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var _h={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{X=yi.inject(_h),se=yi}catch{}}return Zn.createRoot=function(e,t){if(!m(e))throw Error(o(299));var l=!1,a="",n=ud,i=rd,c=od;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Xf(e,1,!1,null,null,l,a,null,n,i,c,t0),e[oa]=t.current,bu(e),new Hu(t)},Zn.hydrateRoot=function(e,t,l){if(!m(e))throw Error(o(299));var a=!1,n="",i=ud,c=rd,d=od,h=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(d=l.onRecoverableError),l.formState!==void 0&&(h=l.formState)),t=Xf(e,1,!0,t,l??null,a,n,h,i,c,d,t0),t.context=Vf(null),l=t.current,a=wt(),a=Ei(a),n=bl(a),n.callback=null,pl(l,n,a),l=a,t.current.lanes=l,en(t,l),Zt(t),e[oa]=t.current,bu(e),new xi(t)},Zn.version="19.2.3",Zn}var f0;function Yh(){if(f0)return Yu.exports;f0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),Yu.exports=qh(),Yu.exports}var Gh=Yh();const Le={SESSION:"soul_session",NOTES_SUBJECTS:"soul_notes_subjects",NOTES_TOPICS:"soul_notes_topics",NOTES:"soul_notes"};function bi(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Bt(u,r){try{const f=localStorage.getItem(u);return f?JSON.parse(f):r}catch{return r}}function Ht(u,r){try{localStorage.setItem(u,JSON.stringify(r))}catch(f){console.error("Failed to save to localStorage:",f)}}const Ul={get(){return Bt(Le.SESSION,null)},create(u,r){const f={id:bi(),studentName:u,gradeLevel:r,createdAt:new Date().toISOString()};return Ht(Le.SESSION,f),f},clear(){localStorage.removeItem(Le.SESSION)}},$e={getSubjects(){return Bt(Le.NOTES_SUBJECTS,[])},createSubject(u){const r=Ul.get()?.id||"anonymous",f={id:bi(),name:u,studentId:r,createdAt:new Date().toISOString(),topicCount:0},o=this.getSubjects();return o.push(f),Ht(Le.NOTES_SUBJECTS,o),f},deleteSubject(u){const r=this.getSubjects(),f=r.findIndex(m=>m.id===u);return f===-1?!1:(this.getTopics(u).forEach(m=>this.deleteTopic(m.id)),r.splice(f,1),Ht(Le.NOTES_SUBJECTS,r),!0)},getTopics(u){const r=Bt(Le.NOTES_TOPICS,[]);return u?r.filter(f=>f.subjectId===u):r},createTopic(u,r){const f={id:bi(),subjectId:u,name:r,createdAt:new Date().toISOString(),noteCount:0},o=Bt(Le.NOTES_TOPICS,[]);o.push(f),Ht(Le.NOTES_TOPICS,o);const m=this.getSubjects(),v=m.findIndex(E=>E.id===u);return v!==-1&&(m[v].topicCount++,Ht(Le.NOTES_SUBJECTS,m)),f},deleteTopic(u){const r=Bt(Le.NOTES_TOPICS,[]),f=r.findIndex(A=>A.id===u);if(f===-1)return!1;const o=r[f];this.getNotes(u).forEach(A=>this.deleteNote(A.id));const v=this.getSubjects(),E=v.findIndex(A=>A.id===o.subjectId);return E!==-1&&(v[E].topicCount=Math.max(0,v[E].topicCount-1),Ht(Le.NOTES_SUBJECTS,v)),r.splice(f,1),Ht(Le.NOTES_TOPICS,r),!0},getNotes(u){const r=Bt(Le.NOTES,[]);return u?r.filter(f=>f.topicId===u):r},getNote(u){return Bt(Le.NOTES,[]).find(f=>f.id===u)||null},createNote(u,r,f){const o=Ul.get()?.id||"anonymous",m=new Date().toISOString(),v={id:bi(),topicId:u,studentId:o,content:r,sourceMode:f||"notes",createdAt:m,updatedAt:m},E=Bt(Le.NOTES,[]);E.push(v),Ht(Le.NOTES,E);const A=Bt(Le.NOTES_TOPICS,[]),w=A.findIndex(y=>y.id===u);return w!==-1&&(A[w].noteCount++,Ht(Le.NOTES_TOPICS,A)),v},updateNote(u,r){const f=Bt(Le.NOTES,[]),o=f.findIndex(m=>m.id===u);return o===-1?null:(f[o].content=r,f[o].updatedAt=new Date().toISOString(),Ht(Le.NOTES,f),f[o])},deleteNote(u){const r=Bt(Le.NOTES,[]),f=r.findIndex(E=>E.id===u);if(f===-1)return!1;const o=r[f],m=Bt(Le.NOTES_TOPICS,[]),v=m.findIndex(E=>E.id===o.topicId);return v!==-1&&(m[v].noteCount=Math.max(0,m[v].noteCount-1),Ht(Le.NOTES_TOPICS,m)),r.splice(f,1),Ht(Le.NOTES,r),!0}},Wu="http://172.20.10.4:8080";let Kn=null;function it(){return Kn||(Kn=localStorage.getItem("soul_session_id")),Kn}function Qh(u){Kn=u,localStorage.setItem("soul_session_id",u)}function g0(){Kn=null,localStorage.removeItem("soul_session_id")}async function ji(u,r={}){const f=it(),o={"Content-Type":"application/json",...r.headers||{}};f&&(o["X-Session-ID"]=f);try{const m=await fetch(`${Wu}${u}`,{...r,headers:o}),v=await m.json();return m.ok?v:{success:!1,error:v.detail||v.error||`HTTP ${m.status}`}}catch(m){return console.error("API request failed:",m),{success:!1,error:m instanceof Error?m.message:"Network error"}}}async function ot(u){return ji(u,{method:"GET"})}async function Ge(u,r){return ji(u,{method:"POST",body:r?JSON.stringify(r):void 0})}async function er(u,r){return ji(u,{method:"PUT",body:r?JSON.stringify(r):void 0})}async function $a(u){return ji(u,{method:"DELETE"})}const pi={async createSession(u,r){const f=await Ge("/auth/student/session",{name:u,grade_level:r});return f.success&&f.data?(Qh(f.data.id),f.data):null},async getSession(){const u=it();if(!u)return null;const r=await ot(`/auth/session/${u}`);return r.success&&r.data||null},async endSession(){const u=it();if(!u)return!1;const r=await $a(`/auth/session/${u}`);return r.success&&g0(),r.success},async setSessionLanguage(u){const r=it();return r?(await er(`/auth/session/${r}/language`,{language:u})).success:!1}},Ja={async startSession(u){const r=await Ge("/tutor/session",{subject:u});return r.success&&r.data||null},async sendMessage(u,r,f=!1){const o=f?`/tutor/session/${u}/message/tts`:`/tutor/session/${u}/message`,m=await Ge(o,{content:r});return m.success&&m.data||null},async sendVoiceMessage(u,r,f){const o=await Ge(`/tutor/session/${u}/voice`,{audio_base64:r,language:f});return o.success&&o.data||null},async getHint(u,r){const f=await Ge(`/tutor/session/${u}/hint`,{context:r});return f.success&&f.data?f.data.hint:null},async getHistory(u){const r=await ot(`/tutor/session/${u}/history`);return r.success&&r.data?r.data.messages:[]}},Vu={async startAssessment(u,r){const f=await Ge("/assessment/start",{subject:u,topic:r});return f.success&&f.data||null},async getQuestion(u,r=!1){const f=r?`/assessment/${u}/question/audio`:`/assessment/${u}/question`,o=await ot(f);return o.success&&o.data||null},async submitAnswer(u,r,f){const o=await Ge(`/assessment/${u}/answer`,{question_id:r,answer:f});if(o.success&&o.data){const m=o.data;return{questionId:m.question_id,studentAnswer:m.student_answer,isCorrect:m.is_correct,feedback:m.feedback,misconception:m.misconception,correctAnswer:m.correct_answer,feedbackAudioBase64:m.feedback_audio_base64,timestamp:m.timestamp}}return null},async submitVoiceAnswer(u,r,f,o){const m=await Ge(`/assessment/${u}/answer/voice`,{question_id:r,audio_base64:f,language:o});return m.success&&m.data||null},async getResults(u){const r=await ot(`/assessment/${u}/results`);return r.success&&r.data||null},async getMisconceptions(u){const r=await ot(`/assessment/${u}/misconceptions`);return r.success&&r.data?r.data.misconceptions:[]}},Bl={async generateStory(u,r){const f=it(),o=await Ge(`/creator/story/generate?student_id=${f}`,{prompt:u,style:r?.style||"cartoon",age_group:r?.ageGroup||"elementary",length:r?.length||"medium",moral:r?.moral});return o.success&&o.data||null},async getStory(u){const r=await ot(`/creator/story/${u}`);return r.success&&r.data||null},async getStoryNarration(u){const r=it(),f=await ot(`/creator/story/${u}/narration?student_id=${r}`);return f.success&&f.data||null},async getPageNarration(u,r){const f=it(),o=await ot(`/creator/story/${u}/page/${r}/narration?student_id=${f}`);return o.success&&o.data||null},async generateImage(u,r){const f=it(),o=await Ge(`/creator/image/generate?student_id=${f}`,{prompt:u,style:r?.style||"cartoon",width:r?.width,height:r?.height});return o.success&&o.data||null},async startAdventure(u){const r=it(),f=u?.genre||"fantasy",o=u?.setting||"an enchanted forest",m=await Ge(`/creator/adventure/start?student_id=${r}`,{genre:f,setting:o,protagonist:u?.protagonist||"a brave young adventurer",use_lora:u?.loraId});if(m.success&&m.data){const v=m.data;return!v.current_scene||!v.current_scene.choices?(console.error("Adventure response missing current_scene or choices:",v),null):{id:v.id,title:v.title||"Adventure",currentScene:v.current_scene.text||"",choices:v.current_scene.choices.map(E=>({id:E.id,text:E.text||""})),history:[],createdAt:v.created_at||new Date().toISOString()}}return console.error("Adventure start failed:",m),null},async makeChoice(u,r,f,o){const m=it(),v=await Ge(`/creator/adventure/${u}/choice?student_id=${m}`,{choice_id:r,custom_choice:f||void 0});if(v.success&&v.data){const E=v.data;return!E.scene||!E.scene.choices?(console.error("Adventure choice response missing scene or choices:",E),null):{id:E.adventure_id,title:o?.title||"Adventure",currentScene:E.scene.text||"",choices:E.scene.choices.map(A=>({id:A.id,text:A.text||""})),history:[],createdAt:o?.createdAt||new Date().toISOString()}}return console.error("Adventure choice failed:",v),null},async getGallery(){const u=it(),r=await ot(`/creator/gallery?student_id=${u}`);if(r.success&&r.data){const f=r.data.items.filter(m=>m.type==="story").map(m=>({id:m.id,title:m.title||"Untitled Story",content:"",createdAt:m.created_at})),o=r.data.items.filter(m=>m.type==="image").map(m=>({id:m.id,prompt:"",imageUrl:m.thumbnail_url||"",createdAt:m.created_at}));return{stories:f,images:o}}return{stories:[],images:[]}},async getSettings(){const u=await ot("/creator/settings");return u.success&&u.data||null},async getWordDefinition(u,r){const f=await Ge(`/creator/define?word=${encodeURIComponent(u)}&context=${encodeURIComponent(r)}`,{});return f.success&&f.data?f.data.definition:null}},Kt={async getSubjects(){const u=await ot("/notes/subjects");return u.success&&u.data?u.data.subjects:[]},async createSubject(u){const r=await Ge("/notes/subjects",{name:u});return r.success&&r.data||null},async deleteSubject(u){return(await $a(`/notes/subjects/${u}`)).success},async getTopics(u){const r=await ot(`/notes/subjects/${u}/topics`);return r.success&&r.data?r.data.topics:[]},async createTopic(u,r){const f=await Ge(`/notes/subjects/${u}/topics`,{name:r});return f.success&&f.data||null},async deleteTopic(u,r){return(await $a(`/notes/subjects/${u}/topics/${r}`)).success},async getNotes(u){const r=await ot(`/notes?topic_id=${u}`);return r.success&&r.data?r.data.notes:[]},async createNote(u,r){const f=await Ge("/notes",{topic_id:u,content:r,source_mode:"notes"});return f.success&&f.data||null},async updateNote(u,r){const f=await er(`/notes/${u}`,{content:r});return f.success&&f.data||null},async deleteNote(u){return(await $a(`/notes/${u}`)).success},async dictateNote(u,r,f,o){const m=await Ge("/notes/dictate",{topic_id:u,audio_base64:r,append_to_note:f,language:o});return m.success&&m.data||null}};function Zu(u){return{id:u.id,authorId:u.author_id,authorName:u.author_name,contentType:u.content_type,textContent:u.text_content,mediaUrl:u.media_url,commentCount:u.comment_count,createdAt:u.created_at,isOwn:u.is_own}}function Ku(u){return{id:u.id,postId:u.post_id,authorId:u.author_id,authorName:u.author_name,content:u.content,createdAt:u.created_at,isOwn:u.is_own,isEdited:u.is_edited}}const Ct={async getFeed(u=0,r=20){const f=await ot(`/social/feed?offset=${u}&limit=${r}`);return f.success&&f.data?{posts:f.data.posts.map(Zu),total:f.data.total,offset:f.data.offset,limit:f.data.limit,hasMore:f.data.has_more}:null},async createPost(u,r,f){const o=await Ge("/social/posts",{content_type:u,text_content:r,media_id:f});return o.success&&o.data?Zu(o.data):null},async getPost(u){const r=await ot(`/social/posts/${u}`);if(r.success&&r.data){const f=Zu(r.data),o=(r.data.comments||[]).map(Ku);return{...f,comments:o}}return null},async addComment(u,r){if(r.length<100)return console.error("Comment must be at least 100 characters"),null;const f=await Ge(`/social/posts/${u}/comment`,{content:r});return f.success&&f.data?Ku(f.data):null},async deletePost(u){const r=await $a(`/social/posts/${u}`);return r.success&&r.data?.deleted===!0},async deleteComment(u){const r=await $a(`/social/comments/${u}`);return r.success&&r.data?.deleted===!0},async editComment(u,r,f=!1){if(r.length<100)return{error:"Comment must be at least 100 characters"};const o=await er(`/social/comments/${u}?force=${f}`,{content:r});return o.success?o.data?.requires_confirmation?{requiresConfirmation:!0,kindnessCheck:o.data.kindness_check?{allowed:o.data.kindness_check.allowed,blocked:o.data.kindness_check.blocked,warningLevel:o.data.kindness_check.warning_level,message:o.data.kindness_check.message}:void 0}:o.data?.id?{comment:Ku(o.data)}:{error:"Unexpected response"}:o.data?.kindness_check?{kindnessCheck:{allowed:o.data.kindness_check.allowed,blocked:o.data.kindness_check.blocked,warningLevel:o.data.kindness_check.warning_level,message:o.data.kindness_check.message},error:o.error}:{error:o.error||"Failed to edit comment"}},async uploadMedia(u){const r=it(),f=new FormData;f.append("file",u);try{const m=await(await fetch(`${Wu}/social/upload`,{method:"POST",headers:r?{"X-Session-ID":r}:{},body:f})).json();if(m.success&&m.data)return{mediaId:m.data.media_id,filename:m.data.filename,contentType:m.data.content_type,url:m.data.url}}catch(o){console.error("Media upload failed:",o)}return null},getMediaUrl(u){return`${Wu}/social/media/${u}`},async checkKindness(u){const r=await Ge("/social/kindness-check",{content:u});return r.success&&r.data?{allowed:r.data.allowed,blocked:r.data.blocked,warningLevel:r.data.warning_level,message:r.data.message,triggerPattern:r.data.trigger_pattern}:null},async recordWarningAction(u,r,f,o){const m=new URLSearchParams({warning_level:u.toString(),action:r});f&&m.set("trigger_pattern",f),o&&m.set("content_preview",o.slice(0,100));const v=await Ge(`/social/kindness-check/action?${m.toString()}`);return v.success&&v.data?.recorded===!0},async reportContent(u,r){const f=await Ge("/social/report",{content_type:u,content_id:r});return f.success&&f.data||null}};class $u{ws=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=1e3;onTranscript;onModeChange;onConnectionChange;constructor(r,f,o){this.onTranscript=r,this.onModeChange=f,this.onConnectionChange=o}connect(){const r=it();if(!r){console.error("No session ID for WebSocket connection");return}const o=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/instruction/live?session_id=${r}`;try{this.ws=new WebSocket(o),this.ws.onopen=()=>{console.log("Instruction WebSocket connected"),this.reconnectAttempts=0,this.onConnectionChange(!0)},this.ws.onmessage=m=>{try{const v=JSON.parse(m.data);v.type==="UTTERANCE"?this.onTranscript({id:v.id||Date.now().toString(),text:v.text,translation:v.translation,timestamp:v.timestamp||new Date().toISOString(),speaker:v.speaker}):v.type==="MODE_PUSH"&&this.onModeChange(v.mode)}catch(v){console.error("Failed to parse WebSocket message:",v)}},this.ws.onclose=()=>{console.log("Instruction WebSocket disconnected"),this.onConnectionChange(!1),this.attemptReconnect()},this.ws.onerror=m=>{console.error("WebSocket error:",m)}}catch(m){console.error("Failed to create WebSocket:",m),this.attemptReconnect()}}attemptReconnect(){if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const r=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Reconnecting in ${r}ms (attempt ${this.reconnectAttempts})`),setTimeout(()=>this.connect(),r)}}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}isConnected(){return this.ws?.readyState===WebSocket.OPEN}}class Xh{ws=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=1e3;onNewPost;onNewComment;onContentModerated;onConnectionChange;constructor(r,f,o,m){this.onNewPost=r,this.onNewComment=f,this.onContentModerated=o,this.onConnectionChange=m}connect(){const r=it();if(!r){console.error("No session ID for Social WebSocket connection");return}const o=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/social/live?session_id=${r}`;try{this.ws=new WebSocket(o),this.ws.onopen=()=>{console.log("Social WebSocket connected"),this.reconnectAttempts=0,this.onConnectionChange(!0)},this.ws.onmessage=m=>{try{const v=JSON.parse(m.data);v.type==="social_new_post"?this.onNewPost(v.data):v.type==="social_new_comment"?this.onNewComment(v.data):v.type==="social_content_moderated"&&this.onContentModerated(v.data)}catch(v){console.error("Failed to parse Social WebSocket message:",v)}},this.ws.onclose=()=>{console.log("Social WebSocket disconnected"),this.onConnectionChange(!1),this.attemptReconnect()},this.ws.onerror=m=>{console.error("Social WebSocket error:",m)}}catch(m){console.error("Failed to create Social WebSocket:",m),this.attemptReconnect()}}attemptReconnect(){if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const r=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Social WebSocket reconnecting in ${r}ms (attempt ${this.reconnectAttempts})`),setTimeout(()=>this.connect(),r)}}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}isConnected(){return this.ws?.readyState===WebSocket.OPEN}}const Vh=["K","1","2","3","4","5","6","7","8","9","10","11","12"];function Zh({onSessionStart:u}){const[r,f]=p.useState(""),[o,m]=p.useState(""),[v,E]=p.useState(null),[A,w]=p.useState(!1),y=async _=>{if(_.preventDefault(),!r.trim()){E("Please enter your name");return}w(!0),E(null);try{const C=await pi.createSession(r.trim(),o||void 0);Ul.create(r.trim(),o||void 0),u()}catch(C){console.warn("API unavailable, using offline mode:",C),Ul.create(r.trim(),o||void 0),u()}finally{w(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-600 rounded-2xl mb-4 shadow-lg",children:s.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"SOUL System"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Student Learning Portal"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:"Welcome! Let's get started."}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"What's your name?"}),s.jsx("input",{type:"text",id:"name",value:r,onChange:_=>f(_.target.value),disabled:A,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg disabled:bg-gray-100",placeholder:"Enter your name",autoComplete:"name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-700 mb-2",children:"What grade are you in? (optional)"}),s.jsxs("select",{id:"grade",value:o,onChange:_=>m(_.target.value),disabled:A,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg bg-white disabled:bg-gray-100",children:[s.jsx("option",{value:"",children:"Select grade level"}),Vh.map(_=>s.jsx("option",{value:_,children:_==="K"?"Kindergarten":`Grade ${_}`},_))]})]}),v&&s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:v}),s.jsx("button",{type:"submit",disabled:A,className:"w-full py-4 px-6 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold rounded-xl transition-colors duration-200 flex items-center justify-center gap-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):s.jsxs(s.Fragment,{children:["Start Learning",s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]}),s.jsx("p",{className:"text-center text-gray-500 text-sm mt-6",children:"Works online and offline"})]})})}const Kh=[{id:"learn",label:"Learn",color:"text-purple-600",bgColor:"bg-purple-100",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},{id:"practice",label:"Practice",color:"text-blue-600",bgColor:"bg-blue-100",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{id:"create",label:"Create",color:"text-amber-600",bgColor:"bg-amber-100",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})},{id:"connect",label:"Connect",color:"text-indigo-600",bgColor:"bg-indigo-100",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}];function Jh({currentTab:u,onTabChange:r}){return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bottom-nav safe-area-bottom",children:s.jsx("div",{className:"flex justify-around items-center h-16 max-w-lg mx-auto",children:Kh.map(f=>{const o=u===f.id;return s.jsxs("button",{onClick:()=>r(f.id),className:`nav-item flex flex-col items-center justify-center flex-1 h-full transition-all duration-200 hover:bg-gray-50/50
                ${o?`${f.color} nav-item-active`:"text-gray-400"}
              `,"aria-label":f.label,"aria-current":o?"page":void 0,children:[s.jsx("div",{className:`p-2 rounded-xl transition-all duration-200 ${o?`${f.bgColor} shadow-sm scale-110`:""}`,children:f.icon}),s.jsx("span",{className:`text-xs mt-1 font-semibold transition-opacity ${o?"opacity-100":"opacity-70"}`,children:f.label})]},f.id)})})})}function x0({options:u,onSelect:r}){return s.jsx("div",{className:"h-full flex flex-col p-4 bg-gray-50",children:s.jsx("div",{className:"flex-1 flex flex-col gap-4 justify-center max-w-md mx-auto w-full",children:u.map(f=>s.jsxs("button",{onClick:()=>r(f.id),className:"flex items-center gap-4 p-6 bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-md hover:border-gray-200 transition-all duration-200 text-left group",children:[s.jsx("div",{className:`p-4 rounded-xl ${f.bgColor} ${f.color} group-hover:scale-110 transition-transform duration-200`,children:f.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`text-lg font-bold ${f.color}`,children:f.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f.description})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-300 group-hover:text-gray-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},f.id))})})}function y0({title:u,onBack:r,color:f="bg-gray-100"}){return s.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 ${f}`,children:[s.jsx("button",{onClick:r,className:"p-2 -ml-2 rounded-lg hover:bg-black/5 transition-colors","aria-label":"Go back",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h1",{className:"text-lg font-bold",children:u})]})}function Wa({className:u=""}){return s.jsx("div",{className:`skeleton ${u}`})}function Wh({isUser:u=!1}){return s.jsx("div",{className:`flex ${u?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[75%] p-4 rounded-2xl ${u?"bg-blue-100 rounded-br-sm":"bg-gray-100 rounded-bl-sm"}`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wa,{className:"h-4 w-48"}),s.jsx(Wa,{className:"h-4 w-32"})]})})})}function $h(){return s.jsxs("div",{className:"card p-6 space-y-6",children:[s.jsx(Wa,{className:"h-6 w-full"}),s.jsx(Wa,{className:"h-4 w-3/4"}),s.jsx("div",{className:"space-y-3 mt-6",children:Array.from({length:4}).map((u,r)=>s.jsx(Wa,{className:"h-14 w-full rounded-xl"},r))}),s.jsx(Wa,{className:"h-12 w-full rounded-xl mt-4"})]})}function Si({icon:u,title:r,description:f,action:o,className:m=""}){return s.jsxs("div",{className:`empty-state animate-fade-in ${m}`,children:[s.jsx("div",{className:"empty-state-icon",children:u}),s.jsx("h3",{className:"empty-state-title",children:r}),s.jsx("p",{className:"empty-state-description",children:f}),o&&s.jsx("div",{className:"mt-6",children:o})]})}function m0(){return s.jsxs("svg",{viewBox:"0 0 120 120",fill:"none",className:"w-full h-full",children:[s.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"#F5F3FF"}),s.jsx("path",{d:"M40 70V60C40 48.954 48.954 40 60 40C71.046 40 80 48.954 80 60V70",stroke:"#8B5CF6",strokeWidth:"4",strokeLinecap:"round"}),s.jsx("rect",{x:"32",y:"65",width:"12",height:"20",rx:"4",fill:"#8B5CF6"}),s.jsx("rect",{x:"76",y:"65",width:"12",height:"20",rx:"4",fill:"#8B5CF6"}),s.jsx("path",{d:"M95 50C100 55 100 65 95 70",stroke:"#C4B5FD",strokeWidth:"3",strokeLinecap:"round",className:"animate-pulse"}),s.jsx("path",{d:"M100 45C108 52 108 68 100 75",stroke:"#DDD6FE",strokeWidth:"3",strokeLinecap:"round",className:"animate-pulse",style:{animationDelay:"0.2s"}})]})}function Fh(){return s.jsxs("svg",{viewBox:"0 0 120 120",fill:"none",className:"w-full h-full",children:[s.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"#EFF6FF"}),s.jsx("path",{d:"M30 45C30 38.373 35.373 33 42 33H78C84.627 33 90 38.373 90 45V65C90 71.627 84.627 77 78 77H50L38 87V77H42C35.373 77 30 71.627 30 65V45Z",fill:"#3B82F6"}),s.jsx("circle",{cx:"50",cy:"55",r:"4",fill:"white",className:"animate-bounce"}),s.jsx("circle",{cx:"60",cy:"55",r:"4",fill:"white",className:"animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("circle",{cx:"70",cy:"55",r:"4",fill:"white",className:"animate-bounce",style:{animationDelay:"0.2s"}}),s.jsx("path",{d:"M85 30L87 35L92 37L87 39L85 44L83 39L78 37L83 35L85 30Z",fill:"#93C5FD"})]})}function Ih(){return s.jsxs("svg",{viewBox:"0 0 120 120",fill:"none",className:"w-full h-full",children:[s.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"#ECFDF5"}),s.jsx("rect",{x:"35",y:"30",width:"50",height:"65",rx:"4",fill:"white",stroke:"#10B981",strokeWidth:"3"}),s.jsx("rect",{x:"45",y:"25",width:"30",height:"12",rx:"4",fill:"#10B981"}),s.jsx("rect",{x:"42",y:"48",width:"12",height:"12",rx:"2",stroke:"#10B981",strokeWidth:"2",fill:"white"}),s.jsx("path",{d:"M45 54L48 57L53 51",stroke:"#10B981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("rect",{x:"58",y:"52",width:"20",height:"4",rx:"2",fill:"#D1FAE5"}),s.jsx("rect",{x:"42",y:"66",width:"12",height:"12",rx:"2",stroke:"#10B981",strokeWidth:"2",fill:"white"}),s.jsx("rect",{x:"58",y:"70",width:"16",height:"4",rx:"2",fill:"#D1FAE5"}),s.jsx("path",{d:"M90 45L92 50L97 51L93 55L94 60L90 58L86 60L87 55L83 51L88 50L90 45Z",fill:"#FCD34D"})]})}function Ph(){return s.jsxs("svg",{viewBox:"0 0 120 120",fill:"none",className:"w-full h-full",children:[s.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"#FFFBEB"}),s.jsx("path",{d:"M60 40V85M60 40C55 38 45 36 35 38V83C45 81 55 83 60 85M60 40C65 38 75 36 85 38V83C75 81 65 83 60 85",stroke:"#F59E0B",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"white"}),s.jsx("circle",{cx:"45",cy:"28",r:"3",fill:"#FCD34D",className:"animate-pulse"}),s.jsx("circle",{cx:"75",cy:"32",r:"2",fill:"#FBBF24",className:"animate-pulse",style:{animationDelay:"0.3s"}}),s.jsx("circle",{cx:"85",cy:"50",r:"2.5",fill:"#FDE68A",className:"animate-pulse",style:{animationDelay:"0.6s"}}),s.jsx("path",{d:"M80 70L90 60L95 65L85 75L80 76L80 70Z",fill:"#F59E0B",stroke:"#D97706",strokeWidth:"1"})]})}function eg(){return s.jsxs("svg",{viewBox:"0 0 120 120",fill:"none",className:"w-full h-full",children:[s.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"#FEF2F2"}),s.jsx("rect",{x:"35",y:"28",width:"50",height:"64",rx:"3",fill:"white",stroke:"#EF4444",strokeWidth:"3"}),s.jsx("circle",{cx:"35",cy:"38",r:"3",fill:"#FCA5A5"}),s.jsx("circle",{cx:"35",cy:"52",r:"3",fill:"#FCA5A5"}),s.jsx("circle",{cx:"35",cy:"66",r:"3",fill:"#FCA5A5"}),s.jsx("circle",{cx:"35",cy:"80",r:"3",fill:"#FCA5A5"}),s.jsx("line",{x1:"45",y1:"45",x2:"75",y2:"45",stroke:"#FEE2E2",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"45",y1:"55",x2:"70",y2:"55",stroke:"#FEE2E2",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"45",y1:"65",x2:"72",y2:"65",stroke:"#FEE2E2",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("line",{x1:"45",y1:"75",x2:"65",y2:"75",stroke:"#FEE2E2",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M88 30L95 37M95 37L78 54L73 55L74 50L91 33L95 37Z",fill:"#EF4444",stroke:"#DC2626",strokeWidth:"1"})]})}function tg(){return s.jsxs("svg",{viewBox:"0 0 120 120",fill:"none",className:"w-full h-full",children:[s.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"#EEF2FF"}),s.jsx("circle",{cx:"60",cy:"45",r:"10",fill:"#6366F1"}),s.jsx("path",{d:"M45 72C45 63.716 51.716 57 60 57C68.284 57 75 63.716 75 72V75H45V72Z",fill:"#6366F1"}),s.jsx("circle",{cx:"30",cy:"50",r:"7",fill:"#A5B4FC"}),s.jsx("path",{d:"M20 72C20 66.477 24.477 62 30 62C35.523 62 40 66.477 40 72V74H20V72Z",fill:"#A5B4FC"}),s.jsx("circle",{cx:"90",cy:"50",r:"7",fill:"#A5B4FC"}),s.jsx("path",{d:"M80 72C80 66.477 84.477 62 90 62C95.523 62 100 66.477 100 72V74H80V72Z",fill:"#A5B4FC"}),s.jsx("line",{x1:"40",y1:"55",x2:"50",y2:"50",stroke:"#C7D2FE",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"3 3"}),s.jsx("line",{x1:"80",y1:"55",x2:"70",y2:"50",stroke:"#C7D2FE",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"3 3"}),s.jsx("path",{d:"M75 28C75 25.791 76.791 24 79 24H90C92.209 24 94 25.791 94 28V35C94 37.209 92.209 39 90 39H82L78 43V39H79C76.791 39 75 37.209 75 35V28Z",fill:"#818CF8"}),s.jsx("circle",{cx:"82",cy:"31",r:"1.5",fill:"white"}),s.jsx("circle",{cx:"86",cy:"31",r:"1.5",fill:"white"}),s.jsx("circle",{cx:"90",cy:"31",r:"1.5",fill:"white"}),s.jsx("path",{d:"M30 30C30 27 32 25 35 25C37 25 38.5 26.5 39 28C39.5 26.5 41 25 43 25C46 25 48 27 48 30C48 35 39 42 39 42C39 42 30 35 30 30Z",fill:"#F472B6"})]})}function vi({icon:u,label:r,onClick:f}){return s.jsxs("button",{onClick:f,className:"card card-interactive bg-white rounded-xl p-4 flex flex-col items-center gap-2 min-w-[100px]",children:[s.jsx("div",{className:"text-2xl",children:u}),s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:r})]})}const h0=new Set(["a","an","the","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","its","our","their","mine","yours","ours","theirs","this","that","these","those","who","what","which","whom","whose","and","or","but","so","if","as","of","to","in","on","at","by","for","with","from","up","down","out","into","over","under","about","is","am","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","can","may","might","must","shall","go","goes","went","gone","get","got","come","came","say","said","says","see","saw","seen","know","knew","known","man","men","woman","women","boy","girl","dog","cat","bird","day","time","year","way","thing","place","people","person","one","two","three","four","five","first","second","third","good","bad","big","small","new","old","little","great","right","just","now","then","here","there","very","also","only","not","no","yes","all","some","any","more","most","other","same","such","own","each"]);function lg({text:u,className:r=""}){const[f,o]=p.useState(null),[m,v]=p.useState(new Map),E=p.useCallback(async(y,_)=>{const C=y.toLowerCase().replace(/[^a-z]/g,"");if(h0.has(C)||C.length<2)return;const U=_.target.getBoundingClientRect(),V=U.left+U.width/2,G=U.bottom+8,B=`${C}:${u.slice(0,100)}`;if(m.has(B)){o({word:C,definition:m.get(B)||null,loading:!1,x:V,y:G});return}o({word:C,definition:null,loading:!0,x:V,y:G});try{const J=await Bl.getWordDefinition(C,u);J&&v(H=>new Map(H).set(B,J)),o(H=>H?.word===C?{...H,definition:J,loading:!1}:H)}catch(J){console.error("Failed to get definition:",J),o(H=>H?.word===C?{...H,definition:"Could not load definition",loading:!1}:H)}},[u,m]),A=p.useCallback(()=>{o(null)},[]),w=u.split(/(\s+)/);return s.jsxs("span",{className:r,onClick:A,children:[w.map((y,_)=>{if(/^\s+$/.test(y))return s.jsx("span",{children:y},_);const C=y.match(/^([a-zA-Z]+)(.*)$/);if(!C)return s.jsx("span",{children:y},_);const[,U,V]=C,G=U.toLowerCase(),B=!h0.has(G)&&G.length>=2;return s.jsxs("span",{children:[s.jsx("span",{className:B?"cursor-pointer hover:bg-amber-100 hover:text-amber-800 rounded px-0.5 -mx-0.5 transition-colors":"",onClick:B?J=>{J.stopPropagation(),E(U,J)}:void 0,children:U}),V]},_)}),f&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:y=>{y.stopPropagation(),A()}}),s.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white text-sm rounded-lg px-3 py-2 max-w-xs shadow-lg",style:{left:`${f.x}px`,top:`${f.y}px`,transform:"translateX(-50%)"},children:[s.jsx("div",{className:"font-semibold text-amber-300 mb-1",children:f.word}),f.loading?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Loading..."})]}):s.jsx("div",{children:f.definition}),s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-0 h-0 border-l-8 border-r-8 border-b-8 border-l-transparent border-r-transparent border-b-gray-900"})]})]})]})}const ag=["I really like how you...","This made me think about...","Great job on...","I noticed that...","This reminds me of..."];function ng({isOpen:u,warningLevel:r,message:f,onEdit:o,onPostAnyway:m,onCancel:v}){const[E,A]=p.useState(0),[w,y]=p.useState(!1),_=p.useCallback(()=>r===0?0:r===1?2:5,[r]);if(p.useEffect(()=>{if(u&&r>0){const U=_();if(A(U),y(!1),U>0){const V=setInterval(()=>{A(G=>G<=1?(y(!0),clearInterval(V),0):G-1)},1e3);return()=>clearInterval(V)}else y(!0)}},[u,r,_]),!u)return null;const C=r===0;return s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-fade-in",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-[calc(100vw-2rem)] shadow-2xl animate-scale-up overflow-hidden",children:[s.jsx("div",{className:`p-6 ${C?"bg-red-50":"bg-amber-50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${C?"bg-red-100":"bg-amber-100"}`,children:C?s.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}):r===1?s.jsx("svg",{className:"w-8 h-8 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}):s.jsx("svg",{className:"w-8 h-8 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-bold ${C?"text-red-800":"text-amber-800"}`,children:C?"Let's try again":"Take a moment"}),s.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:C?"This message cannot be shared":"Being kind helps everyone"})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:`text-lg leading-relaxed ${C?"text-red-700":"text-gray-700"}`,children:f}),r>=2&&s.jsxs("div",{className:"mt-5 p-4 bg-indigo-50 rounded-xl",children:[s.jsxs("p",{className:"text-sm font-medium text-indigo-700 mb-2 flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Try starting with:"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ag.map((U,V)=>s.jsx("button",{onClick:()=>{o()},className:"px-3 py-1.5 bg-white text-indigo-600 text-xs sm:text-sm rounded-full hover:bg-indigo-100 transition-colors border border-indigo-200 whitespace-nowrap",children:U},V))})]}),r===3&&s.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-gray-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-sm text-gray-600",children:"If you choose to share anyway, your teacher will be able to see this post."})]})]}),s.jsx("div",{className:"p-6 pt-0 flex gap-3",children:C?s.jsxs("button",{onClick:v,className:"flex-1 py-3 px-4 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors",children:[s.jsx("span",{className:"hidden sm:inline",children:"Write something kind instead"}),s.jsx("span",{className:"sm:hidden",children:"Try again kindly"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:o,className:"flex-1 py-3 px-4 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors",children:"Edit my message"}),s.jsx("button",{onClick:m,disabled:!w,className:`py-3 px-4 rounded-xl font-medium transition-all ${w?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:w?"Share anyway":s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center text-sm",children:E}),"Wait..."]})})]})})]})})}function sg({onModeChange:u}){const[r,f]=p.useState([]),[o,m]=p.useState(!1),[v,E]=p.useState(null),A=p.useRef(null),w=p.useRef(null),y=p.useCallback(B=>{f(J=>J.some(H=>H.id===B.id)?J:[...J,B])},[]),_=p.useCallback(B=>{u&&u(B)},[u]),C=p.useCallback(B=>{m(B),B&&E(null)},[]),V=!it();p.useEffect(()=>{if(!V)return w.current=new $u(y,_,C),w.current.connect(),()=>{w.current&&(w.current.disconnect(),w.current=null)}},[V,y,_,C]),p.useEffect(()=>{A.current&&(A.current.scrollTop=A.current.scrollHeight)},[r]);const G=()=>{E(null),w.current&&w.current.disconnect(),w.current=new $u(y,_,C),w.current.connect()};return s.jsxs("div",{className:"h-full flex flex-col mode-instruction",children:[s.jsx("div",{className:"flex-shrink-0 px-4 py-3 mode-header bg-violet-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-bold",children:"Instruction"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${o?"bg-green-400 animate-pulse":"bg-red-400"}`}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:o?"Live":"Disconnected"})]})]})}),V&&s.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm",children:"No session. Please log in to receive live instruction."}),v&&!V&&s.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm flex items-center justify-between",children:[s.jsx("span",{children:v}),s.jsx("button",{onClick:G,className:"ml-2 px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Retry"})]}),!o&&!v&&!V&&s.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 px-4 py-2 text-sm flex items-center justify-between",children:[s.jsx("span",{children:"Connecting to live instruction..."}),s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"})]}),s.jsx("div",{ref:A,className:"flex-1 overflow-y-auto p-4 gradient-instruction",children:r.length===0?s.jsx("div",{className:"h-full flex flex-col items-center justify-center",children:o?s.jsx(Si,{icon:s.jsx(m0,{}),title:"Waiting for Instruction",description:"Connected to the classroom. Teacher speech will appear here in real-time."}):s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4",children:s.jsx(m0,{})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Offline Learning Mode"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-xs mx-auto",children:"You're working offline. Explore other learning modes!"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-xs mx-auto",children:[s.jsx(vi,{icon:"",label:"AI Tutor"}),s.jsx(vi,{icon:"",label:"Take Quiz"}),s.jsx(vi,{icon:"",label:"Create Stories"}),s.jsx(vi,{icon:"",label:"Write Notes"})]})]})}):s.jsx("div",{className:"space-y-4",children:r.map(B=>s.jsx(ig,{entry:B},B.id))})})]})}function ig({entry:u}){const r=u.speaker==="teacher",f=new Date(u.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return s.jsx("div",{className:`flex ${r?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[85%] p-3 rounded-2xl ${r?"bg-white border border-violet-200 rounded-tl-sm":"bg-violet-600 text-white rounded-tr-sm"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-xs font-medium ${r?"text-violet-600":"text-violet-200"}`,children:r?"Teacher":"Student"}),s.jsx("span",{className:`text-xs ${r?"text-gray-400":"text-violet-200"}`,children:f})]}),s.jsx("p",{className:"text-base leading-relaxed",children:u.text}),u.translation&&s.jsx("p",{className:"text-sm mt-2 pt-2 border-t border-violet-100 text-gray-600 italic",children:u.translation})]})})}function tr(){const[u,r]=p.useState(!1),[f,o]=p.useState(null),[m,v]=p.useState(null),E=p.useRef(null),A=p.useRef([]),w=p.useRef(null),y=p.useCallback(async()=>{try{o(null),v(null),A.current=[];const U=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});w.current=U;const V=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/wav",G=new MediaRecorder(U,{mimeType:V});E.current=G,G.ondataavailable=B=>{B.data.size>0&&A.current.push(B.data)},G.start(100),r(!0)}catch(U){const V=U instanceof Error?U.message:"Failed to access microphone";o(V),console.error("Recording error:",U)}},[]),_=p.useCallback(async()=>new Promise(U=>{if(!E.current||E.current.state==="inactive"){r(!1),U(null);return}E.current.onstop=async()=>{const V=new Blob(A.current,{type:E.current?.mimeType||"audio/webm"});w.current?.getTracks().forEach(B=>B.stop()),w.current=null;const G=new FileReader;G.onloadend=()=>{const B=G.result.split(",")[1];r(!1),v(B),U(B)},G.onerror=()=>{r(!1),o("Failed to process audio"),U(null)},G.readAsDataURL(V)},E.current.stop()}),[]),C=p.useCallback(()=>{E.current&&E.current.state!=="inactive"&&E.current.stop(),w.current?.getTracks().forEach(U=>U.stop()),w.current=null,A.current=[],r(!1),v(null)},[]);return{isRecording:u,startRecording:y,stopRecording:_,cancelRecording:C,error:f,audioBase64:m}}function lr(){const[u,r]=p.useState(!1),[f,o]=p.useState(null),m=p.useRef(null),v=p.useCallback(A=>{try{o(null),m.current&&(m.current.pause(),m.current=null);const w=new Audio(`data:audio/wav;base64,${A}`);m.current=w,w.onplay=()=>r(!0),w.onended=()=>{r(!1),m.current=null},w.onerror=()=>{o("Failed to play audio"),r(!1),m.current=null},w.play().catch(y=>{o("Failed to play audio"),console.error("Audio playback error:",y)})}catch(w){o("Failed to play audio"),console.error("Audio player error:",w)}},[]),E=p.useCallback(()=>{m.current&&(m.current.pause(),m.current.currentTime=0,m.current=null,r(!1))},[]);return{isPlaying:u,play:v,stop:E,error:f}}const cg=[{value:"Mathematics",label:"Math"},{value:"Science",label:"Science"},{value:"English Language Arts",label:"English"},{value:"History",label:"History"},{value:"Computer Science",label:"Computer Science"},{value:"General",label:"General"}];function ug(){const[u,r]=p.useState([]),[f,o]=p.useState(""),[m,v]=p.useState(""),[E,A]=p.useState(!1),[w,y]=p.useState(null),[_,C]=p.useState(null),[U,V]=p.useState(!0),G=p.useRef(null),B=p.useRef(null),{play:J,isPlaying:H}=lr(),{isRecording:P,startRecording:Q,stopRecording:R,audioBase64:te,error:be}=tr();p.useEffect(()=>{(async()=>{try{const le=await Ja.startSession(m||void 0);if(le){const de=le.id;y(de);const ve=await Ja.getHistory(de);ve.length>0&&r(ve)}else C("Failed to start tutor session. Please try refreshing the page.")}catch(le){console.error("Failed to start tutor session:",le),C("Failed to connect to tutor. Please check your connection.")}})()},[]),p.useEffect(()=>{m&&(async()=>{r([]);const le=await Ja.startSession(m);le&&y(le.id)})()},[m]),p.useEffect(()=>{G.current&&(G.current.scrollTop=G.current.scrollHeight)},[u]),p.useEffect(()=>{(async()=>{if(!(!te||!w||P)){A(!0),C(null);try{const le=await Ja.sendVoiceMessage(w,te);if(le){const de={id:Date.now().toString(),role:"user",content:le.transcribed_text,timestamp:new Date().toISOString()};r(Oe=>[...Oe,de]);const ve={id:(Date.now()+1).toString(),role:"assistant",content:le.response_text,timestamp:new Date().toISOString(),audioBase64:le.response_audio_base64};r(Oe=>[...Oe,ve]),le.response_audio_base64&&J(le.response_audio_base64)}}catch(le){C("Voice input failed. Please try again."),console.error("Voice error:",le)}finally{A(!1)}}})()},[te,P,w,J]);const ie=async Z=>{if(Z?.preventDefault(),!f.trim()||E||!w)return;const le=f.trim();o(""),A(!0),C(null);const de={id:Date.now().toString(),role:"user",content:le,timestamp:new Date().toISOString()};r(ve=>[...ve,de]);try{const ve=await Ja.sendMessage(w,le,U);if(ve){const Oe={id:ve.message_id,role:"assistant",content:ve.content,timestamp:new Date().toISOString(),audioBase64:ve.audio_base64};r($=>[...$,Oe]),ve.audio_base64&&J(ve.audio_base64)}else C("Failed to get response from tutor")}catch(ve){C("Connection error. Please try again."),console.error("Tutor error:",ve)}finally{A(!1),B.current?.focus()}},Ne=async()=>{if(!(!w||E)){A(!0);try{const Z=u.filter(de=>de.role==="user").pop(),le=await Ja.getHint(w,Z?.content);if(le){const de={id:Date.now().toString(),role:"assistant",content:` Hint: ${le}`,timestamp:new Date().toISOString()};r(ve=>[...ve,de])}}catch(Z){console.error("Hint error:",Z)}finally{A(!1)}}},Ue=Ul.get();return s.jsxs("div",{className:"h-full flex flex-col mode-tutor",children:[s.jsx("div",{className:"flex-shrink-0 px-4 py-3 mode-header bg-blue-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-bold",children:"AI Tutor"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>V(!U),className:`p-2 rounded-lg transition-colors ${U?"bg-blue-500":"bg-blue-700"}`,title:U?"Voice responses on":"Voice responses off",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})})}),s.jsxs("select",{value:m,onChange:Z=>v(Z.target.value),className:"bg-blue-700 text-white text-sm rounded-lg px-3 py-1.5 border-0 focus:ring-2 focus:ring-white",children:[s.jsx("option",{value:"",children:"All Subjects"}),cg.map(Z=>s.jsx("option",{value:Z.value,children:Z.label},Z.value))]})]})]})}),_&&s.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm",children:[_,s.jsx("button",{onClick:()=>C(null),className:"ml-2 font-bold",children:""})]}),s.jsx("div",{ref:G,className:"flex-1 overflow-y-auto p-4 gradient-tutor",children:u.length===0?s.jsx("div",{className:"h-full flex flex-col items-center justify-center",children:s.jsx(Si,{icon:s.jsx(Fh,{}),title:`Hi${Ue?.studentName?`, ${Ue.studentName}`:""}! How can I help?`,description:"Ask me anything about your subjects. I'll guide you through with the Socratic method!"})}):s.jsxs("div",{className:"space-y-4",children:[u.map(Z=>s.jsx(rg,{message:Z,onPlayAudio:Z.audioBase64?()=>J(Z.audioBase64):void 0,isPlaying:H},Z.id)),E&&s.jsx("div",{className:"animate-fade-in",children:s.jsx(Wh,{isUser:!1})})]})}),s.jsxs("div",{className:"flex-shrink-0 p-4 bg-white border-t border-gray-200",children:[s.jsxs("form",{onSubmit:ie,className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:Ne,disabled:E||u.length===0,className:"flex-shrink-0 w-12 h-12 bg-yellow-500 hover:bg-yellow-600 disabled:bg-gray-300 text-white rounded-full flex items-center justify-center transition-colors",title:"Get a hint",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),s.jsx("input",{ref:B,type:"text",value:f,onChange:Z=>o(Z.target.value),placeholder:"Type your question...",disabled:E,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx("button",{type:"button",onMouseDown:Q,onMouseUp:R,onMouseLeave:R,onTouchStart:Q,onTouchEnd:R,disabled:E,className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center transition-colors relative ${P?"bg-red-500 voice-active":"bg-gray-500 hover:bg-gray-600"} text-white disabled:bg-gray-300`,title:"Hold to speak",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),s.jsx("button",{type:"submit",disabled:!f.trim()||E,className:"flex-shrink-0 w-12 h-12 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-full flex items-center justify-center transition-colors","aria-label":"Send message",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),be&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:be})]})]})}function rg({message:u,onPlayAudio:r,isPlaying:f}){const o=u.role==="user";return s.jsx("div",{className:`flex ${o?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[85%] p-3 ${o?"message-student":"message-ai"}`,children:[s.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",children:u.content}),r&&!o&&s.jsxs("button",{onClick:r,className:"mt-2 text-xs text-blue-500 hover:text-blue-700 flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f?"Playing...":"Play"]})]})})}const og=[{value:"Mathematics",label:"Math"},{value:"Science",label:"Science"},{value:"English Language Arts",label:"English"},{value:"History",label:"History"},{value:"Computer Science",label:"Computer Science"},{value:"General",label:"General"}];function dg(){const[u,r]=p.useState("setup"),[f,o]=p.useState(null),[m,v]=p.useState("Mathematics"),[E,A]=p.useState(""),[w,y]=p.useState(null),[_,C]=p.useState(""),[U,V]=p.useState(null),[G,B]=p.useState({correct:0,total:0}),[J,H]=p.useState("medium"),[P,Q]=p.useState(!1),[R,te]=p.useState(null),[be,ie]=p.useState(!0),[Ne,Ue]=p.useState(null),{play:Z,isPlaying:le}=lr(),de=async()=>{Q(!0),te(null);try{const L=await Vu.startAssessment(m,E||void 0);L?(o(L.id),H(L.current_difficulty),await ve(L.id)):te("Failed to start assessment")}catch(L){te("Connection error. Please try again."),console.error("Start assessment error:",L)}finally{Q(!1)}},ve=async L=>{const q=L||f;if(q){Q(!0),C(""),Ue(null);try{const ae=await Vu.getQuestion(q,be);ae?(y({id:ae.id,text:ae.text,type:ae.type,options:ae.options,difficulty:ae.difficulty,subject:ae.subject}),ae.audio_base64&&(Ue(ae.audio_base64),be&&Z(ae.audio_base64)),r("question")):r("results")}catch(ae){te("Failed to load question"),console.error("Load question error:",ae)}finally{Q(!1)}}},Oe=async()=>{if(!(!f||!w||!_)){Q(!0),te(null);try{const L=await Vu.submitAnswer(f,w.id,_);L?(V(L),B(q=>({correct:q.correct+(L.isCorrect?1:0),total:q.total+1})),r("feedback")):te("Failed to submit answer")}catch(L){te("Connection error. Please try again."),console.error("Submit answer error:",L)}finally{Q(!1)}}},$=()=>{r("results")},S=()=>{o(null),y(null),V(null),B({correct:0,total:0}),te(null),r("setup")};return u==="setup"?s.jsx(fg,{subject:m,setSubject:v,topic:E,setTopic:A,onStart:de,isLoading:P,error:R,ttsEnabled:be,setTtsEnabled:ie}):u==="results"?s.jsx(gg,{score:G,onReset:S}):s.jsxs("div",{className:"h-full flex flex-col mode-assessment",children:[s.jsx("div",{className:"flex-shrink-0 px-4 py-3 mode-header bg-emerald-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-bold",children:"Quiz"}),s.jsxs("div",{className:"flex items-center gap-3",children:[Ne&&s.jsx("button",{onClick:()=>Z(Ne),disabled:le,className:"p-2 rounded-lg bg-emerald-500 hover:bg-emerald-400 disabled:opacity-50",title:"Read question aloud",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}),s.jsxs("span",{className:"text-sm",children:["Score: ",G.correct,"/",G.total]}),s.jsx("span",{className:"text-xs bg-emerald-700 px-2 py-1 rounded-full",children:J})]})]})}),R&&s.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm",children:[R,s.jsx("button",{onClick:()=>te(null),className:"ml-2 font-bold",children:""})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 gradient-assessment",children:[P&&u==="question"&&!w&&s.jsx("div",{className:"animate-fade-in",children:s.jsx($h,{})}),u==="question"&&w&&s.jsx(mg,{question:w,selectedAnswer:_,setSelectedAnswer:C,onSubmit:Oe,isLoading:P}),u==="feedback"&&U&&s.jsx(hg,{feedback:U,onNext:()=>ve(),onFinish:$,questionCount:G.total,isLoading:P})]})]})}function fg({subject:u,setSubject:r,topic:f,setTopic:o,onStart:m,isLoading:v,error:E,ttsEnabled:A,setTtsEnabled:w}){return s.jsxs("div",{className:"h-full flex flex-col mode-assessment",children:[s.jsx("div",{className:"flex-shrink-0 px-4 py-3 bg-emerald-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Start Quiz"}),s.jsx("button",{onClick:()=>w(!A),className:`p-2 rounded-lg transition-colors ${A?"bg-emerald-500":"bg-emerald-700"}`,title:A?"Read questions aloud":"Questions silent",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})})})]})}),s.jsx("div",{className:"flex-1 p-6 gradient-assessment flex flex-col items-center justify-center",children:s.jsxs("div",{className:"w-full max-w-md card p-6 animate-fade-in",children:[E&&s.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm mb-4 rounded",children:E}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4",children:s.jsx(Ih,{})}),s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Ready to test your knowledge?"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Choose a subject to begin"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:og.map(y=>s.jsx("button",{onClick:()=>r(y.value),disabled:v,className:`px-4 py-3 rounded-xl border-2 font-medium transition-all disabled:opacity-50
                      ${u===y.value?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                    `,children:y.label},y.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic (optional)"}),s.jsx("input",{type:"text",value:f,onChange:y=>o(y.target.value),disabled:v,placeholder:"e.g., Fractions, Photosynthesis",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:opacity-50"})]}),s.jsx("button",{onClick:m,disabled:v,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 text-white font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spinner"}),"Starting..."]}):"Start Quiz"})]})]})})]})}function mg({question:u,selectedAnswer:r,setSelectedAnswer:f,onSubmit:o,isLoading:m}){const v=u.type==="multiple_choice"&&u.options;return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-lg font-medium text-gray-800 leading-relaxed",children:u.text})}),v?s.jsx("div",{className:"space-y-3 mb-6",children:u.options.map((E,A)=>s.jsxs("button",{onClick:()=>f(E),disabled:m,className:`w-full p-4 text-left rounded-xl border-2 transition-all disabled:opacity-50
                ${r===E?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"}
              `,children:[s.jsxs("span",{className:"font-medium text-gray-600 mr-3",children:[String.fromCharCode(65+A),"."]}),E]},A))}):s.jsx("div",{className:"mb-6",children:s.jsx("textarea",{value:r,onChange:E=>f(E.target.value),placeholder:"Type your answer...",rows:4,disabled:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-none disabled:opacity-50"})}),s.jsx("button",{onClick:o,disabled:!r||m,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-300 text-white font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spinner"}),"Checking..."]}):"Submit Answer"})]})}function hg({feedback:u,onNext:r,onFinish:f,questionCount:o,isLoading:m}){return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 rounded-full mb-4 ${u.isCorrect?"bg-green-100":"bg-red-100"}`,children:u.isCorrect?s.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h2",{className:`text-2xl font-bold ${u.isCorrect?"text-green-600":"text-red-600"}`,children:u.isCorrect?"Correct!":"Not quite..."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[s.jsx("p",{className:"text-gray-700 leading-relaxed",children:u.feedback}),!u.isCorrect&&u.correctAnswer&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Correct answer:"}),s.jsx("p",{className:"font-medium text-gray-800",children:u.correctAnswer})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:r,disabled:m,className:"flex-1 py-4 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400 text-white font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spinner"}),"Loading..."]}):"Next Question"}),o>=3&&s.jsx("button",{onClick:f,disabled:m,className:"px-6 py-4 border-2 border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Finish"})]})]})}function gg({score:u,onReset:r}){const f=u.total>0?Math.round(u.correct/u.total*100):0;let o="",m="";return f>=90?(o="Outstanding!",m=""):f>=70?(o="Great job!",m=""):f>=50?(o="Good effort!",m=""):(o="Keep practicing!",m=""),s.jsxs("div",{className:"h-full flex flex-col mode-assessment",children:[s.jsx("div",{className:"flex-shrink-0 px-4 py-3 bg-emerald-600 text-white",children:s.jsx("h1",{className:"text-lg font-semibold",children:"Results"})}),s.jsx("div",{className:"flex-1 p-6 bg-emerald-50/50 flex flex-col items-center justify-center",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:m}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:o}),s.jsxs("div",{className:"my-8",children:[s.jsxs("div",{className:"text-6xl font-bold text-emerald-600",children:[f,"%"]}),s.jsxs("p",{className:"text-gray-500 mt-2",children:[u.correct," out of ",u.total," correct"]})]}),s.jsx("button",{onClick:r,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition-colors",children:"Try Another Quiz"})]})})]})}function xg(){const[u,r]=p.useState("menu"),[f,o]=p.useState(null),[m,v]=p.useState(null),[E,A]=p.useState(null),[w,y]=p.useState(!1),[_,C]=p.useState(null),U=()=>{r("menu"),o(null),v(null),A(null),C(null)};return u==="menu"?s.jsx(yg,{onSelect:r}):u==="story"?s.jsx(vg,{story:f,setStory:o,isLoading:w,setIsLoading:y,error:_,setError:C,onBack:U}):u==="image"?s.jsx(bg,{image:m,setImage:v,isLoading:w,setIsLoading:y,error:_,setError:C,onBack:U}):u==="adventure"?s.jsx(pg,{adventure:E,setAdventure:A,isLoading:w,setIsLoading:y,error:_,setError:C,onBack:U}):u==="gallery"?s.jsx(jg,{onBack:U}):null}function yg({onSelect:u}){const r=[{id:"story",title:"Write a Story",description:"Create illustrated stories with AI",icon:"",color:"bg-purple-500"},{id:"image",title:"Create Art",description:"Generate images with SDXL",icon:"",color:"bg-pink-500"},{id:"adventure",title:"Adventure",description:"Choose your own path",icon:"",color:"bg-orange-500"},{id:"gallery",title:"My Gallery",description:"View your creations",icon:"",color:"bg-teal-500"}];return s.jsxs("div",{className:"h-full flex flex-col mode-creator",children:[s.jsx("div",{className:"flex-shrink-0 px-4 py-3 mode-header bg-amber-600 text-white",children:s.jsx("h1",{className:"text-lg font-bold",children:"Create"})}),s.jsxs("div",{className:"flex-1 p-6 gradient-creator",children:[s.jsxs("div",{className:"text-center mb-6 animate-fade-in",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-3",children:s.jsx(Ph,{})}),s.jsx("p",{className:"text-gray-600",children:"What would you like to create today?"})]}),s.jsx("div",{className:"space-y-4",children:r.map((f,o)=>s.jsxs("button",{onClick:()=>u(f.id),className:`w-full p-4 card card-interactive flex items-center gap-4 animate-slide-up stagger-${o+1}`,children:[s.jsx("div",{className:`w-14 h-14 ${f.color} rounded-xl flex items-center justify-center text-2xl shadow-sm`,children:f.icon}),s.jsxs("div",{className:"text-left flex-1",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:f.title}),s.jsx("p",{className:"text-sm text-gray-500",children:f.description})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},f.id))})]})]})}function vg({story:u,setStory:r,isLoading:f,setIsLoading:o,error:m,setError:v,onBack:E}){const[A,w]=p.useState(""),[y,_]=p.useState(""),[C,U]=p.useState(!0),[V,G]=p.useState(null),{play:B,isPlaying:J,stop:H}=lr(),P=async()=>{if(A.trim()){o(!0),v(null);try{const Q=await Bl.generateStory(A.trim(),{style:y||void 0});if(Q){if(r(Q),C&&Q.id){const R=await Bl.getStoryNarration(Q.id);if(R?.pages&&R.pages.length>0){const te=R.pages[0]?.audio_base64;te&&G(te)}}}else v("Failed to create story. Please try again.")}catch(Q){v("Connection error. Please try again."),console.error("Story creation error:",Q)}finally{o(!1)}}};return s.jsxs("div",{className:"h-full flex flex-col mode-creator",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 bg-amber-600 text-white flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:E,className:"p-1 hover:bg-amber-700 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h1",{className:"text-lg font-semibold",children:"Write a Story"})]}),s.jsx("button",{onClick:()=>U(!C),className:`p-2 rounded-lg transition-colors ${C?"bg-amber-500":"bg-amber-700"}`,title:C?"Narration on":"Narration off",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 gradient-creator",children:[m&&s.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm mb-4 rounded",children:[m,s.jsx("button",{onClick:()=>v(null),className:"ml-2 font-bold",children:""})]}),u?s.jsxs("div",{className:"card p-6 animate-bounce-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:u.title}),V&&s.jsx("button",{onClick:()=>J?H():B(V),className:"p-2 bg-amber-100 hover:bg-amber-200 rounded-lg text-amber-700",title:J?"Stop":"Listen",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:J?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsx("p",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:u.content}),s.jsx("button",{onClick:()=>{r(null),G(null),H()},className:"mt-6 w-full py-3 border-2 border-amber-500 text-amber-600 font-semibold rounded-xl hover:bg-amber-50 transition-colors",children:"Create Another Story"})]}):s.jsxs("div",{className:"card p-6 animate-fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What should your story be about?"}),s.jsx("textarea",{value:A,onChange:Q=>w(Q.target.value),placeholder:"A brave knight who discovers a magical forest...",rows:4,disabled:f,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 resize-none disabled:opacity-50"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Genre (optional)"}),s.jsxs("select",{value:y,onChange:Q=>_(Q.target.value),disabled:f,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white disabled:opacity-50",children:[s.jsx("option",{value:"",children:"Any genre"}),s.jsx("option",{value:"fantasy",children:"Fantasy"}),s.jsx("option",{value:"adventure",children:"Adventure"}),s.jsx("option",{value:"mystery",children:"Mystery"}),s.jsx("option",{value:"sci-fi",children:"Science Fiction"})]})]}),s.jsx("button",{onClick:P,disabled:!A.trim()||f,className:"w-full py-4 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-300 text-white font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spinner"}),"Creating your story..."]}):"Create Story"})]})]})]})}function bg({image:u,setImage:r,isLoading:f,setIsLoading:o,error:m,setError:v,onBack:E}){const[A,w]=p.useState(""),[y,_]=p.useState(""),C=async()=>{if(A.trim()){o(!0),v(null);try{const U=await Bl.generateImage(A.trim(),{style:y||void 0});U?r(U):v("Failed to create image. Please try again.")}catch(U){v("Connection error. Please try again."),console.error("Image creation error:",U)}finally{o(!1)}}};return s.jsxs("div",{className:"h-full flex flex-col mode-creator",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 bg-amber-600 text-white flex items-center gap-3",children:[s.jsx("button",{onClick:E,className:"p-1 hover:bg-amber-700 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h1",{className:"text-lg font-semibold",children:"Create Art"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-amber-50/50",children:[m&&s.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm mb-4 rounded",children:[m,s.jsx("button",{onClick:()=>v(null),className:"ml-2 font-bold",children:""})]}),u?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("div",{className:"aspect-square rounded-xl overflow-hidden mb-4 bg-gray-100",children:s.jsx("img",{src:u.imageUrl,alt:u.prompt,className:"w-full h-full object-cover"})}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u.prompt}),s.jsx("button",{onClick:()=>r(null),className:"w-full py-3 border-2 border-amber-500 text-amber-600 font-semibold rounded-xl hover:bg-amber-50 transition-colors",children:"Create Another Image"})]}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe what you want to create"}),s.jsx("textarea",{value:A,onChange:U=>w(U.target.value),placeholder:"A colorful dragon flying over mountains...",rows:4,disabled:f,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 resize-none disabled:opacity-50"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Art Style (optional)"}),s.jsxs("select",{value:y,onChange:U=>_(U.target.value),disabled:f,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 bg-white disabled:opacity-50",children:[s.jsx("option",{value:"",children:"Default"}),s.jsx("option",{value:"cartoon",children:"Cartoon"}),s.jsx("option",{value:"watercolor",children:"Watercolor"}),s.jsx("option",{value:"pixel-art",children:"Pixel Art"}),s.jsx("option",{value:"anime",children:"Anime"}),s.jsx("option",{value:"oil-painting",children:"Oil Painting"})]})]}),s.jsx("button",{onClick:C,disabled:!A.trim()||f,className:"w-full py-4 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-300 text-white font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spinner"}),"Generating image..."]}):"Create Image"})]})]})]})}function pg({adventure:u,setAdventure:r,isLoading:f,setIsLoading:o,error:m,setError:v,onBack:E}){const[A,w]=p.useState("fantasy"),[y,_]=p.useState(""),[C,U]=p.useState(""),[V,G]=p.useState(!1),B=()=>{try{const R=localStorage.getItem("soul_session");if(R)return JSON.parse(R).studentName||"a brave adventurer"}catch{}return"a brave adventurer"},J=[{value:"fantasy",label:"Fantasy",setting:"a magical kingdom with dragons and wizards"},{value:"space",label:"Space Adventure",setting:"the far reaches of the galaxy"},{value:"mystery",label:"Mystery",setting:"a mysterious old mansion"},{value:"pirates",label:"Pirates",setting:"the high seas with treasure and adventure"},{value:"dinosaurs",label:"Dinosaur Time",setting:"a prehistoric world of dinosaurs"},{value:"superheroes",label:"Superheroes",setting:"a city that needs a hero"}],H=async()=>{o(!0),v(null);try{const R=J.find(Ne=>Ne.value===A),te=y.trim()||R?.setting||"a magical world",be=B(),ie=await Bl.startAdventure({genre:R?.label||A,setting:te,protagonist:be});ie?r(ie):v("Failed to start adventure. Please try again.")}catch(R){v("Connection error. Please try again."),console.error("Adventure start error:",R)}finally{o(!1)}},P=async R=>{if(u){o(!0),v(null),G(!1),U("");try{const te=await Bl.makeChoice(u.id,R,void 0,u);te?r(te):v("Failed to continue adventure. Please try again.")}catch(te){v("Connection error. Please try again."),console.error("Adventure choice error:",te)}finally{o(!1)}}},Q=async()=>{if(!u||!C.trim())return;const R=u.choices[0]?.id;if(!R){v("No choices available");return}o(!0),v(null);try{const te=await Bl.makeChoice(u.id,R,C.trim(),u);te?(r(te),G(!1),U("")):v("Failed to continue adventure. Please try again.")}catch(te){v("Connection error. Please try again."),console.error("Adventure custom choice error:",te)}finally{o(!1)}};return s.jsxs("div",{className:"h-full flex flex-col mode-creator",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 bg-amber-600 text-white flex items-center gap-3",children:[s.jsx("button",{onClick:E,className:"p-1 hover:bg-amber-700 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h1",{className:"text-lg font-semibold",children:"Adventure"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-amber-50/50",children:[m&&s.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm mb-4 rounded",children:[m,s.jsx("button",{onClick:()=>v(null),className:"ml-2 font-bold",children:""})]}),u?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:u.title}),s.jsx("p",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed mb-6",children:s.jsx(lg,{text:u.currentScene})}),s.jsxs("div",{className:"space-y-3",children:[u.choices.map((R,te)=>s.jsxs("button",{onClick:()=>P(R.id),disabled:f,className:"w-full p-4 text-left bg-amber-50 hover:bg-amber-100 disabled:bg-gray-100 disabled:opacity-50 rounded-xl border-2 border-amber-200 hover:border-amber-300 transition-colors",children:[s.jsxs("span",{className:"font-medium text-amber-700 mr-2",children:[te+1,"."]}),R.text]},R.id)),V?s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border-2 border-gray-300",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What do you want to do?"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:C,onChange:R=>U(R.target.value),placeholder:"Type your own choice...",disabled:f,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 disabled:opacity-50",onKeyDown:R=>R.key==="Enter"&&Q()}),s.jsx("button",{onClick:Q,disabled:f||!C.trim(),className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-300 text-white font-medium rounded-lg transition-colors",children:"Go"})]}),s.jsx("button",{onClick:()=>{G(!1),U("")},className:"text-sm text-gray-500 hover:text-gray-700 mt-2",children:"Cancel"})]}):s.jsxs("button",{onClick:()=>G(!0),disabled:f,className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 disabled:bg-gray-100 disabled:opacity-50 rounded-xl border-2 border-dashed border-gray-300 hover:border-gray-400 transition-colors",children:[s.jsxs("span",{className:"font-medium text-gray-500 mr-2",children:[u.choices.length+1,"."]}),s.jsx("span",{className:"text-gray-500 italic",children:"Do something else..."})]})]}),s.jsx("button",{onClick:()=>r(null),className:"mt-6 w-full py-3 border-2 border-gray-300 text-gray-600 font-semibold rounded-xl hover:bg-gray-50 transition-colors",children:"Start New Adventure"})]}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Choose Your Own Adventure"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"You'll be the hero! Make choices and shape your story!"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What kind of adventure?"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:J.map(R=>s.jsx("button",{onClick:()=>w(R.value),disabled:f,className:`p-3 text-sm rounded-xl border-2 transition-colors ${A===R.value?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 hover:border-amber-300"} disabled:opacity-50`,children:R.label},R.value))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe your setting (optional)"}),s.jsx("input",{type:"text",value:y,onChange:R=>_(R.target.value),placeholder:J.find(R=>R.value===A)?.setting||"A magical world...",disabled:f,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 disabled:opacity-50"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for a surprise!"})]}),s.jsx("button",{onClick:H,disabled:f,className:"w-full py-4 bg-amber-600 hover:bg-amber-700 disabled:bg-gray-300 text-white font-semibold rounded-xl transition-colors flex items-center justify-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spinner"}),"Creating your adventure..."]}):"Begin Adventure"})]})]})]})}function jg({onBack:u}){const[r,f]=p.useState(null),[o,m]=p.useState(!0),[v,E]=p.useState("stories");return p.useState(()=>{(async()=>{try{const w=await Bl.getGallery();f(w)}catch(w){console.error("Failed to load gallery:",w)}finally{m(!1)}})()}),s.jsxs("div",{className:"h-full flex flex-col mode-creator",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 bg-amber-600 text-white flex items-center gap-3",children:[s.jsx("button",{onClick:u,className:"p-1 hover:bg-amber-700 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h1",{className:"text-lg font-semibold",children:"My Gallery"})]}),s.jsxs("div",{className:"flex-shrink-0 flex bg-white border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>E("stories"),className:`flex-1 py-3 text-sm font-medium ${v==="stories"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:["Stories (",r?.stories.length||0,")"]}),s.jsxs("button",{onClick:()=>E("images"),className:`flex-1 py-3 text-sm font-medium ${v==="images"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:["Images (",r?.images.length||0,")"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-amber-50/50",children:o?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"w-8 h-8 border-4 border-amber-600 border-t-transparent rounded-full spinner"})}):v==="stories"?r?.stories.length?s.jsx("div",{className:"space-y-4",children:r.stories.map(A=>s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:A.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:A.content}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(A.createdAt).toLocaleDateString()})]},A.id))}):s.jsx("div",{className:"text-center text-gray-500 py-8",children:s.jsx("p",{children:"No stories yet. Create your first story!"})}):r?.images.length?s.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.images.map(A=>s.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm",children:[s.jsx("div",{className:"aspect-square bg-gray-100",children:s.jsx("img",{src:A.imageUrl,alt:A.prompt,className:"w-full h-full object-cover"})}),s.jsx("p",{className:"text-xs text-gray-600 p-2 line-clamp-2",children:A.prompt})]},A.id))}):s.jsx("div",{className:"text-center text-gray-500 py-8",children:s.jsx("p",{children:"No images yet. Create your first image!"})})})]})}function Sg(){const[u,r]=p.useState("subjects"),[f,o]=p.useState([]),[m,v]=p.useState([]),[E,A]=p.useState([]),[w,y]=p.useState(null),[_,C]=p.useState(null),[U,V]=p.useState(null),[G,B]=p.useState(null),[J,H]=p.useState(!1);p.useEffect(()=>{P()},[]);const P=async()=>{H(!0);try{const $=await Kt.getSubjects();o($),$.forEach(S=>{$e.createSubject(S.name)})}catch($){const S=$e.getSubjects();o(S),console.error("Failed to load subjects from API, using local storage:",$)}finally{H(!1)}},Q=async $=>{H(!0);try{const S=await Kt.getTopics($);v(S)}catch(S){const L=$e.getTopics($);v(L),console.error("Failed to load topics from API, using local storage:",S)}finally{H(!1)}},R=async $=>{H(!0);try{const S=await Kt.getNotes($);A(S)}catch(S){const L=$e.getNotes($);A(L),console.error("Failed to load notes from API, using local storage:",S)}finally{H(!1)}},te=$=>{y($),Q($.id),r("topics")},be=$=>{C($),R($.id),r("notes")},ie=$=>{V($),r("editor")},Ne=()=>{u==="editor"?(V(null),r("notes")):u==="notes"?(C(null),r("topics")):u==="topics"&&(y(null),r("subjects"))},Ue=async $=>{H(!0),B(null);try{await Kt.createSubject($)?($e.createSubject($),await P()):B("Failed to create subject")}catch(S){$e.createSubject($);const L=$e.getSubjects();o(L),console.error("Failed to create subject via API:",S)}finally{H(!1)}},Z=async $=>{if(w){H(!0),B(null);try{await Kt.createTopic(w.id,$)?($e.createTopic(w.id,$),await Q(w.id),await P()):B("Failed to create topic")}catch(S){$e.createTopic(w.id,$);const L=$e.getTopics(w.id);v(L),console.error("Failed to create topic via API:",S)}finally{H(!1)}}},le=async $=>{if(_){H(!0),B(null);try{const S=await Kt.createNote(_.id,$);if(S)return $e.createNote(_.id,$),await R(_.id),w&&await Q(w.id),S;B("Failed to create note")}catch(S){const L=$e.createNote(_.id,$),q=$e.getNotes(_.id);return A(q),console.error("Failed to create note via API:",S),L}finally{H(!1)}}},de=async($,S)=>{H(!0),B(null);try{const L=await Kt.updateNote($,S);L?($e.updateNote($,S),_&&await R(_.id),U?.id===$&&V(L)):B("Failed to update note")}catch(L){const q=$e.updateNote($,S);if(q&&_){const ae=$e.getNotes(_.id);A(ae),U?.id===$&&V(q)}console.error("Failed to update note via API:",L)}finally{H(!1)}},ve=async $=>{H(!0),B(null);try{await Kt.deleteNote($)?($e.deleteNote($),_&&(await R(_.id),w&&await Q(w.id)),U?.id===$&&(V(null),r("notes"))):B("Failed to delete note")}catch(S){if($e.deleteNote($),_){const L=$e.getNotes(_.id);A(L)}U?.id===$&&(V(null),r("notes")),console.error("Failed to delete note via API:",S)}finally{H(!1)}},Oe=async($,S)=>{if(!_)return null;H(!0),B(null);try{const L=await Kt.dictateNote(_.id,$,S);return L?(await R(_.id),w&&await Q(w.id),L.note):(B("Failed to transcribe voice note"),null)}catch(L){return B("Voice dictation failed. Please try again."),console.error("Dictation error:",L),null}finally{H(!1)}};return s.jsxs("div",{className:"h-full flex flex-col mode-notes",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 mode-header bg-red-600 text-white flex items-center gap-3",children:[u!=="subjects"&&s.jsx("button",{onClick:Ne,className:"p-1 hover:bg-red-700 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("h1",{className:"text-lg font-bold flex-1",children:[u==="subjects"&&"My Notes",u==="topics"&&w?.name,u==="notes"&&_?.name,u==="editor"&&"Edit Note"]}),J&&s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spinner"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto gradient-notes",children:[G&&s.jsxs("div",{className:"m-4 p-3 bg-red-100 text-red-700 rounded-xl text-sm",children:[G,s.jsx("button",{onClick:()=>B(null),className:"ml-2 underline",children:"Dismiss"})]}),u==="subjects"&&s.jsx(Ng,{subjects:f,onSelect:te,onCreate:Ue,isLoading:J}),u==="topics"&&w&&s.jsx(wg,{topics:m,onSelect:be,onCreate:Z,isLoading:J}),u==="notes"&&_&&s.jsx(Cg,{notes:E,onSelect:ie,onCreate:le,onDictate:Oe,isLoading:J}),u==="editor"&&U&&s.jsx(Mg,{note:U,onSave:de,onDelete:ve,onDictate:Oe,isLoading:J})]})]})}function Ng({subjects:u,onSelect:r,onCreate:f,isLoading:o}){const[m,v]=p.useState(!1),[E,A]=p.useState(""),w=()=>{E.trim()&&(f(E.trim()),A(""),v(!1))};return s.jsx("div",{className:"p-4",children:u.length===0?s.jsx("div",{className:"h-full flex flex-col items-center justify-center py-12",children:s.jsx(Si,{icon:s.jsx(eg,{}),title:"No subjects yet",description:"Create your first subject to start organizing your notes",action:s.jsx("button",{onClick:()=>v(!0),disabled:o,className:"btn btn-primary bg-red-600 hover:bg-red-700",children:"Create Your First Subject"})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 mb-4",children:u.map(y=>s.jsxs("button",{onClick:()=>r(y),className:"w-full p-4 card card-interactive flex items-center justify-between",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[y.topicCount," topic",y.topicCount!==1?"s":""]})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},y.id))}),m?s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("input",{type:"text",value:E,onChange:y=>A(y.target.value),placeholder:"Subject name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl mb-3 focus:ring-2 focus:ring-red-500 focus:border-red-500",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:w,disabled:!E.trim()||o,className:"flex-1 py-3 bg-red-600 text-white font-semibold rounded-xl hover:bg-red-700 disabled:bg-gray-300 transition-colors",children:o?"Creating...":"Create"}),s.jsx("button",{onClick:()=>v(!1),className:"px-6 py-3 border border-gray-300 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):s.jsxs("button",{onClick:()=>v(!0),className:"w-full p-4 border-2 border-dashed border-red-300 text-red-600 rounded-xl hover:border-red-400 hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Subject"]})]})})}function wg({topics:u,onSelect:r,onCreate:f,isLoading:o}){const[m,v]=p.useState(!1),[E,A]=p.useState(""),w=()=>{E.trim()&&(f(E.trim()),A(""),v(!1))};return s.jsx("div",{className:"p-4",children:u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No topics yet"}),s.jsx("button",{onClick:()=>v(!0),disabled:o,className:"px-6 py-3 bg-red-600 text-white font-semibold rounded-xl hover:bg-red-700 disabled:bg-gray-300 transition-colors",children:"Create First Topic"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 mb-4",children:u.map(y=>s.jsxs("button",{onClick:()=>r(y),className:"w-full p-4 card card-interactive flex items-center justify-between",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[y.noteCount," note",y.noteCount!==1?"s":""]})]}),s.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},y.id))}),m?s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("input",{type:"text",value:E,onChange:y=>A(y.target.value),placeholder:"Topic name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl mb-3 focus:ring-2 focus:ring-red-500 focus:border-red-500",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:w,disabled:!E.trim()||o,className:"flex-1 py-3 bg-red-600 text-white font-semibold rounded-xl hover:bg-red-700 disabled:bg-gray-300 transition-colors",children:o?"Creating...":"Create"}),s.jsx("button",{onClick:()=>v(!1),className:"px-6 py-3 border border-gray-300 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):s.jsxs("button",{onClick:()=>v(!0),className:"w-full p-4 border-2 border-dashed border-red-300 text-red-600 rounded-xl hover:border-red-400 hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Topic"]})]})})}function Cg({notes:u,onSelect:r,onCreate:f,onDictate:o,isLoading:m}){const[v,E]=p.useState(!1),[A,w]=p.useState(""),{isRecording:y,startRecording:_,stopRecording:C,audioBase64:U,error:V}=tr();p.useEffect(()=>{U&&!y&&o(U)},[U,y,o]);const G=async()=>{A.trim()&&(await f(A.trim()),w(""),E(!1))};return s.jsx("div",{className:"p-4",children:u.length===0&&!v?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No notes yet"}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("button",{onClick:()=>E(!0),disabled:m,className:"px-6 py-3 bg-red-600 text-white font-semibold rounded-xl hover:bg-red-700 disabled:bg-gray-300 transition-colors",children:"Write Note"}),s.jsxs("button",{onMouseDown:_,onMouseUp:C,onMouseLeave:C,onTouchStart:_,onTouchEnd:C,disabled:m,className:`px-6 py-3 rounded-xl font-semibold transition-colors flex items-center gap-2 ${y?"bg-red-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),y?"Recording...":"Hold to Dictate"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 mb-4",children:u.map(B=>s.jsxs("button",{onClick:()=>r(B),className:"w-full p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow text-left",children:[s.jsx("p",{className:"text-gray-800 line-clamp-3",children:B.content}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(B.updatedAt).toLocaleDateString()})]},B.id))}),v?s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("textarea",{value:A,onChange:B=>w(B.target.value),placeholder:"Write your note...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl mb-3 focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:G,disabled:!A.trim()||m,className:"flex-1 py-3 bg-red-600 text-white font-semibold rounded-xl hover:bg-red-700 disabled:bg-gray-300 transition-colors",children:m?"Saving...":"Save Note"}),s.jsx("button",{onClick:()=>E(!1),className:"px-6 py-3 border border-gray-300 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>E(!0),className:"flex-1 p-4 border-2 border-dashed border-red-300 text-red-600 rounded-xl hover:border-red-400 hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Write Note"]}),s.jsx("button",{onMouseDown:_,onMouseUp:C,onMouseLeave:C,onTouchStart:_,onTouchEnd:C,disabled:m,className:`p-4 rounded-xl transition-colors ${y?"bg-red-500 text-white voice-active":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,title:"Hold to dictate",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]}),V&&s.jsx("p",{className:"text-xs text-red-500 mt-2",children:V})]})})}function Tg({note:u,onSave:r,onDelete:f,onDictate:o,isLoading:m}){const[v,E]=p.useState(u.content),[A,w]=p.useState(!1),{isRecording:y,startRecording:_,stopRecording:C,audioBase64:U,error:V}=tr();p.useEffect(()=>{U&&!y&&o(U,u.id)},[U,y,u.id,o]);const G=J=>{E(J),w(J!==u.content)},B=()=>{r(u.id,v),w(!1)};return s.jsxs("div",{className:"p-4 h-full flex flex-col",children:[s.jsx("div",{className:"flex-1 bg-white rounded-xl shadow-sm p-4",children:s.jsx("textarea",{value:v,onChange:J=>G(J.target.value),className:"w-full h-full resize-none border-0 focus:ring-0 text-gray-800 leading-relaxed",placeholder:"Start writing..."})}),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsx("button",{onClick:B,disabled:!A||m,className:"flex-1 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white font-semibold rounded-xl transition-colors",children:m?"Saving...":A?"Save Changes":"Saved"}),s.jsx("button",{onMouseDown:_,onMouseUp:C,onMouseLeave:C,onTouchStart:_,onTouchEnd:C,disabled:m,className:`p-3 rounded-xl transition-colors ${y?"bg-red-500 text-white voice-active":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,title:"Hold to append dictation",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),s.jsx("button",{onClick:()=>{confirm("Delete this note?")&&f(u.id)},disabled:m,className:"p-3 text-red-600 hover:bg-red-50 rounded-xl transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),V&&s.jsx("p",{className:"text-xs text-red-500 mt-2",children:V})]})}function Mg(u){return s.jsx(Tg,{...u},u.note.id)}function ar(u){const r=new Date(u),o=new Date().getTime()-r.getTime(),m=Math.floor(o/6e4),v=Math.floor(m/60),E=Math.floor(v/24);return m<1?"just now":m<60?`${m}m ago`:v<24?`${v}h ago`:E<7?`${E}d ago`:r.toLocaleDateString()}function nr(u){const r=["bg-indigo-500","bg-purple-500","bg-pink-500","bg-rose-500","bg-orange-500","bg-amber-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-blue-500","bg-violet-500","bg-fuchsia-500"],f=u.split("").reduce((o,m)=>o+m.charCodeAt(0),0);return r[f%r.length]}const st={back:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),plus:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),trash:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),comment:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),image:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),video:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),text:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),close:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),send:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),chevronRight:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),refresh:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),flag:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})};function Fu({current:u,min:r}){const f=Math.min(u/r*100,100),o=u>=r,m=14,v=2*Math.PI*m,E=v-f/100*v;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative w-10 h-10",children:[s.jsxs("svg",{className:"w-10 h-10 transform -rotate-90",children:[s.jsx("circle",{cx:"20",cy:"20",r:m,stroke:"#e5e7eb",strokeWidth:"3",fill:"none"}),s.jsx("circle",{cx:"20",cy:"20",r:m,stroke:o?"#10b981":"#f59e0b",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeDasharray:v,strokeDashoffset:E,className:"transition-all duration-300"})]}),s.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-xs font-medium ${o?"text-emerald-600":"text-amber-600"}`,children:o?s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):u})]}),s.jsx("span",{className:`text-xs ${o?"text-emerald-600":"text-gray-500"}`,children:o?"Ready!":`${r-u} more`})]})}function Eg({post:u,onClick:r,onDelete:f,onReport:o}){return s.jsxs("div",{className:"card card-interactive p-4 animate-fade-in cursor-pointer",onClick:r,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 ${nr(u.authorName)} rounded-full flex items-center justify-center text-white font-bold shadow-sm`,children:u.authorName.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-800",children:u.authorName}),s.jsx("div",{className:"text-xs text-gray-400",children:ar(u.createdAt)})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!u.isOwn&&s.jsx("button",{onClick:m=>{m.stopPropagation(),o()},className:"p-2 text-gray-300 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"Let teacher know about this",children:st.flag}),u.isOwn&&s.jsx("button",{onClick:m=>{m.stopPropagation(),f()},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete post",children:st.trash})]})]}),u.textContent&&s.jsx("p",{className:"text-gray-700 mb-3 whitespace-pre-wrap leading-relaxed",children:u.textContent}),u.mediaUrl&&u.contentType==="image"&&s.jsx("div",{className:"rounded-xl overflow-hidden mb-3 bg-gray-100",children:s.jsx("img",{src:u.mediaUrl,alt:"Post media",className:"w-full max-h-80 object-cover"})}),u.mediaUrl&&u.contentType==="video"&&s.jsx("div",{className:"rounded-xl overflow-hidden mb-3 bg-gray-900",children:s.jsx("video",{src:u.mediaUrl,controls:!0,className:"w-full max-h-80",onClick:m=>m.stopPropagation()})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 pt-2 border-t border-gray-100",children:[s.jsx("span",{className:"text-indigo-500",children:st.comment}),s.jsx("span",{children:u.commentCount>0?"Join the conversation":"Be the first to comment"}),s.jsx("span",{className:"ml-auto text-indigo-500",children:st.chevronRight})]})]})}const Ag=s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})});function zg({comment:u,onDelete:r,onReport:f,onEdit:o,isEditing:m,editText:v,onEditTextChange:E,onEditSave:A,onEditCancel:w,isEditSaving:y}){return s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm animate-slide-up",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 ${nr(u.authorName)} rounded-full flex items-center justify-center text-white text-sm font-bold`,children:u.authorName.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex items-center flex-wrap gap-x-2",children:[s.jsx("span",{className:"font-medium text-gray-800 text-sm",children:u.authorName}),s.jsx("span",{className:"text-gray-400 text-xs",children:ar(u.createdAt)}),u.isEdited&&s.jsx("span",{className:"text-gray-400 text-xs italic",children:"(edited)"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!u.isOwn&&s.jsx("button",{onClick:f,className:"p-1.5 text-gray-300 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"Let teacher know",children:st.flag}),u.isOwn&&!m&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:o,className:"p-1.5 text-gray-400 hover:text-indigo-500 hover:bg-indigo-50 rounded-lg transition-colors",title:"Edit comment",children:Ag}),s.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete comment",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]}),m?s.jsxs("div",{className:"pl-10",children:[s.jsx("textarea",{value:v,onChange:_=>E(_.target.value),className:"w-full p-2 border border-gray-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-indigo-300",rows:3,autoFocus:!0}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx(Fu,{current:v.length,min:100}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:w,className:"px-3 py-1.5 text-gray-500 hover:bg-gray-100 rounded-lg text-sm transition-colors",children:"Cancel"}),s.jsx("button",{onClick:A,disabled:v.length<100||y,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${v.length>=100?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:y?"Saving...":"Save"})]})]})]}):s.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap leading-relaxed pl-10",children:u.content})]})}function _g(){const[u,r]=p.useState("feed"),[f,o]=p.useState([]),[m,v]=p.useState(null),[E,A]=p.useState(!1),[w,y]=p.useState(!1),[_,C]=p.useState(null),[U,V]=p.useState(0),[G,B]=p.useState(!0),[J,H]=p.useState("text"),[P,Q]=p.useState(""),[R,te]=p.useState(null),[be,ie]=p.useState(!1),[Ne,Ue]=p.useState(""),[Z,le]=p.useState(!1),[de,ve]=p.useState(null),[Oe,$]=p.useState(""),[S,L]=p.useState(!1),[q,ae]=p.useState({isOpen:!1,warningLevel:0,message:"",triggerPattern:null,pendingAction:null,pendingContent:""}),[pe,x]=p.useState(null),[D,Y]=p.useState(0),[K,ce]=p.useState(0),[fe,we]=p.useState(!1),Fe=p.useRef(null),Be=p.useRef(null);p.useEffect(()=>{if(pe){const X=setTimeout(()=>x(null),3e3);return()=>clearTimeout(X)}},[pe]),p.useEffect(()=>{if(_){const X=setTimeout(()=>C(null),4e3);return()=>clearTimeout(X)}},[_]),p.useEffect(()=>{Tt()},[]),p.useEffect(()=>{const X=new Xh(se=>{u==="feed"&&Y(F=>F+1)},se=>{u==="post"&&Be.current===se.post_id&&ce(F=>F+1)},se=>{},se=>{});return X.connect(),Fe.current=X,()=>{X.disconnect(),Fe.current=null}},[u]),p.useEffect(()=>{Be.current=m?.id||null},[m]);const Tt=p.useCallback(async(X=!0)=>{X?(y(!0),Y(0)):A(!0),C(null);try{const se=X?0:U,F=await Ct.getFeed(se,20);F&&(o(X?F.posts:Re=>[...Re,...F.posts]),V(se+F.posts.length),B(F.hasMore))}catch(se){C("Failed to load feed"),console.error("Failed to load feed:",se)}finally{A(!1),y(!1)}},[U]),aa=()=>{!E&&G&&Tt(!1)},na=async X=>{A(!0),ce(0);try{const se=await Ct.getPost(X.id);se&&(v(se),r("post"))}catch{C("Failed to load post")}finally{A(!1)}},sa=()=>{u==="post"?(v(null),Ue(""),r("feed"),Tt(!0)):u==="compose"&&(Gt(),r("feed"))},Gt=()=>{H("text"),Q(""),te(null)},ia=async(X,se)=>{const F=X.target.files?.[0];if(!F)return;const Re=F.type.startsWith("image/"),Ti=F.type.startsWith("video/");if(se==="image"&&!Re||se==="video"&&!Ti){C(`Please select a ${se} file`);return}if(F.size>200*1024*1024){C("File too large. Maximum size is 200MB");return}ie(!0),C(null);try{const ra=await Ct.uploadMedia(F);ra?(te({id:ra.mediaId,url:ra.url}),H(se)):C("Failed to upload media")}catch{C("Upload failed")}finally{ie(!1)}},ca=async(X,se)=>{try{const F=await Ct.reportContent(X,se);F&&x(F.message)}catch{x("Something went wrong. Please try again.")}},Jn=async(X,se)=>{if(!X.trim())return!0;try{const F=await Ct.checkKindness(X);return F?F.blocked?(ae({isOpen:!0,warningLevel:0,message:F.message||"This can't be shared. Please write something kind.",triggerPattern:F.triggerPattern,pendingAction:se,pendingContent:X}),!1):F.warningLevel>0?(ae({isOpen:!0,warningLevel:F.warningLevel,message:F.message||"Take a moment - would this make your classmate smile?",triggerPattern:F.triggerPattern,pendingAction:se,pendingContent:X}),!1):!0:!0}catch{return!0}},Wn=()=>{Ct.recordWarningAction(q.warningLevel,"edited",q.triggerPattern||void 0,q.pendingContent.slice(0,100)),ae(X=>({...X,isOpen:!1}))},Fa=async()=>{if(await Ct.recordWarningAction(q.warningLevel,"posted_anyway",q.triggerPattern||void 0,q.pendingContent.slice(0,100)),ae(X=>({...X,isOpen:!1})),q.pendingAction==="post")await ua();else if(q.pendingAction==="comment")await $n();else if(q.pendingAction==="edit-comment"){const X=q.pendingContent.indexOf(":");if(X>0){const se=q.pendingContent.slice(0,X);await es(se,!0)}}},Ia=()=>{Ct.recordWarningAction(q.warningLevel,"cancelled",q.triggerPattern||void 0,q.pendingContent.slice(0,100)),ae(X=>({...X,isOpen:!1}))},ua=async()=>{A(!0),C(null);try{await Ct.createPost(J,P.trim()||void 0,R?.id)?(Gt(),r("feed"),Tt(!0)):C("Failed to create post")}catch{C("Failed to create post")}finally{A(!1)}},Ni=async()=>{if(J==="text"&&!P.trim()){C("Please enter some text");return}if(J==="text"&&P.trim().length<100){C("Post must be at least 100 characters");return}if((J==="image"||J==="video")&&!R){C("Please select media to upload");return}P.trim()&&!await Jn(P.trim(),"post")||await ua()},$n=async()=>{if(m){le(!0),C(null);try{const X=await Ct.addComment(m.id,Ne);X?(v({...m,comments:[...m.comments,X],commentCount:m.commentCount+1}),Ue("")):C("Failed to add comment")}catch{C("Failed to add comment")}finally{le(!1)}}},ut=async()=>{if(!m)return;if(Ne.length<100){C("Comment must be at least 100 characters");return}await Jn(Ne,"comment")&&await $n()},Fn=async X=>{if(confirm("Delete this post? This cannot be undone."))try{await Ct.deletePost(X)&&(o(F=>F.filter(Re=>Re.id!==X)),u==="post"&&sa())}catch{C("Failed to delete post")}},In=async X=>{if(m&&confirm("Delete this comment?"))try{await Ct.deleteComment(X)&&v({...m,comments:m.comments.filter(F=>F.id!==X),commentCount:m.commentCount-1})}catch{C("Failed to delete comment")}},Pn=(X,se)=>{ve(X),$(se)},Hl=()=>{ve(null),$("")},es=async(X,se=!1)=>{if(m){if(Oe.length<100){C("Comment must be at least 100 characters");return}L(!0);try{const F=await Ct.editComment(X,Oe,se);if(F.error){F.kindnessCheck?.blocked?ae({isOpen:!0,warningLevel:0,message:F.kindnessCheck.message||"This can't be shared. Please write something kind.",triggerPattern:null,pendingAction:null,pendingContent:Oe}):C(F.error);return}if(F.requiresConfirmation&&F.kindnessCheck){ae({isOpen:!0,warningLevel:F.kindnessCheck.warningLevel,message:F.kindnessCheck.message||"Take a moment - would this make your classmate smile?",triggerPattern:null,pendingAction:"edit-comment",pendingContent:`${X}:${Oe}`});return}F.comment&&(v({...m,comments:m.comments.map(Re=>Re.id===X?{...Re,content:F.comment.content,isEdited:!0}:Re)}),Hl())}catch{C("Failed to save comment")}finally{L(!1)}}},ts=()=>s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 mode-header bg-indigo-600 text-white flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-bold",children:"Classroom Feed"}),s.jsx("button",{onClick:()=>Tt(!0),disabled:w,className:"p-2 hover:bg-indigo-700 rounded-lg transition-colors",children:s.jsx("div",{className:w?"spinner":"",children:st.refresh})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto gradient-social",children:[D>0&&s.jsxs("button",{onClick:()=>Tt(!0),className:"sticky top-0 z-10 w-full py-3 px-4 bg-indigo-500 text-white text-sm font-medium flex items-center justify-center gap-2 hover:bg-indigo-600 transition-colors shadow-md",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),D," new ",D===1?"post":"posts"," - Tap to refresh"]}),_&&s.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-100 text-red-700 rounded-xl text-sm flex items-center gap-2 animate-slide-up",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),_]}),f.length===0&&!E&&!w&&s.jsx("div",{className:"h-full flex flex-col items-center justify-center py-12",children:s.jsx(Si,{icon:s.jsx(tg,{}),title:"No posts yet",description:"Be the first to share something with your class!",action:s.jsx("button",{onClick:()=>r("compose"),className:"btn btn-primary bg-indigo-600 hover:bg-indigo-700",children:"Create First Post"})})}),f.length>0&&s.jsxs("div",{className:"p-4 space-y-4 pb-20 max-w-2xl mx-auto",children:[f.map(X=>s.jsx(Eg,{post:X,onClick:()=>na(X),onDelete:()=>Fn(X.id),onReport:()=>ca("post",X.id)},X.id)),G&&s.jsx("button",{onClick:aa,disabled:E,className:"w-full py-3 text-indigo-600 font-medium hover:bg-white/50 rounded-xl transition-colors flex items-center justify-center gap-2",children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full spinner"}),"Loading..."]}):"Load more posts"}),!G&&f.length>0&&s.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 rounded-full text-gray-500 text-sm",children:[s.jsx("svg",{className:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"You're all caught up!"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Time to do something fun offline!"})]})]}),w&&f.length===0&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center gap-3 text-indigo-600",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-indigo-600 border-t-transparent rounded-full spinner"}),"Loading feed..."]})})]}),f.length>0&&s.jsx("button",{onClick:()=>r("compose"),className:"absolute bottom-20 right-4 sm:bottom-24 sm:right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition-all hover:scale-105 flex items-center justify-center",title:"Create new post",children:st.plus})]}),wi=()=>{if(!m)return null;const X=Ne.length,se=X>=100;return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 mode-header bg-indigo-600 text-white flex items-center gap-3",children:[s.jsx("button",{onClick:sa,className:"p-1 hover:bg-indigo-700 rounded-lg transition-colors",children:st.back}),s.jsx("h1",{className:"text-lg font-bold flex-1",children:"Post"})]}),_&&s.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-100 text-red-700 rounded-xl text-sm flex items-center gap-2 animate-slide-up",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),_]}),s.jsx("div",{className:"flex-1 overflow-y-auto gradient-social",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"bg-white m-4 rounded-xl shadow-sm p-4 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 ${nr(m.authorName)} rounded-full flex items-center justify-center text-white font-bold text-lg shadow-sm`,children:m.authorName.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-800",children:m.authorName}),s.jsx("div",{className:"text-sm text-gray-400",children:ar(m.createdAt)})]})]}),m.isOwn&&s.jsx("button",{onClick:()=>Fn(m.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete post",children:st.trash})]}),m.textContent&&s.jsx("p",{className:"text-gray-700 text-lg whitespace-pre-wrap leading-relaxed mb-4",children:m.textContent}),m.mediaUrl&&m.contentType==="image"&&s.jsx("div",{className:"rounded-xl overflow-hidden mb-4 bg-gray-100",children:s.jsx("img",{src:m.mediaUrl,alt:"Post media",className:"w-full"})}),m.mediaUrl&&m.contentType==="video"&&s.jsx("div",{className:"rounded-xl overflow-hidden mb-4 bg-gray-900",children:s.jsx("video",{src:m.mediaUrl,controls:!0,className:"w-full"})})]}),K>0&&s.jsxs("button",{onClick:()=>na(m),className:"mx-4 mb-3 w-[calc(100%-2rem)] py-2.5 px-4 bg-indigo-500 text-white text-sm font-medium rounded-xl flex items-center justify-center gap-2 hover:bg-indigo-600 transition-colors shadow-sm",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),K," new ",K===1?"comment":"comments"," - Tap to load"]}),s.jsxs("div",{className:"px-4 pb-4",children:[s.jsxs("h2",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-indigo-500",children:st.comment}),m.comments.length," ",m.comments.length===1?"Comment":"Comments"]}),m.comments.length===0&&s.jsxs("div",{className:"bg-white/60 rounded-xl p-6 text-center text-gray-500",children:[s.jsx("p",{className:"mb-1",children:"No comments yet"}),s.jsx("p",{className:"text-sm",children:"Be the first to share your thoughts!"})]}),s.jsx("div",{className:"space-y-3",children:m.comments.map(F=>s.jsx(zg,{comment:F,onDelete:()=>In(F.id),onReport:()=>ca("comment",F.id),onEdit:()=>Pn(F.id,F.content),isEditing:de===F.id,editText:de===F.id?Oe:"",onEditTextChange:$,onEditSave:()=>es(F.id),onEditCancel:Hl,isEditSaving:S},F.id))})]})]})}),s.jsx("div",{className:"flex-shrink-0 p-4 bg-white border-t border-gray-100 shadow-lg",children:s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{value:Ne,onChange:F=>Ue(F.target.value),placeholder:"Write a thoughtful comment...",className:"w-full p-3 bg-gray-50 border-2 border-transparent rounded-xl resize-none focus:outline-none focus:border-indigo-300 focus:bg-white transition-all",rows:2}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx(Fu,{current:X,min:100}),s.jsx("button",{onClick:ut,disabled:!se||Z,className:`px-4 py-2 rounded-xl font-medium transition-all flex items-center gap-2 ${se?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:Z?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full spinner"}),"Posting..."]}):s.jsxs(s.Fragment,{children:[st.send,"Post"]})})]})]})})})]})},Ci=()=>s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 mode-header bg-indigo-600 text-white flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:sa,className:"p-1 hover:bg-indigo-700 rounded-lg transition-colors",children:st.back}),s.jsx("h1",{className:"text-lg font-bold",children:"New Post"})]}),s.jsx("button",{onClick:Ni,disabled:E||be,className:"px-4 py-2 bg-white text-indigo-600 rounded-xl font-semibold hover:bg-indigo-50 transition-colors disabled:opacity-50 flex items-center gap-2",children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-indigo-600 border-t-transparent rounded-full spinner"}),"Posting..."]}):"Share"})]}),_&&s.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-100 text-red-700 rounded-xl text-sm flex items-center gap-2 animate-slide-up",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),_]}),s.jsx("div",{className:"flex-1 overflow-y-auto gradient-social p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[s.jsxs("button",{onClick:()=>{H("text"),te(null)},className:`p-4 rounded-xl font-medium transition-all flex flex-col items-center gap-2 ${J==="text"&&!R?"bg-indigo-100 text-indigo-700 ring-2 ring-indigo-500":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[st.text,s.jsx("span",{className:"text-sm",children:"Text"})]}),s.jsxs("label",{className:`p-4 rounded-xl font-medium transition-all flex flex-col items-center gap-2 cursor-pointer ${J==="image"?"bg-indigo-100 text-indigo-700 ring-2 ring-indigo-500":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[st.image,s.jsx("span",{className:"text-sm",children:"Photo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:X=>ia(X,"image"),className:"hidden"})]}),s.jsxs("label",{className:`p-4 rounded-xl font-medium transition-all flex flex-col items-center gap-2 cursor-pointer ${J==="video"?"bg-indigo-100 text-indigo-700 ring-2 ring-indigo-500":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[st.video,s.jsx("span",{className:"text-sm",children:"Video"}),s.jsx("input",{type:"file",accept:"video/*",onChange:X=>ia(X,"video"),className:"hidden"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4",children:[s.jsx("textarea",{value:P,onChange:X=>Q(X.target.value),placeholder:R?"Add a caption (optional)...":"Share something meaningful with your class...",className:"w-full p-2 border-0 resize-none focus:outline-none focus:ring-0 text-gray-800 placeholder-gray-400 text-lg leading-relaxed max-h-[40vh]",rows:R?3:6,autoFocus:!0}),J==="text"&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:s.jsx(Fu,{current:P.length,min:100})})]}),be&&s.jsxs("div",{className:"bg-white rounded-xl p-8 text-center animate-fade-in",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full spinner mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Uploading media..."}),s.jsx("p",{className:"text-gray-400 text-sm",children:"This may take a moment"})]}),R&&J==="image"&&s.jsxs("div",{className:"relative bg-white rounded-xl overflow-hidden shadow-sm animate-fade-in",children:[s.jsx("img",{src:R.url,alt:"Preview",className:"w-full max-h-80 object-cover"}),s.jsx("button",{onClick:()=>{te(null),H("text")},className:"absolute top-3 right-3 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors",children:st.close})]}),R&&J==="video"&&s.jsxs("div",{className:"relative bg-white rounded-xl overflow-hidden shadow-sm animate-fade-in",children:[s.jsx("video",{src:R.url,controls:!0,className:"w-full max-h-80"}),s.jsx("button",{onClick:()=>{te(null),H("text")},className:"absolute top-3 right-3 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors",children:st.close})]})]})})]});return s.jsxs("div",{className:"h-full flex flex-col mode-social relative",children:[u==="feed"&&ts(),u==="post"&&wi(),u==="compose"&&Ci(),s.jsx(ng,{isOpen:q.isOpen,warningLevel:q.warningLevel,message:q.message,onEdit:Wn,onPostAnyway:Fa,onCancel:Ia}),pe&&s.jsx("div",{className:"fixed bottom-24 left-1/2 transform -translate-x-1/2 px-4 py-3 bg-gray-800 text-white rounded-xl shadow-lg animate-slide-up text-sm max-w-xs text-center z-50",children:pe})]})}const Ju="soul_preferred_language",Og=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"zh",name:""},{code:"vi",name:"Ting Vit"},{code:"tl",name:"Tagalog"},{code:"ko",name:""},{code:"ja",name:""},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"pt",name:"Portugus"},{code:"ru",name:""},{code:"ar",name:""}];function Dg({onModeChange:u}){const[r,f]=p.useState([]),[o,m]=p.useState(!1),[v,E]=p.useState(()=>localStorage.getItem(Ju)||"en"),[A,w]=p.useState(""),[y,_]=p.useState(!1),[C,U]=p.useState(null),V=p.useRef(null),G=p.useRef(null),B=p.useRef(null),J=p.useCallback(Z=>{f(le=>le.some(de=>de.id===Z.id)?le:[...le,Z])},[]),H=p.useCallback(Z=>{u&&u(Z)},[u]),P=p.useCallback(Z=>{m(Z)},[]),R=!it();p.useEffect(()=>{if(R)return;(async()=>{try{const de=await pi.getSession();de?.target_language&&(E(de.target_language),localStorage.setItem(Ju,de.target_language))}catch(le){console.error("Failed to load language preference:",le)}})()},[R]);const te=p.useCallback(async Z=>{E(Z),localStorage.setItem(Ju,Z);try{await pi.setSessionLanguage(Z==="en"?null:Z)}catch(le){console.error("Failed to save language preference:",le)}},[]);p.useEffect(()=>{if(!R)return G.current=new $u(J,H,P),G.current.connect(),()=>{G.current&&(G.current.disconnect(),G.current=null)}},[R,J,H,P]),p.useEffect(()=>{V.current&&(V.current.scrollTop=V.current.scrollHeight)},[r]);const be=p.useCallback(async Z=>{if(Z.trim()){_(!0);try{await Kt.createNote("lesson-default",Z),U(new Date)}catch(le){console.error("Failed to save note:",le)}finally{_(!1)}}},[]),ie=Z=>{w(Z),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{Z.trim()&&be(Z)},5e3)},Ne=()=>{B.current&&clearTimeout(B.current),A.trim()&&be(A)},Ue=()=>{A.trim()&&be(A),w("")};return s.jsxs("div",{className:"h-full flex flex-col mode-lesson",children:[s.jsx("div",{className:"flex-shrink-0 px-4 py-3 bg-purple-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-lg font-bold",children:"Live Lesson"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("select",{value:v,onChange:Z=>te(Z.target.value),className:"bg-purple-700 text-white text-sm rounded-lg px-2 py-1 border border-purple-500 focus:ring-2 focus:ring-purple-300",children:Og.map(Z=>s.jsx("option",{value:Z.code,children:Z.name},Z.code))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${o?"bg-green-400 animate-pulse":"bg-red-400"}`}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:o?"Live":"Offline"})]})]})]})}),R&&s.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 px-4 py-2 text-sm",children:"No session. Please log in to receive live instruction."}),!o&&!R&&s.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 px-4 py-2 text-sm flex items-center justify-between",children:[s.jsx("span",{children:"Connecting to live lesson..."}),s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"w-1/2 border-r border-gray-200 flex flex-col bg-gray-50",children:[s.jsx("div",{className:"px-4 py-2 bg-gray-100 border-b border-gray-200",children:s.jsxs("h2",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),"Teacher Notes"]})}),s.jsx("div",{ref:V,className:"flex-1 overflow-y-auto p-4",children:r.length===0?s.jsx("div",{className:"h-full flex items-center justify-center",children:o?s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),s.jsx("p",{className:"text-sm",children:"Waiting for teacher..."})]}):s.jsx("div",{className:"text-center text-gray-400",children:s.jsx("p",{className:"text-sm",children:"Connect to see teacher notes"})})}):s.jsx("div",{className:"space-y-3",children:r.map(Z=>s.jsx(kg,{entry:Z,showTranslation:v!=="en",targetLanguage:v},Z.id))})})]}),s.jsxs("div",{className:"w-1/2 flex flex-col bg-white",children:[s.jsxs("div",{className:"px-4 py-2 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h2",{className:"text-sm font-semibold text-gray-600 flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"My Notes"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[y&&s.jsx("span",{className:"text-xs text-gray-500",children:"Saving..."}),C&&!y&&s.jsxs("span",{className:"text-xs text-green-600",children:["Saved ",C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[s.jsx("textarea",{value:A,onChange:Z=>ie(Z.target.value),placeholder:"Type your notes here...",className:"flex-1 w-full resize-none border border-gray-200 rounded-lg p-3 text-gray-800 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx("button",{onClick:Ne,disabled:!A.trim()||y,className:"flex-1 py-2 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:y?"Saving...":"Save Note"}),s.jsx("button",{onClick:Ue,disabled:!A.trim(),className:"px-4 py-2 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"New"})]})]})]})]})]})}function kg({entry:u,showTranslation:r,targetLanguage:f}){const[o,m]=p.useState(u.translation||null),[v,E]=p.useState(!1);p.useEffect(()=>{if(!r||f==="en"){m(null);return}if(u.translation&&f==="es"){m(u.translation);return}(async()=>{E(!0);try{const _=await(await fetch("/api/instruction/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:u.text,target_language:f})})).json();_.success&&_.data?.translated&&m(_.data.translated)}catch(y){console.error("Translation failed:",y)}finally{E(!1)}})()},[u.text,r,f,u.translation]);const A=new Date(u.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-purple-600",children:"Teacher"}),s.jsx("span",{className:"text-xs text-gray-400",children:A})]}),s.jsx("p",{className:"text-gray-800 leading-relaxed select-none",children:u.text}),r&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:v?s.jsx("p",{className:"text-sm text-gray-400 italic",children:"Translating..."}):o?s.jsx("p",{className:"text-sm text-gray-600 italic",children:o}):null})]})}function Lg({initialSubMode:u="lesson",onModeChange:r}){const[f,o]=p.useState(u);return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-center gap-1 p-2 bg-purple-50 border-b border-purple-100",children:[s.jsx("button",{onClick:()=>o("lesson"),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${f==="lesson"?"bg-purple-600 text-white shadow-sm":"text-purple-600 hover:bg-purple-100"}`,children:"Lesson"}),s.jsx("button",{onClick:()=>o("instruction"),className:`px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${f==="instruction"?"bg-purple-600 text-white shadow-sm":"text-purple-600 hover:bg-purple-100"}`,children:"Listen"})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:f==="lesson"?s.jsx(Dg,{onModeChange:r}):s.jsx(sg,{onModeChange:r})})]})}const Ug=[{id:"tutor",title:"AI Tutor",description:"Get help understanding concepts with guided questions",color:"text-blue-600",bgColor:"bg-blue-100",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})},{id:"assessment",title:"Quiz",description:"Test your knowledge with adaptive questions",color:"text-emerald-600",bgColor:"bg-emerald-100",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}];function Bg({initialSubMode:u=null}){const[r,f]=p.useState(u),o=v=>{f(v)},m=()=>{f(null)};return r===null?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 bg-blue-600 text-white",children:[s.jsx("h1",{className:"text-lg font-bold",children:"Practice"}),s.jsx("p",{className:"text-sm text-blue-100",children:"Choose how you want to learn"})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(x0,{options:Ug,onSelect:o})})]}):s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx(y0,{title:r==="tutor"?"AI Tutor":"Quiz",onBack:m,color:r==="tutor"?"bg-blue-100 text-blue-800":"bg-emerald-100 text-emerald-800"}),s.jsx("div",{className:"flex-1 overflow-hidden",children:r==="tutor"?s.jsx(ug,{}):s.jsx(dg,{})})]})}function Hg(){return s.jsx("div",{className:"h-full",children:s.jsx(xg,{})})}const Rg=[{id:"social",title:"Classroom Feed",description:"Share and discuss with your classmates",color:"text-indigo-600",bgColor:"bg-indigo-100",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{id:"notes",title:"My Notes",description:"Organize your personal study notes",color:"text-red-600",bgColor:"bg-red-100",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}];function qg({initialSubMode:u=null}){const[r,f]=p.useState(u),o=v=>{f(v)},m=()=>{f(null)};return r===null?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 bg-indigo-600 text-white",children:[s.jsx("h1",{className:"text-lg font-bold",children:"Connect"}),s.jsx("p",{className:"text-sm text-indigo-100",children:"Share and organize your thoughts"})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(x0,{options:Rg,onSelect:o})})]}):s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx(y0,{title:r==="social"?"Classroom Feed":"My Notes",onBack:m,color:r==="social"?"bg-indigo-100 text-indigo-800":"bg-red-100 text-red-800"}),s.jsx("div",{className:"flex-1 overflow-hidden",children:r==="social"?s.jsx(_g,{}):s.jsx(Sg,{})})]})}const Yg={lesson:{tab:"learn",subMode:"lesson"},instruction:{tab:"learn",subMode:"instruction"},tutor:{tab:"practice",subMode:"tutor"},assessment:{tab:"practice",subMode:"assessment"},creator:{tab:"create"},notes:{tab:"connect",subMode:"notes"},social:{tab:"connect",subMode:"social"}},Iu="soul_current_tab",v0="soul_learn_submode";function Gg(){try{const u=localStorage.getItem(Iu);if(u&&["learn","practice","create","connect"].includes(u))return u}catch{}return"learn"}function Qg(){try{const u=localStorage.getItem(v0);if(u&&["lesson","instruction"].includes(u))return u}catch{}return"lesson"}function Xg(){const[u,r]=p.useState(!1),[f,o]=p.useState(!0),[m,v]=p.useState(Gg),[E,A]=p.useState(Qg),[w,y]=p.useState(null),[_,C]=p.useState(null),U=p.useRef(null),V=p.useRef(null);p.useEffect(()=>{(async()=>{const P=Ul.get(),Q=it();if(P||Q){if(Q)try{if(await pi.getSession()){r(!0),o(!1);return}else{g0(),Ul.clear(),o(!1);return}}catch(R){console.warn("API unavailable, using local session:",R)}P&&r(!0)}o(!1)})()},[]),p.useEffect(()=>{const H=P=>{P.preventDefault()};return document.addEventListener("contextmenu",H),()=>document.removeEventListener("contextmenu",H)},[]),p.useEffect(()=>{const H=P=>{P.target.matches('input, textarea, [contenteditable="true"]')||P.preventDefault()};return document.addEventListener("paste",H),()=>document.removeEventListener("paste",H)},[]),p.useEffect(()=>{const H=P=>{(P.ctrlKey||P.metaKey)&&P.key==="c"&&(P.target.matches('input, textarea, [contenteditable="true"]')||P.preventDefault()),(P.ctrlKey||P.metaKey)&&P.key==="u"&&P.preventDefault(),P.key==="F12"&&P.preventDefault()};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[]);const G=()=>{r(!0)},B=p.useCallback(H=>{v(H),localStorage.setItem(Iu,H),H==="practice"?y(null):H==="connect"&&C(null)},[]),J=p.useCallback(H=>{if(!["instruction","tutor","assessment","creator","notes","social","lesson"].includes(H))return;const Q=Yg[H];v(Q.tab),localStorage.setItem(Iu,Q.tab),Q.tab==="learn"&&Q.subMode?(A(Q.subMode),localStorage.setItem(v0,Q.subMode)):Q.tab==="practice"&&Q.subMode?(y(Q.subMode),U.current=Q.subMode):Q.tab==="connect"&&Q.subMode&&(C(Q.subMode),V.current=Q.subMode)},[]);return f?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full spinner"})}):u?s.jsxs("div",{className:"h-screen flex flex-col",children:[s.jsxs("main",{className:"flex-1 overflow-hidden pb-16",children:[m==="learn"&&s.jsx(Lg,{initialSubMode:E,onModeChange:J}),m==="practice"&&s.jsx(Bg,{initialSubMode:w}),m==="create"&&s.jsx(Hg,{}),m==="connect"&&s.jsx(qg,{initialSubMode:_})]}),s.jsx(Jh,{currentTab:m,onTabChange:B})]}):s.jsx(Zh,{onSessionStart:G})}Gh.createRoot(document.getElementById("root")).render(s.jsx(p.StrictMode,{children:s.jsx(Xg,{})}));
